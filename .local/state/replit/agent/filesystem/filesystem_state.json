{"file_contents":{"client/src/components/HeroSection.tsx":{"content":"import { Button } from \"@/components/ui/button\";\nimport { TruckIcon, PackageIcon, ShieldCheckIcon, BarChart3Icon } from \"lucide-react\";\nimport heroImage from \"@assets/generated_images/Logistics_hero_warehouse_scene_cd2ca2fb.png\";\n\nexport default function HeroSection() {\n  return (\n    <div className=\"relative h-[600px] w-full overflow-hidden\">\n      <div className=\"absolute inset-0\">\n        <img \n          src={heroImage} \n          alt=\"Modern logistics operations\" \n          className=\"h-full w-full object-cover\"\n        />\n        <div className=\"absolute inset-0 bg-gradient-to-r from-black/80 via-black/70 to-black/50\" />\n      </div>\n      \n      <div className=\"relative h-full max-w-7xl mx-auto px-6 flex items-center\">\n        <div className=\"max-w-2xl text-white\">\n          <h1 className=\"text-5xl font-bold mb-6 leading-tight\">\n            –ù–∞–¥–µ–∂–Ω–∞—è –ª–æ–≥–∏—Å—Ç–∏–∫–∞ –¥–ª—è –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞\n          </h1>\n          <p className=\"text-xl mb-8 text-white/90\">\n            –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å –≥—Ä—É–∑–æ–ø–µ—Ä–µ–≤–æ–∑–æ–∫ —Å –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π, —Å–∏—Å—Ç–µ–º–æ–π –∫–∞—á–µ—Å—Ç–≤–∞ RWS –∏ —É–º–Ω—ã–º –ø–æ–¥–±–æ—Ä–æ–º –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤\n          </p>\n          <div className=\"flex gap-4 flex-wrap\">\n            <Button \n              size=\"lg\" \n              variant=\"default\"\n              data-testid=\"button-get-started\"\n              className=\"h-12 px-8\"\n            >\n              –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É\n            </Button>\n            <Button \n              size=\"lg\" \n              variant=\"outline\"\n              data-testid=\"button-learn-more\"\n              className=\"h-12 px-8 bg-white/10 backdrop-blur-sm border-white/30 text-white hover:bg-white/20\"\n            >\n              –£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ\n            </Button>\n          </div>\n          \n          <div className=\"mt-12 grid grid-cols-2 md:grid-cols-4 gap-6\">\n            <div className=\"flex items-center gap-3\">\n              <TruckIcon className=\"w-8 h-8 text-primary\" />\n              <div>\n                <div className=\"text-2xl font-bold\">500+</div>\n                <div className=\"text-sm text-white/70\">–ü–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤</div>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-3\">\n              <PackageIcon className=\"w-8 h-8 text-accent\" />\n              <div>\n                <div className=\"text-2xl font-bold\">2,000+</div>\n                <div className=\"text-sm text-white/70\">–ê–∫—Ç–∏–≤–Ω—ã—Ö –≥—Ä—É–∑–æ–≤</div>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-3\">\n              <ShieldCheckIcon className=\"w-8 h-8 text-primary\" />\n              <div>\n                <div className=\"text-2xl font-bold\">98%</div>\n                <div className=\"text-sm text-white/70\">–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å</div>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-3\">\n              <BarChart3Icon className=\"w-8 h-8 text-accent\" />\n              <div>\n                <div className=\"text-2xl font-bold\">24/7</div>\n                <div className=\"text-sm text-white/70\">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":3283},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"server/db.ts":{"content":"import { Pool, neonConfig } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport ws from \"ws\";\nimport * as schema from \"@shared/schema\";\n\nneonConfig.webSocketConstructor = ws;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle({ client: pool, schema });\n","size_bytes":483},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"replit.md":{"content":"# LogiFlex.kz - Logistics Marketplace Platform\n\n## Overview\nLogiFlex.kz is a comprehensive logistics marketplace platform for Kazakhstan that connects shippers with reliable carriers. The platform features quality-assured freight services with smart matching algorithms and government integration capabilities.\n\n## Current Status\n**Phase 1 - MVP Implementation in Progress**\n\n### Completed Features\n- ‚úÖ High-fidelity UI prototype with professional design\n- ‚úÖ Replit Auth integration with role-based access control (shipper, carrier, admin)\n- ‚úÖ PostgreSQL database schema with complete data model\n- ‚úÖ Full CRUD API for cargo listings, bids, and transactions\n- ‚úÖ RWS (Reputation Weight Score) calculation engine\n- ‚úÖ Dashboard analytics endpoints\n- ‚úÖ User profile page with –ë–ò–ù/–ò–ò–ù validation and –≠–¶–ü certificate support\n- ‚úÖ Two-way chat system between Shipper and Carrier with auto-refresh (5s polling)\n\n### Role-Based System\nUsers can have one of three roles:\n1. **Shipper** - Can create cargo listings and accept bids\n2. **Carrier** - Can browse cargo and submit bids\n3. **Admin** - Full platform access\n\n## Tech Stack\n\n### Frontend\n- React with TypeScript\n- Wouter for routing\n- TanStack Query for data fetching\n- Tailwind CSS + Shadcn UI components\n- Material Design principles\n\n### Backend\n- Express.js with TypeScript\n- PostgreSQL database with Drizzle ORM\n- Replit Auth (OpenID Connect)\n- Session management with connect-pg-simple\n\n## Project Structure\n\n```\n‚îú‚îÄ‚îÄ client/\n‚îÇ   ‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/          # Reusable UI components\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HeroSection.tsx\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CargoCard.tsx\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BidCard.tsx\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RWSScore.tsx\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TransactionTimeline.tsx\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TransactionChat.tsx\n‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/               # Page components\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ landing.tsx      # Public landing page\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ home.tsx         # Authenticated home\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard.tsx    # User dashboard\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ profile.tsx      # User profile with –ë–ò–ù/–ò–ò–ù\n‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ transaction-detail.tsx # Transaction tracking + chat\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/               # Custom React hooks\n‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useAuth.ts\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ lib/                 # Utilities\n‚îÇ   ‚îî‚îÄ‚îÄ index.css                # Design system colors\n‚îú‚îÄ‚îÄ server/\n‚îÇ   ‚îú‚îÄ‚îÄ routes.ts                # API endpoints\n‚îÇ   ‚îú‚îÄ‚îÄ storage.ts               # Database operations\n‚îÇ   ‚îú‚îÄ‚îÄ replitAuth.ts            # Authentication setup\n‚îÇ   ‚îî‚îÄ‚îÄ db.ts                    # Database connection\n‚îî‚îÄ‚îÄ shared/\n    ‚îî‚îÄ‚îÄ schema.ts                # Shared TypeScript types & DB schema\n\n```\n\n## Database Schema\n\n### Tables\n- `users` - User accounts with role, RWS score, –ë–ò–ù/–ò–ò–ù, and –≠–¶–ü certificate info\n- `cargo` - Cargo listings from shippers\n- `bids` - Carrier bids on cargo\n- `transactions` - Deal lifecycle tracking\n- `messages` - Two-way chat messages between shipper and carrier\n- `rws_metrics` - Quality metrics for reputation scoring\n- `sessions` - Authentication sessions\n\n## API Endpoints\n\n### Authentication & Profile\n- `GET /api/login` - Initiate login flow\n- `GET /api/logout` - Logout\n- `GET /api/auth/user` - Get current user\n- `PATCH /api/auth/user/role` - Update user role\n- `PATCH /api/auth/user/profile` - Update user profile (–ë–ò–ù/–ò–ò–ù, company, etc.)\n\n### Cargo Management\n- `POST /api/cargo` - Create cargo listing (shipper only)\n- `GET /api/cargo` - List all cargo (with filters)\n- `GET /api/cargo/:id` - Get cargo details\n- `PATCH /api/cargo/:id` - Update cargo\n- `DELETE /api/cargo/:id` - Delete cargo\n\n### Bidding System\n- `POST /api/bids` - Place bid (carrier only)\n- `GET /api/cargo/:cargoId/bids` - Get bids for cargo\n- `GET /api/bids/my-bids` - Get carrier's bids\n- `PATCH /api/bids/:id/status` - Accept/reject bid\n\n### Transactions & Communication\n- `GET /api/transactions` - List user transactions\n- `GET /api/transactions/:id` - Get transaction details\n- `PATCH /api/transactions/:id/status` - Update transaction status\n- `POST /api/messages` - Send message in transaction chat (participants only)\n- `GET /api/messages/:transactionId` - Get transaction message history (participants only)\n\n### Quality (RWS)\n- `POST /api/rws` - Submit quality rating\n- `GET /api/rws/:userId` - Get user RWS metrics\n\n### Analytics\n- `GET /api/analytics/dashboard` - Get dashboard statistics\n\n## Design System\n\n### Colors\n- **Primary**: Blue (#2B7FD8) - Trust and reliability\n- **Accent**: Green (#6BB96B) - Success and growth\n- **Background**: Light gray (#FAFAFA)\n- **Card**: Slightly elevated (#F5F5F5)\n\n### Typography\n- **Font Family**: Roboto (sans-serif)\n- **Monospace**: Roboto Mono (for data/numbers)\n\n### Components\nAll components follow Material Design principles with:\n- Consistent spacing (p-4, p-6, p-8)\n- Hover interactions (hover-elevate utility)\n- Professional logistics theme\n- Responsive mobile-first design\n\n## Development Workflow\n\n### Running the Application\n```bash\nnpm run dev  # Starts both frontend and backend\n```\n\n### Database Management\n```bash\nnpm run db:push        # Sync schema to database\nnpm run db:push --force # Force sync (use with caution)\nnpm run db:studio      # Open Drizzle Studio\n```\n\n## Next Implementation Steps\n\n### Phase 1 Remaining Tasks\n1. ‚úÖ Authentication and role-based access\n2. ‚úÖ Database schema and storage layer\n3. ‚è≥ Connect frontend to real APIs (remove mock data)\n4. ‚è≥ Implement cargo creation flow\n5. ‚è≥ Build bidding workflow\n6. ‚è≥ Transaction lifecycle management\n7. ‚è≥ RWS rating system UI\n8. ‚è≥ Analytics dashboard with real data\n9. ‚è≥ Mock government integration interfaces (EDS, e-invoicing)\n\n### Future Enhancements (Phase 2+)\n- Real Kazakhstan government API integrations\n- Advanced smart matching algorithms\n- Real-time notifications via WebSockets\n- Payment processing integration\n- Document upload and verification\n- Dispute resolution system\n- Mobile app development\n\n## Environment Variables\n```\nDATABASE_URL=<postgres-connection-string>\nSESSION_SECRET=<auto-generated>\nREPL_ID=<replit-project-id>\nISSUER_URL=https://replit.com/oidc\n```\n\n## User Preferences\n- Professional, enterprise-focused design\n- Russian language interface (Kazakh coming later)\n- Blue and green color scheme\n- Material Design aesthetics\n- Data-dense, efficient layouts\n\n## Recent Changes\n- **2025-11-05**: Completed migration to Replit environment (496 packages installed)\n- **2025-11-05**: Fixed React warnings in Footer component (nested anchor tags)\n- **2025-11-05**: Application successfully running on port 5000\n- **2025-11-07**: Completed authentication system with Replit Auth\n- **2025-11-07**: Implemented complete database schema\n- **2025-11-07**: Built all backend API endpoints\n- **2025-11-07**: Created landing page for unauthenticated users\n- **2025-11-07**: Initial MVP prototype with high-fidelity UI components\n- **2025-11-07**: Added user profile page with –ë–ò–ù/–ò–ò–ù validation (optional 12-digit fields)\n- **2025-11-07**: Implemented –≠–¶–ü certificate support in user profile\n- **2025-11-07**: Created two-way chat system for transaction participants with 5s auto-refresh\n- **2025-11-07**: Integrated chat component into transaction detail page with proper authorization\n- **2025-11-07**: Implemented multi-tenancy system with companyId field in all tables\n- **2025-11-07**: Added companyId validation in cargo creation (users must have a company ID)\n- **2025-11-07**: Implemented responsive design for mobile devices (mobile menu, adaptive grids)\n- **2025-11-07**: Added dark theme support with ThemeProvider and theme toggle in Header\n- **2025-11-07**: Replaced loading spinners with skeleton loaders (StatsCardSkeleton, CargoCardSkeleton)\n\n---\n\n## SaaS & Modular Architecture Strategy\n\n### I. SaaS Platform Requirements\n\nLogiFlex.kz is being built as a multi-tenant SaaS platform with the following core requirements:\n\n| Requirement | Description | Justification |\n|------------|-------------|---------------|\n| **Multi-Tenancy** | Single application instance serves multiple clients (Shippers and Carriers) | Cost efficiency: Reduces maintenance and deployment costs |\n| **Scalability** | Architecture must scale to handle growing transactions, especially during auction peaks | Reliability: Ensures high availability |\n| **Zero-Downtime Updates** | Updates and new modules deployed without service interruption | Flexibility: Rapid deployment of improvements and features |\n| **Data Security** | Strict data separation between clients, compliance with Kazakhstan data protection standards | Trust: Critical for legally significant documents (EDS/ECP) |\n\n### II. Modular Architecture\n\nThe platform is divided into independent functional modules. Users access modules based on their subscription tier:\n\n| Module | Functionality | Implementation Phase | Access Level |\n|--------|--------------|---------------------|--------------|\n| **Core** | Registration, Auction 1.0/2.0 (RWS), Basic Rating | MVP & Phase 1 | Basic (Freemium) |\n| **GovDocs** | E-TTN, EDS/ECP, Electronic Acts | Phase 1 | Standard (for Shippers) |\n| **Tracking & Compliance** | GPS Tracking, Geo-timer, Downtime Calculation | Phase 1 | Standard (for Carriers) |\n| **TMS Lite** | Fleet management, expense tracking (fuel/maintenance), driver management | Phase 2 | Professional (for Carriers) |\n| **FinTech** | Built-in Factoring, Accelerated payments | Phase 2 | Professional (by request) |\n| **Analytics & AI** | Predictive price analytics, Bid advisor | Phase 2 | Premium |\n\n### III. Phase 1 Module Details\n\n#### üá∞üáø GovDocs Module (Government Integration)\n- **ID F1.1.1-4**: Integration with E-TTN, EDS/ECP, Electronic Acts\n  - Core module function accessible only to users with Standard+ subscription\n  - Enables legally compliant document workflow\n  \n- **ID F1.4.1-2**: Document Storage and Expiration Notifications\n  - Basic document management included in Core for verification\n  - Extended management with reminders part of Tracking & Compliance module\n\n#### üìä Core Upgrade (RWS System)\n- **ID F1.2.1-3**: RWS Calculation and Auction 2.0\n  - Integrated into Core module\n  - RWS is key to auction mechanism and available to all Core users to ensure platform quality\n\n#### üõ∞Ô∏è Tracking & Compliance Module\n- **ID F1.3.1-3**: GPS Tracking, Geo-timer, Downtime Invoicing\n  - Core module functionality\n  - GPS tracking and automated calculations are premium services\n  - Included in Standard subscription or sold as add-on package\n\n### IV. Monetization Model (SaaS Approach)\n\nCombines transaction fees with subscription tiers:\n\n| Tier | Target Audience | Cost/Commission | Available Modules |\n|------|----------------|-----------------|-------------------|\n| **Freemium (Basic)** | New/Small players | 1.5% commission (revenue from transactions only) | Core (Auction 1.0/2.0, Basic rating) |\n| **Standard** | Active Shippers/Carriers | 3.5% commission + Fixed fee for E-TTN | Core + GovDocs + Tracking & Compliance (all Phase 1 features) |\n| **Professional** | Large Carriers/3PL operators | Monthly subscription 10,000+ KZT + Reduced commission | Standard + TMS Lite + Advanced reports |\n\n### V. Implementation Strategy\n\n**Phase 1 Focus**: GovDocs and Tracking & Compliance modules form the foundation for future subscription levels. The Standard subscription unlocks legally compliant E-TTN document workflow, which is the key value proposition.\n\n**Immediate Monetization**: Launch Phase 1 with Standard subscription as the gateway to legally compliant freight documentation (E-TTN/EDS integration).\n\n**Future Expansion**: Phase 2+ will add TMS Lite, FinTech, and Analytics modules for Professional and Premium tiers.","size_bytes":11921},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"server/storage.ts":{"content":"import {\n  users,\n  cargo,\n  bids,\n  transactions,\n  rwsMetrics,\n  messages,\n  notifications,\n  sessions,\n  type User,\n  type UpsertUser,\n  type UpdateUserProfile,\n  type Cargo,\n  type InsertCargo,\n  type Bid,\n  type InsertBid,\n  type Transaction,\n  type InsertTransaction,\n  type RWSMetric,\n  type InsertRWSMetric,\n  type Message,\n  type InsertMessage,\n  type Notification,\n  type InsertNotification,\n} from \"@shared/schema\";\nimport { db } from \"./db\";\nimport { eq, and, desc, sql } from \"drizzle-orm\";\n\nexport interface IStorage {\n  // User operations (mandatory for Replit Auth)\n  getUser(id: string): Promise<User | undefined>;\n  upsertUser(user: UpsertUser): Promise<User>;\n  updateUserRole(id: string, role: \"shipper\" | \"carrier\" | \"admin\"): Promise<User>;\n  updateUserProfile(id: string, profile: UpdateUserProfile): Promise<User>;\n  \n  // Cargo operations\n  createCargo(userId: string, cargo: InsertCargo): Promise<Cargo>;\n  getCargo(id: string): Promise<Cargo | undefined>;\n  listCargo(filters?: { status?: string; userId?: string; companyId?: string }): Promise<Cargo[]>;\n  updateCargo(id: string, userId: string, updates: Partial<InsertCargo>): Promise<Cargo>;\n  deleteCargo(id: string, userId: string): Promise<void>;\n  \n  // Bid operations\n  createBid(carrierId: string, bid: InsertBid): Promise<Bid>;\n  getBid(id: string): Promise<Bid | undefined>;\n  listBidsForCargo(cargoId: string): Promise<Bid[]>;\n  listBidsByCarrier(carrierId: string): Promise<Bid[]>;\n  updateBidStatus(id: string, status: \"pending\" | \"accepted\" | \"rejected\"): Promise<Bid>;\n  \n  // Transaction operations\n  createTransaction(transaction: InsertTransaction): Promise<Transaction>;\n  getTransaction(id: string): Promise<Transaction | undefined>;\n  listTransactions(userId: string): Promise<Transaction[]>;\n  updateTransactionStatus(id: string, status: string): Promise<Transaction>;\n  \n  // RWS operations\n  createRWSMetric(metric: InsertRWSMetric): Promise<RWSMetric>;\n  getRWSMetricsForUser(userId: string): Promise<RWSMetric[]>;\n  calculateUserRWS(userId: string): Promise<number>;\n  \n  // Message operations\n  createMessage(senderId: string, message: InsertMessage): Promise<Message>;\n  getMessages(transactionId: string): Promise<Message[]>;\n  \n  // Notification operations\n  createNotification(notification: InsertNotification): Promise<Notification>;\n  getNotifications(userId: string): Promise<Notification[]>;\n  markNotificationAsRead(id: string, userId: string): Promise<Notification>;\n  markAllNotificationsAsRead(userId: string): Promise<void>;\n  deleteNotification(id: string, userId: string): Promise<void>;\n  \n  // Session operations\n  getSession(sid: string): Promise<any | undefined>;\n}\n\nexport class DatabaseStorage implements IStorage {\n  // User operations\n  async getUser(id: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.id, id));\n    return user;\n  }\n\n  async upsertUser(userData: UpsertUser): Promise<User> {\n    const [user] = await db\n      .insert(users)\n      .values(userData)\n      .onConflictDoUpdate({\n        target: users.id,\n        set: {\n          ...userData,\n          updatedAt: new Date(),\n        },\n      })\n      .returning();\n    return user;\n  }\n\n  async updateUserRole(id: string, role: \"shipper\" | \"carrier\" | \"admin\"): Promise<User> {\n    const [user] = await db\n      .update(users)\n      .set({ role, updatedAt: new Date() })\n      .where(eq(users.id, id))\n      .returning();\n    return user;\n  }\n\n  async updateUserProfile(id: string, profile: UpdateUserProfile): Promise<User> {\n    let companyId: string | undefined = undefined;\n    \n    if (profile.bin) {\n      companyId = profile.bin;\n    } else if (profile.iin) {\n      companyId = profile.iin;\n    }\n    \n    const [user] = await db\n      .update(users)\n      .set({ \n        ...profile, \n        companyId,\n        updatedAt: new Date() \n      })\n      .where(eq(users.id, id))\n      .returning();\n    return user;\n  }\n\n  // Cargo operations\n  async createCargo(userId: string, cargoData: InsertCargo): Promise<Cargo> {\n    const user = await this.getUser(userId);\n    if (!user) {\n      throw new Error(\"User not found\");\n    }\n    if (!user.companyId) {\n      throw new Error(\"User must have a company ID to create cargo\");\n    }\n    const [newCargo] = await db\n      .insert(cargo)\n      .values({ ...cargoData, userId, companyId: user.companyId })\n      .returning();\n    return newCargo;\n  }\n\n  async getCargo(id: string): Promise<Cargo | undefined> {\n    const [cargoItem] = await db.select().from(cargo).where(eq(cargo.id, id));\n    return cargoItem;\n  }\n\n  async listCargo(filters?: { status?: string; userId?: string; companyId?: string }): Promise<Cargo[]> {\n    const conditions = [];\n    \n    if (filters?.status) {\n      conditions.push(eq(cargo.status, filters.status as any));\n    }\n    \n    if (filters?.userId) {\n      conditions.push(eq(cargo.userId, filters.userId));\n    }\n    \n    if (filters?.companyId) {\n      conditions.push(eq(cargo.companyId, filters.companyId));\n    }\n    \n    if (conditions.length > 0) {\n      return await db\n        .select()\n        .from(cargo)\n        .where(and(...conditions))\n        .orderBy(desc(cargo.createdAt));\n    }\n    \n    return await db.select().from(cargo).orderBy(desc(cargo.createdAt));\n  }\n\n  async updateCargo(id: string, userId: string, updates: Partial<InsertCargo>): Promise<Cargo> {\n    const [updated] = await db\n      .update(cargo)\n      .set({ ...updates, updatedAt: new Date() })\n      .where(and(eq(cargo.id, id), eq(cargo.userId, userId)))\n      .returning();\n    \n    if (!updated) {\n      throw new Error(\"Cargo not found or unauthorized\");\n    }\n    \n    return updated;\n  }\n\n  async deleteCargo(id: string, userId: string): Promise<void> {\n    const result = await db\n      .delete(cargo)\n      .where(and(eq(cargo.id, id), eq(cargo.userId, userId)))\n      .returning();\n    \n    if (result.length === 0) {\n      throw new Error(\"Cargo not found or unauthorized\");\n    }\n  }\n\n  // Bid operations\n  async createBid(carrierId: string, bidData: InsertBid): Promise<Bid> {\n    const [newBid] = await db\n      .insert(bids)\n      .values({ ...bidData, carrierId })\n      .returning();\n    return newBid;\n  }\n\n  async getBid(id: string): Promise<Bid | undefined> {\n    const [bid] = await db.select().from(bids).where(eq(bids.id, id));\n    return bid;\n  }\n\n  async listBidsForCargo(cargoId: string): Promise<Bid[]> {\n    return await db\n      .select()\n      .from(bids)\n      .where(eq(bids.cargoId, cargoId))\n      .orderBy(desc(bids.createdAt));\n  }\n\n  async listBidsByCarrier(carrierId: string): Promise<Bid[]> {\n    return await db\n      .select()\n      .from(bids)\n      .where(eq(bids.carrierId, carrierId))\n      .orderBy(desc(bids.createdAt));\n  }\n\n  async updateBidStatus(id: string, status: \"pending\" | \"accepted\" | \"rejected\"): Promise<Bid> {\n    const [updated] = await db\n      .update(bids)\n      .set({ status, updatedAt: new Date() })\n      .where(eq(bids.id, id))\n      .returning();\n    return updated;\n  }\n\n  // Transaction operations\n  async createTransaction(transactionData: InsertTransaction): Promise<Transaction> {\n    const [newTransaction] = await db\n      .insert(transactions)\n      .values(transactionData)\n      .returning();\n    return newTransaction;\n  }\n\n  async getTransaction(id: string): Promise<Transaction | undefined> {\n    const [transaction] = await db.select().from(transactions).where(eq(transactions.id, id));\n    return transaction;\n  }\n\n  async listTransactions(userId: string): Promise<Transaction[]> {\n    return await db\n      .select()\n      .from(transactions)\n      .where(\n        sql`${transactions.shipperId} = ${userId} OR ${transactions.carrierId} = ${userId}`\n      )\n      .orderBy(desc(transactions.createdAt));\n  }\n\n  async updateTransactionStatus(id: string, status: string): Promise<Transaction> {\n    const updates: any = { \n      status: status as any, \n      updatedAt: new Date(),\n    };\n    \n    if (status === \"completed\") {\n      updates.completedAt = new Date();\n    }\n    \n    const [updated] = await db\n      .update(transactions)\n      .set(updates)\n      .where(eq(transactions.id, id))\n      .returning();\n    return updated;\n  }\n\n  // RWS operations\n  async createRWSMetric(metricData: InsertRWSMetric): Promise<RWSMetric> {\n    const [newMetric] = await db\n      .insert(rwsMetrics)\n      .values(metricData)\n      .returning();\n    return newMetric;\n  }\n\n  async getRWSMetricsForUser(userId: string): Promise<RWSMetric[]> {\n    return await db\n      .select()\n      .from(rwsMetrics)\n      .where(eq(rwsMetrics.userId, userId))\n      .orderBy(desc(rwsMetrics.createdAt));\n  }\n\n  async calculateUserRWS(userId: string): Promise<number> {\n    const metrics = await this.getRWSMetricsForUser(userId);\n    \n    if (metrics.length === 0) {\n      return 0;\n    }\n    \n    const totalScore = metrics.reduce((sum, metric) => sum + metric.overallScore, 0);\n    const averageScore = Math.round(totalScore / metrics.length);\n    \n    await db\n      .update(users)\n      .set({ rwsScore: averageScore, updatedAt: new Date() })\n      .where(eq(users.id, userId));\n    \n    return averageScore;\n  }\n\n  // Message operations\n  async createMessage(senderId: string, messageData: InsertMessage): Promise<Message> {\n    const [newMessage] = await db\n      .insert(messages)\n      .values({ ...messageData, senderId })\n      .returning();\n    return newMessage;\n  }\n\n  async getMessages(transactionId: string): Promise<Message[]> {\n    return await db\n      .select()\n      .from(messages)\n      .where(eq(messages.transactionId, transactionId))\n      .orderBy(messages.createdAt);\n  }\n\n  // Notification operations\n  async createNotification(notificationData: InsertNotification): Promise<Notification> {\n    const [newNotification] = await db\n      .insert(notifications)\n      .values(notificationData)\n      .returning();\n    return newNotification;\n  }\n\n  async getNotifications(userId: string): Promise<Notification[]> {\n    return await db\n      .select()\n      .from(notifications)\n      .where(eq(notifications.userId, userId))\n      .orderBy(desc(notifications.createdAt));\n  }\n\n  async markNotificationAsRead(id: string, userId: string): Promise<Notification> {\n    const [notification] = await db\n      .update(notifications)\n      .set({ isRead: true })\n      .where(and(eq(notifications.id, id), eq(notifications.userId, userId)))\n      .returning();\n    return notification;\n  }\n\n  async markAllNotificationsAsRead(userId: string): Promise<void> {\n    await db\n      .update(notifications)\n      .set({ isRead: true })\n      .where(eq(notifications.userId, userId));\n  }\n\n  async deleteNotification(id: string, userId: string): Promise<void> {\n    await db\n      .delete(notifications)\n      .where(and(eq(notifications.id, id), eq(notifications.userId, userId)));\n  }\n  \n  // Session operations\n  async getSession(sid: string): Promise<any | undefined> {\n    const [session] = await db\n      .select()\n      .from(sessions)\n      .where(eq(sessions.sid, sid));\n    return session?.sess;\n  }\n}\n\nexport const storage = new DatabaseStorage();","size_bytes":11149},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { ThemeProvider } from \"@/components/ThemeProvider\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport LandingPage from \"@/pages/landing\";\nimport HomePage from \"@/pages/home\";\nimport DashboardPage from \"@/pages/dashboard\";\nimport MarketplacePage from \"@/pages/marketplace\";\nimport CreateCargoPage from \"@/pages/create-cargo\";\nimport CargoDetailPage from \"@/pages/cargo-detail\";\nimport TransactionDetailPage from \"@/pages/transaction-detail\";\nimport ProfilePage from \"@/pages/profile\";\nimport NotFound from \"@/pages/not-found\";\n\nfunction Router() {\n  const { isAuthenticated, isLoading } = useAuth();\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\"></div>\n          <p className=\"text-muted-foreground\">–ó–∞–≥—Ä—É–∑–∫–∞...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <Switch>\n      {!isAuthenticated ? (\n        <Route path=\"/\" component={LandingPage} />\n      ) : (\n        <>\n          <Route path=\"/\" component={HomePage} />\n          <Route path=\"/dashboard\" component={DashboardPage} />\n          <Route path=\"/marketplace\" component={MarketplacePage} />\n          <Route path=\"/cargo/create\" component={CreateCargoPage} />\n          <Route path=\"/cargo/:id\" component={CargoDetailPage} />\n          <Route path=\"/transactions/:id\" component={TransactionDetailPage} />\n          <Route path=\"/profile\" component={ProfilePage} />\n        </>\n      )}\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <ThemeProvider defaultTheme=\"light\">\n        <TooltipProvider>\n          <Toaster />\n          <Router />\n        </TooltipProvider>\n      </ThemeProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","size_bytes":2182},"client/src/hooks/useAuth.ts":{"content":"import { useQuery } from \"@tanstack/react-query\";\n\nexport function useAuth() {\n  const { data: user, isLoading } = useQuery({\n    queryKey: [\"/api/auth/user\"],\n    retry: false,\n  });\n\n  return {\n    user,\n    isLoading,\n    isAuthenticated: !!user,\n  };\n}","size_bytes":256},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\nimport { setupWebSocket } from \"./websocket\";\n\nconst app = express();\n\ndeclare module 'http' {\n  interface IncomingMessage {\n    rawBody: unknown\n  }\n}\napp.use(express.json({\n  verify: (req, _res, buf) => {\n    req.rawBody = buf;\n  }\n}));\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"‚Ä¶\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  setupWebSocket(server);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":2283},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n  \" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          // Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color.\n          \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n        secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n        ghost: \"border border-transparent\",\n      },\n      // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n      // inside buttons. With a min-height they will look appropriate with small amounts of content,\n      // but will expand to fit large amounts of content.\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":2359},"client/src/components/examples/TransactionTimeline.tsx":{"content":"import TransactionTimeline from '../TransactionTimeline';\n\nexport default function TransactionTimelineExample() {\n  const steps = [\n    {\n      id: \"1\",\n      title: \"–ì—Ä—É–∑ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω\",\n      status: \"completed\" as const,\n      timestamp: \"2025-11-05 10:30\",\n      description: \"–ì—Ä—É–∑–æ–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å —Å–æ–∑–¥–∞–ª –∑–∞—è–≤–∫—É\"\n    },\n    {\n      id: \"2\",\n      title: \"–ü–æ–ª—É—á–µ–Ω—ã –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è\",\n      status: \"completed\" as const,\n      timestamp: \"2025-11-05 14:20\",\n      description: \"5 –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤ —Å–¥–µ–ª–∞–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è\"\n    },\n    {\n      id: \"3\",\n      title: \"–í—ã–±—Ä–∞–Ω –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫\",\n      status: \"current\" as const,\n      timestamp: \"2025-11-06 09:15\",\n      description: \"–û–∂–∏–¥–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞\"\n    },\n    {\n      id: \"4\",\n      title: \"–ì—Ä—É–∑ –≤ –ø—É—Ç–∏\",\n      status: \"pending\" as const\n    },\n    {\n      id: \"5\",\n      title: \"–î–æ—Å—Ç–∞–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞\",\n      status: \"pending\" as const\n    }\n  ];\n\n  return (\n    <div className=\"p-6 max-w-md\">\n      <TransactionTimeline steps={steps} />\n    </div>\n  );\n}","size_bytes":1169},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"client/src/pages/home.tsx":{"content":"import HeroSection from \"@/components/HeroSection\";\nimport FeatureCard from \"@/components/FeatureCard\";\nimport CargoCard from \"@/components/CargoCard\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport { Button } from \"@/components/ui/button\";\nimport { \n  ShieldCheckIcon, \n  BarChart3Icon, \n  FileTextIcon, \n  ZapIcon,\n  ArrowRightIcon \n} from \"lucide-react\";\nimport { Link } from \"wouter\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport type { Cargo } from \"@shared/schema\";\nimport { Loader2 } from \"lucide-react\";\nimport CargoCardSkeleton from \"@/components/skeletons/CargoCardSkeleton\";\n\nexport default function HomePage() {\n  const { data: cargoList, isLoading, isError, error, refetch } = useQuery<Cargo[]>({\n    queryKey: [\"/api/cargo\"],\n  });\n\n  return (\n    <div className=\"min-h-screen flex flex-col\">\n      <Header />\n      \n      <main className=\"flex-1\">\n        <HeroSection />\n        \n        <section className=\"max-w-7xl mx-auto px-4 sm:px-6 py-12 sm:py-20\">\n          <div className=\"text-center mb-8 sm:mb-12\">\n            <h2 className=\"text-2xl sm:text-3xl font-bold mb-3 sm:mb-4\">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</h2>\n            <p className=\"text-base sm:text-lg text-muted-foreground px-4\">\n              –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ–π –ª–æ–≥–∏—Å—Ç–∏–∫–∏\n            </p>\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            <FeatureCard\n              icon={ShieldCheckIcon}\n              title=\"–°–∏—Å—Ç–µ–º–∞ RWS\"\n              description=\"–†–µ–ø—É—Ç–∞—Ü–∏–æ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Ä—ã–Ω–∫–∞\"\n            />\n            <FeatureCard\n              icon={FileTextIcon}\n              title=\"–ì–æ—Å. –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è\"\n              description=\"–≠–¶–ü, —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ –∏ —Å–∞–Ω–∫—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏\"\n            />\n            <FeatureCard\n              icon={ZapIcon}\n              title=\"–£–º–Ω—ã–π –ø–æ–¥–±–æ—Ä\"\n              description=\"–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤\"\n            />\n            <FeatureCard\n              icon={BarChart3Icon}\n              title=\"–ê–Ω–∞–ª–∏—Ç–∏–∫–∞\"\n              description=\"–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –ø—Ä–æ–≥–Ω–æ–∑—ã —Ä—ã–Ω–∫–∞\"\n            />\n          </div>\n        </section>\n        \n        <section className=\"bg-card py-12 sm:py-20\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6\">\n            <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 sm:mb-8 gap-4\">\n              <div>\n                <h2 className=\"text-2xl sm:text-3xl font-bold mb-1 sm:mb-2\">–ê–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä—É–∑—ã</h2>\n                <p className=\"text-sm sm:text-base text-muted-foreground\">\n                  –ù–∞–π–¥–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –≥—Ä—É–∑—ã –¥–ª—è –ø–µ—Ä–µ–≤–æ–∑–∫–∏\n                </p>\n              </div>\n              <Link href=\"/cargo\" className=\"no-underline\">\n                <Button variant=\"outline\" data-testid=\"button-view-all-cargo\" className=\"w-full sm:w-auto\">\n                  –í—Å–µ –≥—Ä—É–∑—ã\n                  <ArrowRightIcon className=\"w-4 h-4 ml-2\" />\n                </Button>\n              </Link>\n            </div>\n            \n            {isLoading ? (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                <CargoCardSkeleton />\n                <CargoCardSkeleton />\n                <CargoCardSkeleton />\n              </div>\n            ) : isError ? (\n              <div className=\"text-center py-20\">\n                <p className=\"text-destructive text-lg mb-4\">\n                  –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≥—Ä—É–∑–æ–≤\n                </p>\n                <p className=\"text-muted-foreground text-sm mb-6\">\n                  {error instanceof Error ? error.message : '–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ'}\n                </p>\n                <Button \n                  variant=\"outline\" \n                  onClick={() => refetch()}\n                  data-testid=\"button-retry-cargo\"\n                >\n                  –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞\n                </Button>\n              </div>\n            ) : cargoList && cargoList.length > 0 ? (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                {cargoList.slice(0, 3).map(cargo => (\n                  <CargoCard \n                    key={cargo.id} \n                    id={cargo.id}\n                    title={cargo.title}\n                    origin={cargo.origin}\n                    destination={cargo.destination}\n                    weight={parseFloat(cargo.weight)}\n                    price={parseFloat(cargo.price)}\n                    pickupDate={new Date(cargo.pickupDate).toISOString().split('T')[0]}\n                    status={cargo.status}\n                    category={cargo.category}\n                  />\n                ))}\n              </div>\n            ) : (\n              <div className=\"text-center py-20\">\n                <p className=\"text-muted-foreground text-lg\">\n                  –ü–æ–∫–∞ –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –≥—Ä—É–∑–æ–≤. –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π –≥—Ä—É–∑!\n                </p>\n              </div>\n            )}\n          </div>\n        </section>\n        \n        <section className=\"max-w-7xl mx-auto px-6 py-20\">\n          <div className=\"bg-primary text-primary-foreground rounded-lg p-12 text-center\">\n            <h2 className=\"text-3xl font-bold mb-4\">\n              –ì–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É?\n            </h2>\n            <p className=\"text-lg mb-8 text-primary-foreground/90\">\n              –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –Ω–∞–¥–µ–∂–Ω–æ–π –ª–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞\n            </p>\n            <div className=\"flex gap-4 justify-center flex-wrap\">\n              <Button \n                size=\"lg\" \n                variant=\"secondary\"\n                data-testid=\"button-register-carrier\"\n                className=\"h-12 px-8\"\n              >\n                –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫\n              </Button>\n              <Button \n                size=\"lg\" \n                variant=\"outline\"\n                data-testid=\"button-register-shipper\"\n                className=\"h-12 px-8 bg-white/10 backdrop-blur-sm border-white/30 text-white hover:bg-white/20\"\n              >\n                –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ –≥—Ä—É–∑–æ–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å\n              </Button>\n            </div>\n          </div>\n        </section>\n      </main>\n      \n      <Footer />\n    </div>\n  );\n}","size_bytes":6809},"design_guidelines.md":{"content":"# LogiFlex.kz Design Guidelines\n\n## Design Approach\n\n**Selected System**: Material Design with enterprise B2B adaptations\n**Rationale**: Information-dense logistics platform requiring clear data hierarchy, professional trust signals, and efficient workflows for carriers, shippers, and administrators.\n\n**Core Principles**:\n- Clarity over decoration - prioritize data legibility and task completion\n- Trust through consistency - government integration requires formal, reliable appearance\n- Efficiency-first interactions - minimize clicks for common workflows\n- Role-based visual hierarchy - clear distinction between carrier, shipper, admin interfaces\n\n---\n\n## Typography System\n\n**Primary Font**: Roboto (Material Design standard)\n- **Hero/Display**: 2.5rem (40px), font-weight: 700, line-height: 1.2\n- **Page Headers**: 2rem (32px), font-weight: 600, line-height: 1.3\n- **Section Headers**: 1.5rem (24px), font-weight: 600, line-height: 1.4\n- **Body Large**: 1.125rem (18px), font-weight: 400, line-height: 1.6\n- **Body**: 1rem (16px), font-weight: 400, line-height: 1.5\n- **Small/Meta**: 0.875rem (14px), font-weight: 400, line-height: 1.4\n- **Captions**: 0.75rem (12px), font-weight: 500, line-height: 1.3\n\n**Data Display Font**: Roboto Mono for numbers, IDs, timestamps\n- Sizes: 0.875rem - 1rem, font-weight: 400-500\n\n---\n\n## Layout System\n\n**Spacing Units**: Tailwind scale focused on 4, 6, 8, 12, 16 units\n- Component padding: p-4, p-6, p-8\n- Section spacing: py-12, py-16, py-20\n- Element gaps: gap-4, gap-6, gap-8\n- Card spacing: p-6 (mobile), p-8 (desktop)\n\n**Container Strategy**:\n- Main content: max-w-7xl mx-auto\n- Dashboard cards: max-w-full with inner grid\n- Forms: max-w-2xl for optimal input width\n- Data tables: max-w-full with horizontal scroll on mobile\n\n**Grid Systems**:\n- Dashboard widgets: grid-cols-1 md:grid-cols-2 lg:grid-cols-3\n- Cargo listings: grid-cols-1 lg:grid-cols-2 for card view\n- Statistics: grid-cols-2 md:grid-cols-4 for metric cards\n\n---\n\n## Component Library\n\n### Navigation\n**Header**: Fixed top navigation with logo, main navigation, user menu\n- Height: 64px (h-16)\n- Sticky positioning for dashboard context\n- Role indicator badge (Carrier/Shipper/Admin)\n\n**Sidebar** (Admin/Dashboard areas): \n- Width: 256px (w-64) desktop, collapsible on tablet\n- Hierarchical navigation with icons and labels\n- Active state with visual indicator\n\n### Data Display\n**Tables**: Material Design elevated cards with striped rows\n- Sticky headers for long tables\n- Row actions on hover\n- Sortable columns with clear indicators\n- Mobile: Card-based layout replacing table\n\n**Cards**: Elevated (shadow-md) with structured content hierarchy\n- Header: Title + metadata\n- Body: Key information in defined grid\n- Footer: Actions or status indicators\n\n**Status Badges**: Pill-shaped with semantic meaning\n- Dimensions: px-3 py-1, rounded-full\n- Font: 0.75rem, font-weight: 600\n\n### Forms\n**Input Fields**: Material Design outlined style\n- Labels: Floating or top-aligned, 0.875rem\n- Input height: h-12 (48px) for touch-friendly interaction\n- Helper text: 0.75rem below field\n- Error states: Text indication below field\n\n**Buttons**:\n- Primary: h-12, px-6, rounded-lg, font-weight: 600\n- Secondary: Same dimensions, different visual treatment\n- Text buttons: No background, py-2, px-4\n- Icon buttons: w-10 h-10, rounded-full for FABs\n\n### Specialized Components\n**Bid Card**: \n- Compact view for listing page\n- Expanded modal/drawer for details and actions\n- Clear pricing, carrier info, RWS score display\n\n**Quality Score (RWS) Display**:\n- Large circular indicator with score\n- Breakdown bars for sub-metrics\n- Tooltip explanations for score components\n\n**Transaction Timeline**:\n- Vertical stepper showing deal progress\n- Status icons with connecting lines\n- Timestamps and responsible party indicators\n\n---\n\n## Images\n\n**Hero Section**: \nLarge format imagery (h-[500px] to h-[600px]) showing modern logistics operations - trucks on highways, cargo containers, warehouse operations. Image should convey scale, professionalism, and Kazakhstan context (if possible). Overlay with semi-transparent gradient for text legibility.\n\n**Dashboard/Feature Illustrations**:\n- Government integration blocks: Icons representing official documents, digital signatures\n- Quality assurance section: Visual metaphors for reliability (shields, checkmarks)\n- No decorative images in data-heavy areas (tables, forms)\n\n**Trust Indicators**:\n- Government partner logos in footer\n- Security/certification badges near sensitive operations\n\n---\n\n## Accessibility & Polish\n\n**Consistent Implementation**:\n- All form inputs maintain unified height (h-12)\n- Consistent border radius across components (rounded-lg for cards, rounded-md for inputs)\n- Touch targets minimum 44x44px for mobile\n- Clear focus states with visible outlines\n- ARIA labels for icon-only buttons\n\n**Loading States**:\n- Skeleton screens for data tables\n- Spinner for form submissions\n- Progress indicators for multi-step processes\n\n**Empty States**:\n- Illustrative icon + clear message + primary action\n- Center-aligned in container\n\n**Animations**: \nMinimal and functional only:\n- Page transitions: None or simple fade\n- Dropdown menus: Subtle slide-down\n- Toast notifications: Slide in from top-right\n- No decorative animations\n\n---\n\n## Role-Based Differentiation\n\n**Visual Distinction**:\n- Carriers: Emphasis on available cargo, bidding interface\n- Shippers: Cargo creation and bid review prioritized\n- Admins: Dense data tables, analytics dashboards\n\n**Dashboard Layouts**:\n- Carrier: Featured cargo listings + active bids summary\n- Shipper: Posted cargo status + incoming bids\n- Admin: System metrics + user management + government integration status","size_bytes":5720},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/components/CargoCard.tsx":{"content":"import { Card, CardContent, CardFooter, CardHeader } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { MapPinIcon, CalendarIcon, WeightIcon, DollarSignIcon, ArrowRightIcon } from \"lucide-react\";\nimport { Link } from \"wouter\";\n\ninterface CargoCardProps {\n  id: string;\n  title: string;\n  origin: string;\n  destination: string;\n  weight: number;\n  price: number;\n  pickupDate: string;\n  status: \"active\" | \"in_progress\" | \"completed\" | \"cancelled\";\n  category: string;\n}\n\nexport default function CargoCard({\n  title,\n  origin,\n  destination,\n  weight,\n  price,\n  pickupDate,\n  status,\n  category,\n  id\n}: CargoCardProps) {\n  const statusColors = {\n    active: \"bg-accent text-accent-foreground\",\n    in_progress: \"bg-primary/10 text-primary\",\n    completed: \"bg-muted text-muted-foreground\",\n    cancelled: \"bg-destructive/10 text-destructive\"\n  };\n  \n  const statusLabels = {\n    active: \"–ê–∫—Ç–∏–≤–Ω—ã–π\",\n    in_progress: \"–í –ø—Ä–æ—Ü–µ—Å—Å–µ\",\n    completed: \"–ó–∞–≤–µ—Ä—à–µ–Ω\",\n    cancelled: \"–û—Ç–º–µ–Ω–µ–Ω\"\n  };\n\n  return (\n    <Card className=\"hover-elevate transition-all\" data-testid={`card-cargo-${id}`}>\n      <CardHeader className=\"pb-3\">\n        <div className=\"flex items-start justify-between gap-2\">\n          <h3 className=\"font-semibold text-lg leading-tight\">{title}</h3>\n          <Badge className={statusColors[status]} data-testid={`badge-status-${id}`}>\n            {statusLabels[status]}\n          </Badge>\n        </div>\n        <Badge variant=\"outline\" className=\"w-fit mt-2\">{category}</Badge>\n      </CardHeader>\n      <CardContent className=\"space-y-3\">\n        <div className=\"flex items-start gap-2\">\n          <MapPinIcon className=\"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0\" />\n          <div className=\"text-sm\">\n            <div className=\"font-medium\">{origin}</div>\n            <div className=\"text-muted-foreground\">‚Üí {destination}</div>\n          </div>\n        </div>\n        <div className=\"grid grid-cols-2 gap-3 text-sm\">\n          <div className=\"flex items-center gap-2\">\n            <WeightIcon className=\"w-4 h-4 text-muted-foreground\" />\n            <span className=\"font-mono\">{weight} —Ç</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <CalendarIcon className=\"w-4 h-4 text-muted-foreground\" />\n            <span className=\"font-mono\">{pickupDate}</span>\n          </div>\n        </div>\n        <div className=\"flex items-center gap-2 pt-2 border-t\">\n          <DollarSignIcon className=\"w-5 h-5 text-primary\" />\n          <span className=\"text-2xl font-bold font-mono\">{price.toLocaleString()}</span>\n          <span className=\"text-muted-foreground\">‚Ç∏</span>\n        </div>\n      </CardContent>\n      <CardFooter>\n        <Link href={`/cargo/${id}`} className=\"w-full\">\n          <Button className=\"w-full\" data-testid={`button-view-cargo-${id}`} asChild>\n            <a>\n              –ü–æ–¥—Ä–æ–±–Ω–µ–µ\n              <ArrowRightIcon className=\"w-4 h-4 ml-2\" />\n            </a>\n          </Button>\n        </Link>\n      </CardFooter>\n    </Card>\n  );\n}","size_bytes":3144},"client/src/components/Header.tsx":{"content":"import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Sheet, SheetContent, SheetTrigger } from \"@/components/ui/sheet\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { TruckIcon, UserIcon, SettingsIcon, LogOutIcon, BellIcon, PlusIcon, CheckIcon, MenuIcon, MoonIcon, SunIcon } from \"lucide-react\";\nimport { Link, useLocation } from \"wouter\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { useTheme } from \"@/components/ThemeProvider\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { queryClient, apiRequest } from \"@/lib/queryClient\";\nimport type { User, Notification } from \"@shared/schema\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport { ru } from \"date-fns/locale\";\n\nexport default function Header() {\n  const { user } = useAuth() as { user?: User };\n  const [, navigate] = useLocation();\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n  const { theme, toggleTheme } = useTheme();\n  \n  const { data: notifications = [] } = useQuery<Notification[]>({\n    queryKey: [\"/api/notifications\"],\n    enabled: !!user,\n  });\n\n  const unreadCount = notifications.filter(n => !n.isRead).length;\n\n  const markAsReadMutation = useMutation({\n    mutationFn: async (id: string) => {\n      await apiRequest(\"PATCH\", `/api/notifications/${id}/read`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/notifications\"] });\n    },\n  });\n\n  const markAllAsReadMutation = useMutation({\n    mutationFn: async () => {\n      await apiRequest(\"PATCH\", \"/api/notifications/read-all\");\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/notifications\"] });\n    },\n  });\n\n  const handleNotificationClick = (notification: Notification) => {\n    if (!notification.isRead) {\n      markAsReadMutation.mutate(notification.id);\n    }\n    if (notification.link) {\n      navigate(notification.link);\n    }\n  };\n  \n  const getRoleDisplay = (role?: string) => {\n    switch (role) {\n      case \"carrier\":\n        return \"–ü–µ—Ä–µ–≤–æ–∑—á–∏–∫\";\n      case \"shipper\":\n        return \"–ì—Ä—É–∑–æ–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å\";\n      case \"admin\":\n        return \"–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä\";\n      default:\n        return \"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å\";\n    }\n  };\n\n  const getInitials = (firstName?: string | null, lastName?: string | null) => {\n    if (firstName && lastName) {\n      return `${firstName[0]}${lastName[0]}`.toUpperCase();\n    }\n    if (firstName) return firstName[0].toUpperCase();\n    return \"U\";\n  };\n  \n  return (\n    <header className=\"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n      <div className=\"max-w-7xl mx-auto px-6 h-16 flex items-center justify-between\">\n        <Link href=\"/\">\n          <a className=\"flex items-center gap-2 hover-elevate rounded-lg px-3 py-2 -ml-3\" data-testid=\"link-logo\">\n            <TruckIcon className=\"w-6 h-6 text-primary\" />\n            <span className=\"font-bold text-xl\">LogiFlex.kz</span>\n          </a>\n        </Link>\n        \n        <nav className=\"hidden md:flex items-center gap-1\">\n          <Link href=\"/\">\n            <Button variant=\"ghost\" data-testid=\"link-home\" asChild>\n              <a>–ì–ª–∞–≤–Ω–∞—è</a>\n            </Button>\n          </Link>\n          <Link href=\"/marketplace\">\n            <Button variant=\"ghost\" data-testid=\"link-marketplace\" asChild>\n              <a>–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å</a>\n            </Button>\n          </Link>\n          <Link href=\"/dashboard\">\n            <Button variant=\"ghost\" data-testid=\"link-dashboard\" asChild>\n              <a>–ü–∞–Ω–µ–ª—å</a>\n            </Button>\n          </Link>\n          {(user?.role === \"shipper\" || user?.role === \"admin\") && (\n            <Link href=\"/cargo/create\">\n              <Button data-testid=\"button-create-cargo\" asChild>\n                <a>\n                  <PlusIcon className=\"w-4 h-4 mr-2\" />\n                  –°–æ–∑–¥–∞—Ç—å –≥—Ä—É–∑\n                </a>\n              </Button>\n            </Link>\n          )}\n        </nav>\n        \n        <div className=\"flex items-center gap-2\">\n          <Sheet open={mobileMenuOpen} onOpenChange={setMobileMenuOpen}>\n            <SheetTrigger asChild className=\"md:hidden\">\n              <Button variant=\"ghost\" size=\"icon\" data-testid=\"button-mobile-menu\">\n                <MenuIcon className=\"w-5 h-5\" />\n              </Button>\n            </SheetTrigger>\n            <SheetContent side=\"right\" className=\"w-80\">\n              <nav className=\"flex flex-col gap-4 mt-8\">\n                <Link href=\"/\" onClick={() => setMobileMenuOpen(false)}>\n                  <Button variant=\"ghost\" className=\"w-full justify-start\" data-testid=\"mobile-link-home\" asChild>\n                    <a>–ì–ª–∞–≤–Ω–∞—è</a>\n                  </Button>\n                </Link>\n                <Link href=\"/marketplace\" onClick={() => setMobileMenuOpen(false)}>\n                  <Button variant=\"ghost\" className=\"w-full justify-start\" data-testid=\"mobile-link-marketplace\" asChild>\n                    <a>–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å</a>\n                  </Button>\n                </Link>\n                <Link href=\"/dashboard\" onClick={() => setMobileMenuOpen(false)}>\n                  <Button variant=\"ghost\" className=\"w-full justify-start\" data-testid=\"mobile-link-dashboard\" asChild>\n                    <a>–ü–∞–Ω–µ–ª—å</a>\n                  </Button>\n                </Link>\n                {(user?.role === \"shipper\" || user?.role === \"admin\") && (\n                  <Link href=\"/cargo/create\" onClick={() => setMobileMenuOpen(false)}>\n                    <Button className=\"w-full justify-start\" data-testid=\"mobile-button-create-cargo\" asChild>\n                      <a>\n                        <PlusIcon className=\"w-4 h-4 mr-2\" />\n                        –°–æ–∑–¥–∞—Ç—å –≥—Ä—É–∑\n                      </a>\n                    </Button>\n                  </Link>\n                )}\n              </nav>\n            </SheetContent>\n          </Sheet>\n          \n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={toggleTheme}\n            data-testid=\"button-theme-toggle\"\n            title={theme === \"light\" ? \"–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ —Ç–µ–º–Ω—É—é —Ç–µ–º—É\" : \"–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ —Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É\"}\n          >\n            {theme === \"light\" ? (\n              <MoonIcon className=\"w-5 h-5\" />\n            ) : (\n              <SunIcon className=\"w-5 h-5\" />\n            )}\n          </Button>\n          \n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button \n                size=\"icon\" \n                variant=\"ghost\" \n                className=\"relative\"\n                data-testid=\"button-notifications\"\n              >\n                <BellIcon className=\"w-5 h-5\" />\n                {unreadCount > 0 && (\n                  <Badge \n                    className=\"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs\"\n                    data-testid=\"badge-notification-count\"\n                  >\n                    {unreadCount}\n                  </Badge>\n                )}\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align=\"end\" className=\"w-80\">\n              <div className=\"flex items-center justify-between px-2 py-2\">\n                <DropdownMenuLabel className=\"p-0\">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</DropdownMenuLabel>\n                {unreadCount > 0 && (\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    className=\"h-auto p-1 text-xs\"\n                    onClick={() => markAllAsReadMutation.mutate()}\n                    data-testid=\"button-mark-all-read\"\n                  >\n                    <CheckIcon className=\"w-3 h-3 mr-1\" />\n                    –ü—Ä–æ—á–∏—Ç–∞—Ç—å –≤—Å–µ\n                  </Button>\n                )}\n              </div>\n              <DropdownMenuSeparator />\n              <ScrollArea className=\"max-h-96\">\n                {notifications.length === 0 ? (\n                  <div className=\"p-4 text-center text-sm text-muted-foreground\" data-testid=\"text-no-notifications\">\n                    –ù–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π\n                  </div>\n                ) : (\n                  notifications.map((notification) => (\n                    <DropdownMenuItem\n                      key={notification.id}\n                      className={`flex flex-col items-start p-3 cursor-pointer ${\n                        !notification.isRead ? \"bg-accent/50\" : \"\"\n                      }`}\n                      onClick={() => handleNotificationClick(notification)}\n                      data-testid={`notification-${notification.id}`}\n                    >\n                      <div className=\"flex items-start justify-between w-full gap-2\">\n                        <div className=\"flex-1\">\n                          <p className=\"font-medium text-sm\">{notification.title}</p>\n                          <p className=\"text-xs text-muted-foreground mt-1\">\n                            {notification.message}\n                          </p>\n                          <p className=\"text-xs text-muted-foreground mt-1\">\n                            {notification.createdAt && formatDistanceToNow(new Date(notification.createdAt), {\n                              addSuffix: true,\n                              locale: ru,\n                            })}\n                          </p>\n                        </div>\n                        {!notification.isRead && (\n                          <div className=\"w-2 h-2 bg-primary rounded-full mt-1\" data-testid=\"indicator-unread\" />\n                        )}\n                      </div>\n                    </DropdownMenuItem>\n                  ))\n                )}\n              </ScrollArea>\n            </DropdownMenuContent>\n          </DropdownMenu>\n          \n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button \n                variant=\"ghost\" \n                className=\"flex items-center gap-2\"\n                data-testid=\"button-user-menu\"\n              >\n                <Avatar className=\"w-8 h-8\">\n                  {user?.profileImageUrl && (\n                    <AvatarImage src={user.profileImageUrl} alt={user.firstName || \"User\"} />\n                  )}\n                  <AvatarFallback className=\"bg-primary text-primary-foreground text-sm\">\n                    {getInitials(user?.firstName, user?.lastName)}\n                  </AvatarFallback>\n                </Avatar>\n                <span className=\"hidden md:inline\">{getRoleDisplay(user?.role)}</span>\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align=\"end\" className=\"w-56\">\n              <DropdownMenuLabel>–ú–æ–π –∞–∫–∫–∞—É–Ω—Ç</DropdownMenuLabel>\n              <DropdownMenuSeparator />\n              <Link href=\"/profile\">\n                <DropdownMenuItem data-testid=\"menu-profile\" asChild>\n                  <a>\n                    <UserIcon className=\"w-4 h-4 mr-2\" />\n                    –ü—Ä–æ—Ñ–∏–ª—å\n                  </a>\n                </DropdownMenuItem>\n              </Link>\n              <DropdownMenuItem data-testid=\"menu-settings\">\n                <SettingsIcon className=\"w-4 h-4 mr-2\" />\n                –ù–∞—Å—Ç—Ä–æ–π–∫–∏\n              </DropdownMenuItem>\n              <DropdownMenuSeparator />\n              <DropdownMenuItem \n                data-testid=\"menu-logout\"\n                onClick={() => window.location.href = \"/api/logout\"}\n              >\n                <LogOutIcon className=\"w-4 h-4 mr-2\" />\n                –í—ã–π—Ç–∏\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n        </div>\n      </div>\n    </header>\n  );\n}","size_bytes":12164},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1592},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5741},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/components/FeatureCard.tsx":{"content":"import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { LucideIcon } from \"lucide-react\";\n\ninterface FeatureCardProps {\n  icon: LucideIcon;\n  title: string;\n  description: string;\n}\n\nexport default function FeatureCard({ icon: Icon, title, description }: FeatureCardProps) {\n  return (\n    <Card className=\"hover-elevate transition-all\">\n      <CardHeader>\n        <div className=\"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4\">\n          <Icon className=\"w-6 h-6 text-primary\" />\n        </div>\n        <CardTitle className=\"text-xl\">{title}</CardTitle>\n      </CardHeader>\n      <CardContent>\n        <p className=\"text-muted-foreground\">{description}</p>\n      </CardContent>\n    </Card>\n  );\n}","size_bytes":758},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"client/src/components/examples/Footer.tsx":{"content":"import Footer from '../Footer';\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { queryClient } from \"@/lib/queryClient\";\n\nexport default function FooterExample() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <Footer />\n    </QueryClientProvider>\n  );\n}","size_bytes":293},"client/src/pages/dashboard.tsx":{"content":"import { useState } from \"react\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport StatsCard from \"@/components/StatsCard\";\nimport CargoCard from \"@/components/CargoCard\";\nimport BidCard from \"@/components/BidCard\";\nimport RWSScore from \"@/components/RWSScore\";\nimport TransactionTimeline from \"@/components/TransactionTimeline\";\nimport StatsCardSkeleton from \"@/components/skeletons/StatsCardSkeleton\";\nimport CargoCardSkeleton from \"@/components/skeletons/CargoCardSkeleton\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Button } from \"@/components/ui/button\";\nimport { PackageIcon, TruckIcon, CheckCircle2Icon, ClockIcon, Loader2 } from \"lucide-react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport type { Cargo } from \"@shared/schema\";\n\ninterface DashboardAnalytics {\n  activeCargo: number;\n  totalBids: number;\n  totalTransactions: number;\n  rwsScore: number;\n}\n\nexport default function DashboardPage() {\n  const [activeTab, setActiveTab] = useState(\"overview\");\n  \n  const { data: analytics, isLoading: analyticsLoading, isError: analyticsError, error: analyticsErrorData, refetch: refetchAnalytics } = useQuery<DashboardAnalytics>({\n    queryKey: [\"/api/analytics/dashboard\"],\n  });\n  \n  const { data: cargoList, isLoading: cargoLoading, isError: cargoError, error: cargoErrorData, refetch: refetchCargo } = useQuery<Cargo[]>({\n    queryKey: [\"/api/cargo\"],\n  });\n  \n  const activeCargo = cargoList?.filter(c => c.status === \"active\") || [];\n  const inProgressCargo = cargoList?.filter(c => c.status === \"in_progress\") || [];\n  const completedCargo = cargoList?.filter(c => c.status === \"completed\") || [];\n\n  return (\n    <div className=\"min-h-screen flex flex-col\">\n      <Header />\n      \n      <main className=\"flex-1 max-w-7xl mx-auto px-6 py-8 w-full\">\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold mb-2\">–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h1>\n          <p className=\"text-muted-foreground\">\n            –£–ø—Ä–∞–≤–ª—è–π—Ç–µ –≥—Ä—É–∑–∞–º–∏ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Å–¥–µ–ª–∫–∏\n          </p>\n        </div>\n        \n        {analyticsLoading ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n            <StatsCardSkeleton />\n            <StatsCardSkeleton />\n            <StatsCardSkeleton />\n            <StatsCardSkeleton />\n          </div>\n        ) : analyticsError ? (\n          <div className=\"bg-destructive/10 border border-destructive/20 rounded-lg p-6 mb-8\">\n            <p className=\"text-destructive font-semibold mb-2\">\n              –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏\n            </p>\n            <p className=\"text-sm text-muted-foreground mb-4\">\n              {analyticsErrorData instanceof Error ? analyticsErrorData.message : '–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É'}\n            </p>\n            <Button \n              variant=\"outline\" \n              size=\"sm\"\n              onClick={() => refetchAnalytics()}\n              data-testid=\"button-retry-analytics\"\n            >\n              –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞\n            </Button>\n          </div>\n        ) : analytics ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n            <StatsCard\n              icon={PackageIcon}\n              label=\"–ê–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä—É–∑—ã\"\n              value={String(analytics.activeCargo)}\n            />\n            <StatsCard\n              icon={TruckIcon}\n              label=\"–ü–æ–ª—É—á–µ–Ω–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π\"\n              value={String(analytics.totalBids)}\n            />\n            <StatsCard\n              icon={ClockIcon}\n              label=\"–ì—Ä—É–∑—ã –≤ –ø—É—Ç–∏\"\n              value={String(inProgressCargo.length)}\n            />\n            <StatsCard\n              icon={CheckCircle2Icon}\n              label=\"–ó–∞–≤–µ—Ä—à–µ–Ω–æ\"\n              value={String(completedCargo.length)}\n            />\n          </div>\n        ) : null}\n        \n        <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\n          <TabsList data-testid=\"tabs-dashboard\">\n            <TabsTrigger value=\"overview\" data-testid=\"tab-overview\">–û–±–∑–æ—Ä</TabsTrigger>\n            <TabsTrigger value=\"cargo\" data-testid=\"tab-cargo\">–ú–æ–∏ –≥—Ä—É–∑—ã</TabsTrigger>\n            <TabsTrigger value=\"bids\" data-testid=\"tab-bids\">–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</TabsTrigger>\n            <TabsTrigger value=\"quality\" data-testid=\"tab-quality\">–ö–∞—á–µ—Å—Ç–≤–æ</TabsTrigger>\n          </TabsList>\n          \n          <TabsContent value=\"overview\" className=\"space-y-6\">\n            {cargoLoading ? (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                <CargoCardSkeleton />\n                <CargoCardSkeleton />\n                <CargoCardSkeleton />\n              </div>\n            ) : cargoError ? (\n              <div className=\"text-center py-12\">\n                <p className=\"text-destructive text-lg mb-4\">\n                  –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≥—Ä—É–∑–æ–≤\n                </p>\n                <p className=\"text-muted-foreground text-sm mb-6\">\n                  {cargoErrorData instanceof Error ? cargoErrorData.message : '–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ'}\n                </p>\n                <Button \n                  variant=\"outline\" \n                  onClick={() => refetchCargo()}\n                  data-testid=\"button-retry-cargo-overview\"\n                >\n                  –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞\n                </Button>\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                <div className=\"space-y-6\">\n                  <h3 className=\"text-xl font-semibold\">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –≥—Ä—É–∑—ã</h3>\n                  {cargoList && cargoList.length > 0 ? (\n                    cargoList.slice(0, 2).map(cargo => (\n                      <CargoCard \n                        key={cargo.id} \n                        id={cargo.id}\n                        title={cargo.title}\n                        origin={cargo.origin}\n                        destination={cargo.destination}\n                        weight={parseFloat(cargo.weight)}\n                        price={parseFloat(cargo.price)}\n                        pickupDate={new Date(cargo.pickupDate).toISOString().split('T')[0]}\n                        status={cargo.status}\n                        category={cargo.category}\n                      />\n                    ))\n                  ) : (\n                    <p className=\"text-muted-foreground\">–ù–µ—Ç –≥—Ä—É–∑–æ–≤</p>\n                  )}\n                </div>\n                \n                <div className=\"space-y-6\">\n                  <h3 className=\"text-xl font-semibold\">–°—Ç–∞—Ç—É—Å —Å–¥–µ–ª–∫–∏</h3>\n                  <p className=\"text-muted-foreground text-sm\">\n                    –°–∏—Å—Ç–µ–º–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ –≥—Ä—É–∑–∞\n                  </p>\n                </div>\n              </div>\n            )}\n          </TabsContent>\n          \n          <TabsContent value=\"cargo\" className=\"space-y-6\">\n            {cargoLoading ? (\n              <div className=\"flex items-center justify-center py-12\">\n                <Loader2 className=\"w-8 h-8 animate-spin text-primary\" />\n              </div>\n            ) : cargoError ? (\n              <div className=\"text-center py-12\">\n                <p className=\"text-destructive text-lg mb-4\">\n                  –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≥—Ä—É–∑–æ–≤\n                </p>\n                <p className=\"text-muted-foreground text-sm mb-6\">\n                  {cargoErrorData instanceof Error ? cargoErrorData.message : '–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ'}\n                </p>\n                <Button \n                  variant=\"outline\" \n                  onClick={() => refetchCargo()}\n                  data-testid=\"button-retry-cargo\"\n                >\n                  –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞\n                </Button>\n              </div>\n            ) : cargoList && cargoList.length > 0 ? (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                {cargoList.map(cargo => (\n                  <CargoCard \n                    key={cargo.id} \n                    id={cargo.id}\n                    title={cargo.title}\n                    origin={cargo.origin}\n                    destination={cargo.destination}\n                    weight={parseFloat(cargo.weight)}\n                    price={parseFloat(cargo.price)}\n                    pickupDate={new Date(cargo.pickupDate).toISOString().split('T')[0]}\n                    status={cargo.status}\n                    category={cargo.category}\n                  />\n                ))}\n              </div>\n            ) : (\n              <div className=\"text-center py-12\">\n                <p className=\"text-muted-foreground text-lg\">\n                  –£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –≥—Ä—É–∑–æ–≤. –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π –≥—Ä—É–∑!\n                </p>\n              </div>\n            )}\n          </TabsContent>\n          \n          <TabsContent value=\"bids\" className=\"space-y-6\">\n            <div className=\"text-center py-12\">\n              <p className=\"text-muted-foreground text-lg\">\n                –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–≤–æ–∫ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä—É–∑–æ–≤\n              </p>\n            </div>\n          </TabsContent>\n          \n          <TabsContent value=\"quality\" className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <RWSScore\n                score={analytics?.rwsScore || 0}\n                onTimeDelivery={0}\n                cargoCondition={0}\n                communication={0}\n                documentation={0}\n              />\n              <div>\n                <h3 className=\"text-xl font-semibold mb-4\">–†–µ–π—Ç–∏–Ω–≥ –∫–∞—á–µ—Å—Ç–≤–∞</h3>\n                <p className=\"text-muted-foreground mb-4\">\n                  –í–∞—à –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å RWS (Reputation Weight Score) –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –∏—Å—Ç–æ—Ä–∏–∏ –¥–æ—Å—Ç–∞–≤–æ–∫ –∏ –æ—Ü–µ–Ω–∫–∞—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤.\n                </p>\n                <div className=\"space-y-3 text-sm\">\n                  <div className=\"flex justify-between\">\n                    <span>–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –¥–æ—Å—Ç–∞–≤–æ–∫:</span>\n                    <span className=\"font-semibold font-mono\">{analytics?.totalTransactions || 0}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>–ê–∫—Ç–∏–≤–Ω—ã—Ö –≥—Ä—É–∑–æ–≤:</span>\n                    <span className=\"font-semibold font-mono\">{analytics?.activeCargo || 0}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>–û–±—â–∏–π RWS:</span>\n                    <span className=\"font-semibold font-mono\">{analytics?.rwsScore || 0}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </TabsContent>\n        </Tabs>\n      </main>\n      \n      <Footer />\n    </div>\n  );\n}","size_bytes":11289},"client/src/components/examples/FeatureCard.tsx":{"content":"import FeatureCard from '../FeatureCard';\nimport { ShieldCheckIcon } from 'lucide-react';\n\nexport default function FeatureCardExample() {\n  return (\n    <div className=\"p-6\">\n      <FeatureCard\n        icon={ShieldCheckIcon}\n        title=\"–°–∏—Å—Ç–µ–º–∞ –∫–∞—á–µ—Å—Ç–≤–∞ RWS\"\n        description=\"–†–µ–ø—É—Ç–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤ –∏ –≥—Ä—É–∑–æ–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–π\"\n      />\n    </div>\n  );\n}","size_bytes":458},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1383},"client/src/components/examples/Header.tsx":{"content":"import Header from '../Header';\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { queryClient } from \"@/lib/queryClient\";\n\nexport default function HeaderExample() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <Header />\n    </QueryClientProvider>\n  );\n}","size_bytes":293},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"client/src/components/Footer.tsx":{"content":"import { TruckIcon } from \"lucide-react\";\nimport { Link } from \"wouter\";\n\nexport default function Footer() {\n  return (\n    <footer className=\"border-t bg-card mt-20\">\n      <div className=\"max-w-7xl mx-auto px-6 py-12\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\n          <div>\n            <div className=\"flex items-center gap-2 mb-4\">\n              <TruckIcon className=\"w-6 h-6 text-primary\" />\n              <span className=\"font-bold text-xl\">LogiFlex.kz</span>\n            </div>\n            <p className=\"text-sm text-muted-foreground\">\n              –ù–∞–¥–µ–∂–Ω–∞—è –ª–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞ —Å –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π\n            </p>\n          </div>\n          \n          <div>\n            <h3 className=\"font-semibold mb-4\">–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞</h3>\n            <ul className=\"space-y-2 text-sm\">\n              <li>\n                <Link \n                  href=\"/cargo\" \n                  className=\"text-muted-foreground hover:text-foreground transition-colors block\"\n                >\n                  –ù–∞–π—Ç–∏ –≥—Ä—É–∑—ã\n                </Link>\n              </li>\n              <li>\n                <Link \n                  href=\"/carriers\" \n                  className=\"text-muted-foreground hover:text-foreground transition-colors block\"\n                >\n                  –ù–∞–π—Ç–∏ –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤\n                </Link>\n              </li>\n              <li>\n                <Link \n                  href=\"/pricing\" \n                  className=\"text-muted-foreground hover:text-foreground transition-colors block\"\n                >\n                  –¢–∞—Ä–∏—Ñ—ã\n                </Link>\n              </li>\n            </ul>\n          </div>\n          \n          <div>\n            <h3 className=\"font-semibold mb-4\">–ö–æ–º–ø–∞–Ω–∏—è</h3>\n            <ul className=\"space-y-2 text-sm\">\n              <li>\n                <Link \n                  href=\"/about\" \n                  className=\"text-muted-foreground hover:text-foreground transition-colors block\"\n                >\n                  –û –Ω–∞—Å\n                </Link>\n              </li>\n              <li>\n                <Link \n                  href=\"/contact\" \n                  className=\"text-muted-foreground hover:text-foreground transition-colors block\"\n                >\n                  –ö–æ–Ω—Ç–∞–∫—Ç—ã\n                </Link>\n              </li>\n              <li>\n                <Link \n                  href=\"/blog\" \n                  className=\"text-muted-foreground hover:text-foreground transition-colors block\"\n                >\n                  –ë–ª–æ–≥\n                </Link>\n              </li>\n            </ul>\n          </div>\n          \n          <div>\n            <h3 className=\"font-semibold mb-4\">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</h3>\n            <ul className=\"space-y-2 text-sm\">\n              <li>\n                <Link \n                  href=\"/help\" \n                  className=\"text-muted-foreground hover:text-foreground transition-colors block\"\n                >\n                  –¶–µ–Ω—Ç—Ä –ø–æ–º–æ—â–∏\n                </Link>\n              </li>\n              <li>\n                <Link \n                  href=\"/docs\" \n                  className=\"text-muted-foreground hover:text-foreground transition-colors block\"\n                >\n                  –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è\n                </Link>\n              </li>\n              <li>\n                <Link \n                  href=\"/privacy\" \n                  className=\"text-muted-foreground hover:text-foreground transition-colors block\"\n                >\n                  –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å\n                </Link>\n              </li>\n            </ul>\n          </div>\n        </div>\n        \n        <div className=\"border-t mt-8 pt-8 flex flex-col md:flex-row justify-between items-center gap-4\">\n          <p className=\"text-sm text-muted-foreground\">\n            ¬© 2025 LogiFlex.kz. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.\n          </p>\n          <div className=\"flex gap-4 text-sm text-muted-foreground\">\n            <span>–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å eGov.kz</span>\n            <span>‚Ä¢</span>\n            <span>–≠–¶–ü –ø–æ–¥–¥–µ—Ä–∂–∫–∞</span>\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n}","size_bytes":4318},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"client/src/components/StatsCard.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { LucideIcon } from \"lucide-react\";\n\ninterface StatsCardProps {\n  icon: LucideIcon;\n  label: string;\n  value: string | number;\n  change?: string;\n  trend?: \"up\" | \"down\";\n}\n\nexport default function StatsCard({ icon: Icon, label, value, change, trend }: StatsCardProps) {\n  return (\n    <Card>\n      <CardContent className=\"p-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <div className=\"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center\">\n            <Icon className=\"w-5 h-5 text-primary\" />\n          </div>\n          {change && (\n            <div className={`text-sm font-medium ${\n              trend === \"up\" ? \"text-accent-foreground\" : \"text-destructive\"\n            }`}>\n              {change}\n            </div>\n          )}\n        </div>\n        <div className=\"text-sm text-muted-foreground mb-1\">{label}</div>\n        <div className=\"text-3xl font-bold font-mono\">{value}</div>\n      </CardContent>\n    </Card>\n  );\n}","size_bytes":1046},"client/src/components/TransactionTimeline.tsx":{"content":"import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { CheckCircle2Icon, CircleIcon, ClockIcon } from \"lucide-react\";\n\ninterface TimelineStep {\n  id: string;\n  title: string;\n  status: \"completed\" | \"current\" | \"pending\";\n  timestamp?: string;\n  description?: string;\n}\n\ninterface TransactionTimelineProps {\n  steps: TimelineStep[];\n}\n\nexport default function TransactionTimeline({ steps }: TransactionTimelineProps) {\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>–°—Ç–∞—Ç—É—Å —Å–¥–µ–ª–∫–∏</CardTitle>\n      </CardHeader>\n      <CardContent>\n        <div className=\"space-y-6\">\n          {steps.map((step, index) => (\n            <div key={step.id} className=\"flex gap-4\">\n              <div className=\"flex flex-col items-center\">\n                <div className=\"flex-shrink-0\">\n                  {step.status === \"completed\" ? (\n                    <CheckCircle2Icon className=\"w-6 h-6 text-accent\" />\n                  ) : step.status === \"current\" ? (\n                    <ClockIcon className=\"w-6 h-6 text-primary\" />\n                  ) : (\n                    <CircleIcon className=\"w-6 h-6 text-muted-foreground\" />\n                  )}\n                </div>\n                {index < steps.length - 1 && (\n                  <div className={`w-0.5 h-12 mt-2 ${\n                    step.status === \"completed\" ? \"bg-accent\" : \"bg-border\"\n                  }`} />\n                )}\n              </div>\n              <div className=\"flex-1 pb-6\">\n                <div className=\"flex items-center gap-2 mb-1\">\n                  <h4 className=\"font-semibold\">{step.title}</h4>\n                  {step.status === \"current\" && (\n                    <Badge variant=\"outline\" className=\"text-xs\">–¢–µ–∫—É—â–∏–π</Badge>\n                  )}\n                </div>\n                {step.description && (\n                  <p className=\"text-sm text-muted-foreground mb-1\">{step.description}</p>\n                )}\n                {step.timestamp && (\n                  <p className=\"text-xs text-muted-foreground font-mono\">{step.timestamp}</p>\n                )}\n              </div>\n            </div>\n          ))}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}","size_bytes":2269},"client/src/components/examples/BidCard.tsx":{"content":"import BidCard from '../BidCard';\n\nexport default function BidCardExample() {\n  return (\n    <div className=\"p-6 max-w-md\">\n      <BidCard\n        id=\"1\"\n        carrierName=\"–¢—Ä–∞–Ω—Å–ê–∑–∏—è –õ–æ–≥–∏—Å—Ç–∏–∫–∞\"\n        rwsScore={92}\n        bidAmount={340000}\n        deliveryTime=\"3 –¥–Ω—è\"\n        vehicleType=\"–§—É—Ä–∞ 20—Ç\"\n        completedDeliveries={247}\n      />\n    </div>\n  );\n}","size_bytes":391},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \".5625rem\", /* 9px */\n        md: \".375rem\", /* 6px */\n        sm: \".1875rem\", /* 3px */\n      },\n      colors: {\n        // Flat / base colors (regular buttons)\n        background: \"hsl(var(--background) / <alpha-value>)\",\n        foreground: \"hsl(var(--foreground) / <alpha-value>)\",\n        border: \"hsl(var(--border) / <alpha-value>)\",\n        input: \"hsl(var(--input) / <alpha-value>)\",\n        card: {\n          DEFAULT: \"hsl(var(--card) / <alpha-value>)\",\n          foreground: \"hsl(var(--card-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--card-border) / <alpha-value>)\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover) / <alpha-value>)\",\n          foreground: \"hsl(var(--popover-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--popover-border) / <alpha-value>)\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--primary-foreground) / <alpha-value>)\",\n          border: \"var(--primary-border)\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary) / <alpha-value>)\",\n          foreground: \"hsl(var(--secondary-foreground) / <alpha-value>)\",\n          border: \"var(--secondary-border)\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted) / <alpha-value>)\",\n          foreground: \"hsl(var(--muted-foreground) / <alpha-value>)\",\n          border: \"var(--muted-border)\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--accent-foreground) / <alpha-value>)\",\n          border: \"var(--accent-border)\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive) / <alpha-value>)\",\n          foreground: \"hsl(var(--destructive-foreground) / <alpha-value>)\",\n          border: \"var(--destructive-border)\",\n        },\n        ring: \"hsl(var(--ring) / <alpha-value>)\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--chart-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--chart-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--chart-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--chart-5) / <alpha-value>)\",\n        },\n        sidebar: {\n          ring: \"hsl(var(--sidebar-ring) / <alpha-value>)\",\n          DEFAULT: \"hsl(var(--sidebar) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--sidebar-border) / <alpha-value>)\",\n        },\n        \"sidebar-primary\": {\n          DEFAULT: \"hsl(var(--sidebar-primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-primary-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-primary-border)\",\n        },\n        \"sidebar-accent\": {\n          DEFAULT: \"hsl(var(--sidebar-accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-accent-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-accent-border)\"\n        },\n        status: {\n          online: \"rgb(34 197 94)\",\n          away: \"rgb(245 158 11)\",\n          busy: \"rgb(239 68 68)\",\n          offline: \"rgb(156 163 175)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":4050},"client/src/pages/landing.tsx":{"content":"import HeroSection from \"@/components/HeroSection\";\nimport FeatureCard from \"@/components/FeatureCard\";\nimport Footer from \"@/components/Footer\";\nimport { Button } from \"@/components/ui/button\";\nimport { TruckIcon } from \"lucide-react\";\nimport { \n  ShieldCheckIcon, \n  BarChart3Icon, \n  FileTextIcon, \n  ZapIcon \n} from \"lucide-react\";\n\nexport default function LandingPage() {\n  return (\n    <div className=\"min-h-screen flex flex-col\">\n      <header className=\"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 h-16 flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <TruckIcon className=\"w-5 h-5 sm:w-6 sm:h-6 text-primary\" />\n            <span className=\"font-bold text-lg sm:text-xl\">LogiFlex.kz</span>\n          </div>\n          \n          <Button \n            onClick={() => window.location.href = \"/api/login\"}\n            data-testid=\"button-login\"\n          >\n            –í–æ–π—Ç–∏\n          </Button>\n        </div>\n      </header>\n      \n      <main className=\"flex-1\">\n        <HeroSection />\n        \n        <section className=\"max-w-7xl mx-auto px-4 sm:px-6 py-12 sm:py-20\">\n          <div className=\"text-center mb-8 sm:mb-12\">\n            <h2 className=\"text-2xl sm:text-3xl font-bold mb-3 sm:mb-4\">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</h2>\n            <p className=\"text-base sm:text-lg text-muted-foreground px-4\">\n              –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ–π –ª–æ–≥–∏—Å—Ç–∏–∫–∏\n            </p>\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            <FeatureCard\n              icon={ShieldCheckIcon}\n              title=\"–°–∏—Å—Ç–µ–º–∞ RWS\"\n              description=\"–†–µ–ø—É—Ç–∞—Ü–∏–æ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Ä—ã–Ω–∫–∞\"\n            />\n            <FeatureCard\n              icon={FileTextIcon}\n              title=\"–ì–æ—Å. –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è\"\n              description=\"–≠–¶–ü, —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ –∏ —Å–∞–Ω–∫—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏\"\n            />\n            <FeatureCard\n              icon={ZapIcon}\n              title=\"–£–º–Ω—ã–π –ø–æ–¥–±–æ—Ä\"\n              description=\"–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤\"\n            />\n            <FeatureCard\n              icon={BarChart3Icon}\n              title=\"–ê–Ω–∞–ª–∏—Ç–∏–∫–∞\"\n              description=\"–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –ø—Ä–æ–≥–Ω–æ–∑—ã —Ä—ã–Ω–∫–∞\"\n            />\n          </div>\n        </section>\n        \n        <section className=\"max-w-7xl mx-auto px-4 sm:px-6 py-12 sm:py-20\">\n          <div className=\"bg-primary text-primary-foreground rounded-lg p-6 sm:p-12 text-center\">\n            <h2 className=\"text-2xl sm:text-3xl font-bold mb-3 sm:mb-4\">\n              –ì–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É?\n            </h2>\n            <p className=\"text-base sm:text-lg mb-6 sm:mb-8 text-primary-foreground/90\">\n              –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –Ω–∞–¥–µ–∂–Ω–æ–π –ª–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞\n            </p>\n            <Button \n              size=\"lg\" \n              variant=\"secondary\"\n              onClick={() => window.location.href = \"/api/login\"}\n              data-testid=\"button-get-started\"\n              className=\"h-12 px-8\"\n            >\n              –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É\n            </Button>\n          </div>\n        </section>\n      </main>\n      \n      <Footer />\n    </div>\n  );\n}","size_bytes":3672},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":844},"client/src/components/BidCard.tsx":{"content":"import { Card, CardContent, CardFooter, CardHeader } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\nimport { TruckIcon, CalendarIcon, StarIcon } from \"lucide-react\";\nimport RecommendedBadge from \"./RecommendedBadge\";\n\ninterface BidCardProps {\n  id: string;\n  carrierName: string;\n  rwsScore: number;\n  bidAmount: number;\n  deliveryTime: string;\n  vehicleType: string;\n  completedDeliveries: number;\n  isRecommended?: boolean;\n}\n\nexport default function BidCard({\n  id,\n  carrierName,\n  rwsScore,\n  bidAmount,\n  deliveryTime,\n  vehicleType,\n  completedDeliveries,\n  isRecommended = false\n}: BidCardProps) {\n  const getInitials = (name: string) => {\n    return name\n      .split(' ')\n      .map(word => word[0])\n      .join('')\n      .toUpperCase()\n      .slice(0, 2);\n  };\n\n  return (\n    <Card className=\"hover-elevate\" data-testid={`card-bid-${id}`}>\n      <CardHeader className=\"pb-3\">\n        <div className=\"flex items-center gap-3\">\n          <Avatar>\n            <AvatarFallback className=\"bg-primary text-primary-foreground\">\n              {getInitials(carrierName)}\n            </AvatarFallback>\n          </Avatar>\n          <div className=\"flex-1\">\n            <div className=\"flex items-center gap-2 mb-1\">\n              <h3 className=\"font-semibold\">{carrierName}</h3>\n              <RecommendedBadge isRecommended={isRecommended} size=\"sm\" showTooltip={false} />\n            </div>\n            <div className=\"flex items-center gap-1 text-sm text-muted-foreground\">\n              <StarIcon className=\"w-3 h-3 fill-accent text-accent\" />\n              <span className=\"font-mono font-semibold\">RWS {rwsScore}</span>\n              <span className=\"mx-1\">‚Ä¢</span>\n              <span>{completedDeliveries} –¥–æ—Å—Ç–∞–≤–æ–∫</span>\n            </div>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent className=\"space-y-3\">\n        <div className=\"grid grid-cols-2 gap-3\">\n          <div>\n            <div className=\"text-xs text-muted-foreground mb-1\">–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</div>\n            <div className=\"text-xl font-bold font-mono\">{bidAmount.toLocaleString()} ‚Ç∏</div>\n          </div>\n          <div>\n            <div className=\"text-xs text-muted-foreground mb-1\">–°—Ä–æ–∫ –¥–æ—Å—Ç–∞–≤–∫–∏</div>\n            <div className=\"flex items-center gap-1\">\n              <CalendarIcon className=\"w-4 h-4\" />\n              <span className=\"font-mono\">{deliveryTime}</span>\n            </div>\n          </div>\n        </div>\n        <div className=\"flex items-center gap-2 pt-2 border-t\">\n          <TruckIcon className=\"w-4 h-4 text-muted-foreground\" />\n          <Badge variant=\"outline\">{vehicleType}</Badge>\n        </div>\n      </CardContent>\n      <CardFooter className=\"gap-2\">\n        <Button variant=\"outline\" className=\"flex-1\" data-testid={`button-view-${id}`}>\n          –ü—Ä–æ—Å–º–æ—Ç—Ä\n        </Button>\n        <Button className=\"flex-1\" data-testid={`button-accept-${id}`}>\n          –ü—Ä–∏–Ω—è—Ç—å\n        </Button>\n      </CardFooter>\n    </Card>\n  );\n}","size_bytes":3147},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/components/RWSScore.tsx":{"content":"import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Progress } from \"@/components/ui/progress\";\n\ninterface RWSScoreProps {\n  score: number;\n  onTimeDelivery: number;\n  cargoCondition: number;\n  communication: number;\n  documentation: number;\n}\n\nexport default function RWSScore({\n  score,\n  onTimeDelivery,\n  cargoCondition,\n  communication,\n  documentation\n}: RWSScoreProps) {\n  const getScoreColor = (score: number) => {\n    if (score >= 90) return \"text-accent-foreground\";\n    if (score >= 70) return \"text-primary\";\n    return \"text-destructive\";\n  };\n\n  const getProgressColor = (value: number) => {\n    if (value >= 90) return \"bg-accent\";\n    if (value >= 70) return \"bg-primary\";\n    return \"bg-destructive\";\n  };\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"flex items-center justify-between\">\n          <span>–û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ RWS</span>\n          <span className={`text-4xl font-bold font-mono ${getScoreColor(score)}`}>\n            {score}\n          </span>\n        </CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <div className=\"space-y-2\">\n          <div className=\"flex justify-between text-sm\">\n            <span>–°–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞</span>\n            <span className=\"font-mono font-semibold\">{onTimeDelivery}%</span>\n          </div>\n          <Progress value={onTimeDelivery} className={getProgressColor(onTimeDelivery)} />\n        </div>\n        \n        <div className=\"space-y-2\">\n          <div className=\"flex justify-between text-sm\">\n            <span>–°–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç—å –≥—Ä—É–∑–∞</span>\n            <span className=\"font-mono font-semibold\">{cargoCondition}%</span>\n          </div>\n          <Progress value={cargoCondition} className={getProgressColor(cargoCondition)} />\n        </div>\n        \n        <div className=\"space-y-2\">\n          <div className=\"flex justify-between text-sm\">\n            <span>–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è</span>\n            <span className=\"font-mono font-semibold\">{communication}%</span>\n          </div>\n          <Progress value={communication} className={getProgressColor(communication)} />\n        </div>\n        \n        <div className=\"space-y-2\">\n          <div className=\"flex justify-between text-sm\">\n            <span>–î–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç</span>\n            <span className=\"font-mono font-semibold\">{documentation}%</span>\n          </div>\n          <Progress value={documentation} className={getProgressColor(documentation)} />\n        </div>\n      </CardContent>\n    </Card>\n  );\n}","size_bytes":2605},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":21846},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport { setupAuth, isAuthenticated } from \"./replitAuth\";\nimport { insertCargoSchema, insertBidSchema, insertRWSMetricSchema, updateUserProfileSchema, insertMessageSchema, insertNotificationSchema } from \"@shared/schema\";\nimport { z } from \"zod\";\nimport { autoUpdateRWSOnBidAccepted, autoUpdateRWSOnTransactionComplete, updateUserRWS } from \"./rws-calculator\";\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  await setupAuth(app);\n\n  // Auth routes\n  app.get('/api/auth/user', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user.claims.sub;\n      const user = await storage.getUser(userId);\n      res.json(user);\n    } catch (error) {\n      console.error(\"Error fetching user:\", error);\n      res.status(500).json({ message: \"Failed to fetch user\" });\n    }\n  });\n\n  app.patch('/api/auth/user/role', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user.claims.sub;\n      const currentUser = await storage.getUser(userId);\n      \n      if (currentUser?.role !== \"admin\") {\n        return res.status(403).json({ message: \"Only administrators can change roles\" });\n      }\n      \n      const { targetUserId, role } = req.body;\n      \n      if (![\"shipper\", \"carrier\", \"admin\"].includes(role)) {\n        return res.status(400).json({ message: \"Invalid role\" });\n      }\n      \n      const user = await storage.updateUserRole(targetUserId, role);\n      res.json(user);\n    } catch (error) {\n      console.error(\"Error updating user role:\", error);\n      res.status(500).json({ message: \"Failed to update user role\" });\n    }\n  });\n\n  app.patch('/api/auth/user/profile', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user.claims.sub;\n      const profileData = updateUserProfileSchema.parse(req.body);\n      const user = await storage.updateUserProfile(userId, profileData);\n      res.json(user);\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ message: \"Invalid profile data\", errors: error.errors });\n      }\n      console.error(\"Error updating user profile:\", error);\n      res.status(500).json({ message: \"Failed to update user profile\" });\n    }\n  });\n\n  app.patch('/api/auth/user/change-role', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user.claims.sub;\n      \n      const roleSchema = z.object({\n        role: z.enum([\"shipper\", \"carrier\"])\n      });\n      \n      const { role } = roleSchema.parse(req.body);\n      \n      const user = await storage.updateUserRole(userId, role);\n      res.json(user);\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ message: \"Invalid role data\", errors: error.errors });\n      }\n      console.error(\"Error changing user role:\", error);\n      res.status(500).json({ message: \"Failed to change user role\" });\n    }\n  });\n\n  // Cargo routes\n  app.post('/api/cargo', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user.claims.sub;\n      const user = await storage.getUser(userId);\n      \n      if (user?.role !== \"shipper\" && user?.role !== \"admin\") {\n        return res.status(403).json({ message: \"Only shippers can create cargo listings\" });\n      }\n      \n      const cargoData = insertCargoSchema.parse(req.body);\n      const cargo = await storage.createCargo(userId, cargoData);\n      res.json(cargo);\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ message: \"Invalid cargo data\", errors: error.errors });\n      }\n      console.error(\"Error creating cargo:\", error);\n      res.status(500).json({ message: \"Failed to create cargo\" });\n    }\n  });\n\n  app.get('/api/cargo', async (req, res) => {\n    try {\n      const { status, userId, companyId } = req.query;\n      const cargo = await storage.listCargo({\n        status: status as string,\n        userId: userId as string,\n        companyId: companyId as string,\n      });\n      res.json(cargo);\n    } catch (error) {\n      console.error(\"Error listing cargo:\", error);\n      res.status(500).json({ message: \"Failed to list cargo\" });\n    }\n  });\n\n  app.get('/api/cargo/:id', async (req, res) => {\n    try {\n      const cargo = await storage.getCargo(req.params.id);\n      if (!cargo) {\n        return res.status(404).json({ message: \"Cargo not found\" });\n      }\n      res.json(cargo);\n    } catch (error) {\n      console.error(\"Error fetching cargo:\", error);\n      res.status(500).json({ message: \"Failed to fetch cargo\" });\n    }\n  });\n\n  app.patch('/api/cargo/:id', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user.claims.sub;\n      const updates = req.body;\n      const cargo = await storage.updateCargo(req.params.id, userId, updates);\n      res.json(cargo);\n    } catch (error) {\n      console.error(\"Error updating cargo:\", error);\n      res.status(500).json({ message: \"Failed to update cargo\" });\n    }\n  });\n\n  app.delete('/api/cargo/:id', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user.claims.sub;\n      await storage.deleteCargo(req.params.id, userId);\n      res.json({ message: \"Cargo deleted successfully\" });\n    } catch (error) {\n      console.error(\"Error deleting cargo:\", error);\n      res.status(500).json({ message: \"Failed to delete cargo\" });\n    }\n  });\n\n  // Bid routes\n  app.post('/api/bids', isAuthenticated, async (req: any, res) => {\n    try {\n      const carrierId = req.user.claims.sub;\n      const user = await storage.getUser(carrierId);\n      \n      if (user?.role !== \"carrier\" && user?.role !== \"admin\") {\n        return res.status(403).json({ message: \"Only carriers can place bids\" });\n      }\n      \n      const bidData = insertBidSchema.parse(req.body);\n      const bid = await storage.createBid(carrierId, bidData);\n      \n      const cargo = await storage.getCargo(bidData.cargoId);\n      if (cargo) {\n        await storage.createNotification({\n          userId: cargo.userId,\n          type: \"new_bid\",\n          title: \"–ù–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞ –Ω–∞ –≤–∞—à –≥—Ä—É–∑\",\n          message: `–ü–µ—Ä–µ–≤–æ–∑—á–∏–∫ ${user?.companyName || user?.email} —Ä–∞–∑–º–µ—Å—Ç–∏–ª —Å—Ç–∞–≤–∫—É –≤ —Ä–∞–∑–º–µ—Ä–µ ${bidData.bidAmount}‚Ç∏`,\n          link: `/cargo/${cargo.id}`,\n        });\n      }\n      \n      res.json(bid);\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ message: \"Invalid bid data\", errors: error.errors });\n      }\n      console.error(\"Error creating bid:\", error);\n      res.status(500).json({ message: \"Failed to create bid\" });\n    }\n  });\n\n  app.get('/api/cargo/:cargoId/bids', isAuthenticated, async (req, res) => {\n    try {\n      const bids = await storage.listBidsForCargo(req.params.cargoId);\n      res.json(bids);\n    } catch (error) {\n      console.error(\"Error listing bids:\", error);\n      res.status(500).json({ message: \"Failed to list bids\" });\n    }\n  });\n\n  app.get('/api/bids/my-bids', isAuthenticated, async (req: any, res) => {\n    try {\n      const carrierId = req.user.claims.sub;\n      const bids = await storage.listBidsByCarrier(carrierId);\n      res.json(bids);\n    } catch (error) {\n      console.error(\"Error listing bids:\", error);\n      res.status(500).json({ message: \"Failed to list bids\" });\n    }\n  });\n\n  app.patch('/api/bids/:id/status', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user.claims.sub;\n      const user = await storage.getUser(userId);\n      const { status } = req.body;\n      \n      if (![\"pending\", \"accepted\", \"rejected\"].includes(status)) {\n        return res.status(400).json({ message: \"Invalid status\" });\n      }\n      \n      const bid = await storage.getBid(req.params.id);\n      if (!bid) {\n        return res.status(404).json({ message: \"Bid not found\" });\n      }\n      \n      const cargo = await storage.getCargo(bid.cargoId);\n      if (!cargo) {\n        return res.status(404).json({ message: \"Cargo not found\" });\n      }\n      \n      // Only cargo owner (shipper) or admin can accept/reject bids\n      if (cargo.userId !== userId && user?.role !== \"admin\") {\n        return res.status(403).json({ message: \"Only cargo owner can accept or reject bids\" });\n      }\n      \n      if (status === \"accepted\") {\n        const updatedBid = await storage.updateBidStatus(req.params.id, status);\n        \n        const transaction = await storage.createTransaction({\n          cargoId: bid.cargoId,\n          bidId: bid.id,\n          shipperId: cargo.userId,\n          carrierId: bid.carrierId,\n          status: \"created\",\n        });\n        await storage.updateCargo(bid.cargoId, cargo.userId, { status: \"in_progress\" });\n        \n        await storage.createNotification({\n          userId: bid.carrierId,\n          type: \"bid_accepted\",\n          title: \"–í–∞—à–∞ —Å—Ç–∞–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞!\",\n          message: `–í–∞—à–∞ —Å—Ç–∞–≤–∫–∞ –Ω–∞ –≥—Ä—É–∑ \"${cargo.title}\" –±—ã–ª–∞ –ø—Ä–∏–Ω—è—Ç–∞`,\n          link: `/transactions/${transaction.id}`,\n        });\n        \n        await autoUpdateRWSOnBidAccepted(req.params.id);\n        \n        res.json({ bid: updatedBid, transaction });\n      } else {\n        const updatedBid = await storage.updateBidStatus(req.params.id, status);\n        \n        if (status === \"rejected\") {\n          await storage.createNotification({\n            userId: bid.carrierId,\n            type: \"bid_rejected\",\n            title: \"–í–∞—à–∞ —Å—Ç–∞–≤–∫–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞\",\n            message: `–í–∞—à–∞ —Å—Ç–∞–≤–∫–∞ –Ω–∞ –≥—Ä—É–∑ \"${cargo.title}\" –±—ã–ª–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞`,\n            link: `/cargo/${cargo.id}`,\n          });\n        }\n        \n        res.json(updatedBid);\n      }\n    } catch (error) {\n      console.error(\"Error updating bid status:\", error);\n      res.status(500).json({ message: \"Failed to update bid status\" });\n    }\n  });\n\n  // Transaction routes\n  app.get('/api/transactions', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user.claims.sub;\n      const transactions = await storage.listTransactions(userId);\n      res.json(transactions);\n    } catch (error) {\n      console.error(\"Error listing transactions:\", error);\n      res.status(500).json({ message: \"Failed to list transactions\" });\n    }\n  });\n\n  app.get('/api/transactions/:id', isAuthenticated, async (req, res) => {\n    try {\n      const transaction = await storage.getTransaction(req.params.id);\n      if (!transaction) {\n        return res.status(404).json({ message: \"Transaction not found\" });\n      }\n      res.json(transaction);\n    } catch (error) {\n      console.error(\"Error fetching transaction:\", error);\n      res.status(500).json({ message: \"Failed to fetch transaction\" });\n    }\n  });\n\n  app.patch('/api/transactions/:id/status', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user.claims.sub;\n      const user = await storage.getUser(userId);\n      const { status } = req.body;\n      \n      const transaction = await storage.getTransaction(req.params.id);\n      if (!transaction) {\n        return res.status(404).json({ message: \"Transaction not found\" });\n      }\n      \n      // Only shipper, carrier involved in transaction, or admin can update status\n      if (transaction.shipperId !== userId && \n          transaction.carrierId !== userId && \n          user?.role !== \"admin\") {\n        return res.status(403).json({ message: \"You don't have permission to update this transaction\" });\n      }\n      \n      const updatedTransaction = await storage.updateTransactionStatus(req.params.id, status);\n      \n      if (status === \"completed\") {\n        const cargo = await storage.getCargo(updatedTransaction.cargoId);\n        if (cargo) {\n          await storage.updateCargo(cargo.id, cargo.userId, { status: \"completed\" });\n        }\n        \n        await autoUpdateRWSOnTransactionComplete(req.params.id);\n      }\n      \n      res.json(updatedTransaction);\n    } catch (error) {\n      console.error(\"Error updating transaction status:\", error);\n      res.status(500).json({ message: \"Failed to update transaction status\" });\n    }\n  });\n\n  // RWS routes\n  app.post('/api/rws', isAuthenticated, async (req: any, res) => {\n    try {\n      const metricData = insertRWSMetricSchema.parse(req.body);\n      const metric = await storage.createRWSMetric(metricData);\n      \n      const newScore = await storage.calculateUserRWS(metricData.userId);\n      \n      res.json({ metric, rwsScore: newScore });\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ message: \"Invalid metric data\", errors: error.errors });\n      }\n      console.error(\"Error creating RWS metric:\", error);\n      res.status(500).json({ message: \"Failed to create RWS metric\" });\n    }\n  });\n\n  app.get('/api/rws/:userId', async (req, res) => {\n    try {\n      const metrics = await storage.getRWSMetricsForUser(req.params.userId);\n      const user = await storage.getUser(req.params.userId);\n      res.json({ metrics, rwsScore: user?.rwsScore || 0 });\n    } catch (error) {\n      console.error(\"Error fetching RWS metrics:\", error);\n      res.status(500).json({ message: \"Failed to fetch RWS metrics\" });\n    }\n  });\n\n  app.get('/api/rws/:userId/extended', isAuthenticated, async (req, res) => {\n    try {\n      const user = await storage.getUser(req.params.userId);\n      if (!user) {\n        return res.status(404).json({ message: \"User not found\" });\n      }\n      \n      const metrics = await storage.getRWSMetricsForUser(req.params.userId);\n      \n      res.json({\n        rwsScore: user.rwsScore || 0,\n        otdRate: parseFloat(user.otdRate || \"0\"),\n        acceptanceRate: parseFloat(user.acceptanceRate || \"0\"),\n        reliabilityScore: parseFloat(user.reliabilityScore || \"0\"),\n        totalTransactions: user.totalTransactions || 0,\n        onTimeDeliveries: user.onTimeDeliveries || 0,\n        lateDeliveries: user.lateDeliveries || 0,\n        totalBids: user.totalBids || 0,\n        acceptedBids: user.acceptedBids || 0,\n        isRecommended: user.isRecommended || false,\n        ratings: metrics,\n      });\n    } catch (error) {\n      console.error(\"Error fetching extended RWS metrics:\", error);\n      res.status(500).json({ message: \"Failed to fetch extended RWS metrics\" });\n    }\n  });\n\n  // Analytics routes\n  app.get('/api/analytics/dashboard', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user.claims.sub;\n      const user = await storage.getUser(userId);\n      \n      const allCargo = await storage.listCargo({ userId });\n      const activeCargo = allCargo.filter(c => c.status === \"active\");\n      const inProgressCargo = allCargo.filter(c => c.status === \"in_progress\");\n      const completedCargo = allCargo.filter(c => c.status === \"completed\");\n      \n      const transactions = await storage.listTransactions(userId);\n      \n      let totalBids = 0;\n      if (user?.role === \"carrier\") {\n        const myBids = await storage.listBidsByCarrier(userId);\n        totalBids = myBids.length;\n      } else if (user?.role === \"shipper\") {\n        for (const cargo of allCargo) {\n          const bids = await storage.listBidsForCargo(cargo.id);\n          totalBids += bids.length;\n        }\n      }\n      \n      res.json({\n        activeCargo: activeCargo.length,\n        inProgressCargo: inProgressCargo.length,\n        completedCargo: completedCargo.length,\n        totalBids,\n        totalTransactions: transactions.length,\n        rwsScore: user?.rwsScore || 0,\n      });\n    } catch (error) {\n      console.error(\"Error fetching analytics:\", error);\n      res.status(500).json({ message: \"Failed to fetch analytics\" });\n    }\n  });\n\n  // Message routes\n  app.post('/api/messages', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user.claims.sub;\n      const messageData = insertMessageSchema.parse(req.body);\n      \n      const transaction = await storage.getTransaction(messageData.transactionId);\n      if (!transaction) {\n        return res.status(404).json({ message: \"Transaction not found\" });\n      }\n      \n      if (transaction.shipperId !== userId && transaction.carrierId !== userId) {\n        return res.status(403).json({ message: \"Not authorized to send messages in this transaction\" });\n      }\n      \n      const message = await storage.createMessage(userId, messageData);\n      res.json(message);\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ message: \"Invalid message data\", errors: error.errors });\n      }\n      console.error(\"Error creating message:\", error);\n      res.status(500).json({ message: \"Failed to send message\" });\n    }\n  });\n\n  app.get('/api/messages/:transactionId', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user.claims.sub;\n      const transaction = await storage.getTransaction(req.params.transactionId);\n      \n      if (!transaction) {\n        return res.status(404).json({ message: \"Transaction not found\" });\n      }\n      \n      if (transaction.shipperId !== userId && transaction.carrierId !== userId) {\n        return res.status(403).json({ message: \"Not authorized to view messages in this transaction\" });\n      }\n      \n      const messages = await storage.getMessages(req.params.transactionId);\n      res.json(messages);\n    } catch (error) {\n      console.error(\"Error fetching messages:\", error);\n      res.status(500).json({ message: \"Failed to fetch messages\" });\n    }\n  });\n\n  // Notification routes\n  app.get('/api/notifications', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user.claims.sub;\n      const notifications = await storage.getNotifications(userId);\n      res.json(notifications);\n    } catch (error) {\n      console.error(\"Error fetching notifications:\", error);\n      res.status(500).json({ message: \"Failed to fetch notifications\" });\n    }\n  });\n\n  app.patch('/api/notifications/:id/read', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user.claims.sub;\n      const notification = await storage.markNotificationAsRead(req.params.id, userId);\n      res.json(notification);\n    } catch (error) {\n      console.error(\"Error marking notification as read:\", error);\n      res.status(500).json({ message: \"Failed to mark notification as read\" });\n    }\n  });\n\n  app.patch('/api/notifications/read-all', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user.claims.sub;\n      await storage.markAllNotificationsAsRead(userId);\n      res.json({ success: true });\n    } catch (error) {\n      console.error(\"Error marking all notifications as read:\", error);\n      res.status(500).json({ message: \"Failed to mark all notifications as read\" });\n    }\n  });\n\n  app.delete('/api/notifications/:id', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user.claims.sub;\n      await storage.deleteNotification(req.params.id, userId);\n      res.json({ success: true });\n    } catch (error) {\n      console.error(\"Error deleting notification:\", error);\n      res.status(500).json({ message: \"Failed to delete notification\" });\n    }\n  });\n\n  const httpServer = createServer(app);\n  return httpServer;\n}","size_bytes":19410},"client/src/components/examples/CargoCard.tsx":{"content":"import CargoCard from '../CargoCard';\n\nexport default function CargoCardExample() {\n  return (\n    <div className=\"p-6 max-w-md\">\n      <CargoCard\n        id=\"1\"\n        title=\"–°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã\"\n        origin=\"–ê–ª–º–∞—Ç—ã\"\n        destination=\"–ê—Å—Ç–∞–Ω–∞\"\n        weight={15.5}\n        price={350000}\n        pickupDate=\"2025-11-10\"\n        status=\"active\"\n        category=\"–°—Ç—Ä–æ–π–º–∞—Ç–µ—Ä–∏–∞–ª—ã\"\n      />\n    </div>\n  );\n}","size_bytes":462},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","size_bytes":1080},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/components/examples/HeroSection.tsx":{"content":"import HeroSection from '../HeroSection';\n\nexport default function HeroSectionExample() {\n  return <HeroSection />;\n}","size_bytes":117},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"client/src/lib/authUtils.ts":{"content":"export function isUnauthorizedError(error: Error): boolean {\n  return /^401: .*Unauthorized/.test(error.message);\n}","size_bytes":115},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2263},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"client/src/components/examples/RWSScore.tsx":{"content":"import RWSScore from '../RWSScore';\n\nexport default function RWSScoreExample() {\n  return (\n    <div className=\"p-6 max-w-md\">\n      <RWSScore\n        score={92}\n        onTimeDelivery={95}\n        cargoCondition={92}\n        communication={88}\n        documentation={93}\n      />\n    </div>\n  );\n}","size_bytes":298},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n","size_bytes":1904},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"shared/schema.ts":{"content":"import { sql } from 'drizzle-orm';\nimport {\n  index,\n  jsonb,\n  pgTable,\n  timestamp,\n  varchar,\n  text,\n  integer,\n  decimal,\n  boolean,\n} from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\n// Session storage table for Replit Auth\nexport const sessions = pgTable(\n  \"sessions\",\n  {\n    sid: varchar(\"sid\").primaryKey(),\n    sess: jsonb(\"sess\").notNull(),\n    expire: timestamp(\"expire\").notNull(),\n  },\n  (table) => [index(\"IDX_session_expire\").on(table.expire)],\n);\n\n// User storage table with role-based access\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  email: varchar(\"email\").unique(),\n  firstName: varchar(\"first_name\"),\n  lastName: varchar(\"last_name\"),\n  profileImageUrl: varchar(\"profile_image_url\"),\n  role: varchar(\"role\", { enum: [\"shipper\", \"carrier\", \"admin\"] }).notNull().default(\"shipper\"),\n  companyId: varchar(\"company_id\"),\n  companyName: varchar(\"company_name\"),\n  phone: varchar(\"phone\"),\n  bin: varchar(\"bin\", { length: 12 }),\n  iin: varchar(\"iin\", { length: 12 }),\n  isVerified: boolean(\"is_verified\").default(false),\n  edsCertId: varchar(\"eds_cert_id\"),\n  edsCertExpiry: timestamp(\"eds_cert_expiry\"),\n  rwsScore: integer(\"rws_score\").default(0),\n  otdRate: decimal(\"otd_rate\", { precision: 5, scale: 2 }).default(\"0\"),\n  acceptanceRate: decimal(\"acceptance_rate\", { precision: 5, scale: 2 }).default(\"0\"),\n  reliabilityScore: decimal(\"reliability_score\", { precision: 5, scale: 2 }).default(\"0\"),\n  totalTransactions: integer(\"total_transactions\").default(0),\n  onTimeDeliveries: integer(\"on_time_deliveries\").default(0),\n  lateDeliveries: integer(\"late_deliveries\").default(0),\n  totalBids: integer(\"total_bids\").default(0),\n  acceptedBids: integer(\"accepted_bids\").default(0),\n  isRecommended: boolean(\"is_recommended\").default(false),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport type UpsertUser = typeof users.$inferInsert;\nexport type User = typeof users.$inferSelect;\n\nexport const updateUserProfileSchema = createInsertSchema(users).pick({\n  firstName: true,\n  lastName: true,\n  companyName: true,\n  phone: true,\n  bin: true,\n  iin: true,\n}).extend({\n  bin: z.string().optional().transform(val => val === \"\" ? undefined : val).pipe(\n    z.string().length(12, \"–ë–ò–ù –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 12 —Ü–∏—Ñ—Ä\").regex(/^\\d{12}$/, \"–ë–ò–ù –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã\").optional()\n  ),\n  iin: z.string().optional().transform(val => val === \"\" ? undefined : val).pipe(\n    z.string().length(12, \"–ò–ò–ù –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 12 —Ü–∏—Ñ—Ä\").regex(/^\\d{12}$/, \"–ò–ò–ù –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã\").optional()\n  ),\n  phone: z.string().optional().transform(val => val === \"\" ? undefined : val).pipe(\n    z.string().regex(/^\\+?[0-9]{10,15}$/, \"–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–∞\").optional()\n  ),\n});\n\nexport type UpdateUserProfile = z.infer<typeof updateUserProfileSchema>;\n\n// Cargo listings\nexport const cargo = pgTable(\"cargo\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id),\n  companyId: varchar(\"company_id\"),\n  title: text(\"title\").notNull(),\n  description: text(\"description\"),\n  category: varchar(\"category\").notNull(),\n  origin: varchar(\"origin\").notNull(),\n  destination: varchar(\"destination\").notNull(),\n  weight: decimal(\"weight\", { precision: 10, scale: 2 }).notNull(),\n  price: decimal(\"price\", { precision: 12, scale: 2 }).notNull(),\n  pickupDate: timestamp(\"pickup_date\").notNull(),\n  deliveryDate: timestamp(\"delivery_date\"),\n  auctionEndDate: timestamp(\"auction_end_date\"),\n  status: varchar(\"status\", { enum: [\"active\", \"in_progress\", \"completed\", \"cancelled\"] }).notNull().default(\"active\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport const insertCargoSchema = createInsertSchema(cargo).omit({\n  id: true,\n  userId: true,\n  companyId: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport type InsertCargo = z.infer<typeof insertCargoSchema>;\nexport type Cargo = typeof cargo.$inferSelect;\n\n// Bids on cargo\nexport const bids = pgTable(\"bids\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  cargoId: varchar(\"cargo_id\").notNull().references(() => cargo.id),\n  carrierId: varchar(\"carrier_id\").notNull().references(() => users.id),\n  bidAmount: decimal(\"bid_amount\", { precision: 12, scale: 2 }).notNull(),\n  deliveryTime: varchar(\"delivery_time\").notNull(),\n  vehicleType: varchar(\"vehicle_type\").notNull(),\n  message: text(\"message\"),\n  status: varchar(\"status\", { enum: [\"pending\", \"accepted\", \"rejected\"] }).notNull().default(\"pending\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport const insertBidSchema = createInsertSchema(bids).omit({\n  id: true,\n  carrierId: true,\n  status: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport type InsertBid = z.infer<typeof insertBidSchema>;\nexport type Bid = typeof bids.$inferSelect;\n\n// Transactions tracking deal lifecycle\nexport const transactions = pgTable(\"transactions\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  cargoId: varchar(\"cargo_id\").notNull().references(() => cargo.id),\n  bidId: varchar(\"bid_id\").notNull().references(() => bids.id),\n  shipperId: varchar(\"shipper_id\").notNull().references(() => users.id),\n  carrierId: varchar(\"carrier_id\").notNull().references(() => users.id),\n  status: varchar(\"status\", { \n    enum: [\"created\", \"confirmed\", \"in_transit\", \"delivered\", \"completed\", \"disputed\"] \n  }).notNull().default(\"created\"),\n  pickupConfirmed: boolean(\"pickup_confirmed\").default(false),\n  deliveryConfirmed: boolean(\"delivery_confirmed\").default(false),\n  edsSignature: text(\"eds_signature\"),\n  eInvoiceNumber: varchar(\"e_invoice_number\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n  completedAt: timestamp(\"completed_at\"),\n});\n\nexport const insertTransactionSchema = createInsertSchema(transactions).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n  completedAt: true,\n});\n\nexport type InsertTransaction = z.infer<typeof insertTransactionSchema>;\nexport type Transaction = typeof transactions.$inferSelect;\n\n// RWS Quality Metrics\nexport const rwsMetrics = pgTable(\"rws_metrics\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id),\n  transactionId: varchar(\"transaction_id\").notNull().references(() => transactions.id),\n  onTimeDelivery: integer(\"on_time_delivery\").notNull(),\n  cargoCondition: integer(\"cargo_condition\").notNull(),\n  communication: integer(\"communication\").notNull(),\n  documentation: integer(\"documentation\").notNull(),\n  overallScore: integer(\"overall_score\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const insertRWSMetricSchema = createInsertSchema(rwsMetrics).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport type InsertRWSMetric = z.infer<typeof insertRWSMetricSchema>;\nexport type RWSMetric = typeof rwsMetrics.$inferSelect;\n\n// Messages for transaction chat\nexport const messages = pgTable(\"messages\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  transactionId: varchar(\"transaction_id\").notNull().references(() => transactions.id),\n  senderId: varchar(\"sender_id\").notNull().references(() => users.id),\n  content: text(\"content\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const insertMessageSchema = createInsertSchema(messages).omit({\n  id: true,\n  senderId: true,\n  createdAt: true,\n});\n\nexport type InsertMessage = z.infer<typeof insertMessageSchema>;\nexport type Message = typeof messages.$inferSelect;\n\n// Notifications for in-app alerts\nexport const notifications = pgTable(\"notifications\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id),\n  type: varchar(\"type\", { \n    enum: [\"new_bid\", \"bid_accepted\", \"bid_rejected\", \"status_update\", \"new_message\", \"auction_ending\"] \n  }).notNull(),\n  title: text(\"title\").notNull(),\n  message: text(\"message\").notNull(),\n  link: varchar(\"link\"),\n  isRead: boolean(\"is_read\").default(false),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const insertNotificationSchema = createInsertSchema(notifications).omit({\n  id: true,\n  isRead: true,\n  createdAt: true,\n});\n\nexport type InsertNotification = z.infer<typeof insertNotificationSchema>;\nexport type Notification = typeof notifications.$inferSelect;","size_bytes":8782},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* LIGHT MODE */\n:root {\n  --button-outline: rgba(0,0,0, .10);\n  --badge-outline: rgba(0,0,0, .05);\n\n  /* Automatic computation of border around primary / danger buttons */\n  --opaque-button-border-intensity: -8; /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(0,0,0, .03);\n  --elevate-2: rgba(0,0,0, .08);\n\n  --background: 0 0% 98%;\n\n  --foreground: 220 15% 15%;\n\n  --border: 220 13% 88%;\n\n  --card: 0 0% 96%;\n\n  --card-foreground: 220 15% 18%;\n\n  --card-border: 220 12% 90%;\n\n  --sidebar: 220 8% 94%;\n\n  --sidebar-foreground: 220 15% 20%;\n\n  --sidebar-border: 220 10% 87%;\n\n  --sidebar-primary: 211 85% 45%;\n\n  --sidebar-primary-foreground: 210 100% 98%;\n\n  --sidebar-accent: 220 10% 89%;\n\n  --sidebar-accent-foreground: 220 15% 25%;\n\n  --sidebar-ring: 211 85% 45%;\n\n  --popover: 0 0% 92%;\n\n  --popover-foreground: 220 15% 20%;\n\n  --popover-border: 220 12% 85%;\n\n  --primary: 211 85% 45%;\n\n  --primary-foreground: 210 100% 98%;\n\n  --secondary: 220 10% 88%;\n\n  --secondary-foreground: 220 15% 22%;\n\n  --muted: 220 12% 90%;\n\n  --muted-foreground: 220 12% 40%;\n\n  --accent: 145 45% 88%;\n\n  --accent-foreground: 145 50% 20%;\n\n  --destructive: 0 72% 48%;\n\n  --destructive-foreground: 0 100% 98%;\n\n  --input: 220 13% 75%;\n  --ring: 211 85% 45%;\n  --chart-1: 211 85% 35%;\n  --chart-2: 145 65% 35%;\n  --chart-3: 35 85% 40%;\n  --chart-4: 270 60% 42%;\n  --chart-5: 15 75% 45%;\n\n  --font-sans: Roboto, -apple-system, BlinkMacSystemFont, \"Segoe UI\", sans-serif;\n  --font-serif: Georgia, serif;\n  --font-mono: \"Roboto Mono\", Menlo, monospace;\n  --radius: .5rem;\n  --shadow-2xs: 0px 1px 2px 0px hsl(220 15% 15% / 0.03);\n  --shadow-xs: 0px 1px 2px 0px hsl(220 15% 15% / 0.05);\n  --shadow-sm: 0px 1px 3px 0px hsl(220 15% 15% / 0.08), 0px 1px 2px -1px hsl(220 15% 15% / 0.08);\n  --shadow: 0px 2px 4px -1px hsl(220 15% 15% / 0.10), 0px 4px 6px -1px hsl(220 15% 15% / 0.10);\n  --shadow-md: 0px 4px 6px -1px hsl(220 15% 15% / 0.10), 0px 2px 4px -2px hsl(220 15% 15% / 0.10);\n  --shadow-lg: 0px 10px 15px -3px hsl(220 15% 15% / 0.10), 0px 4px 6px -4px hsl(220 15% 15% / 0.10);\n  --shadow-xl: 0px 20px 25px -5px hsl(220 15% 15% / 0.10), 0px 8px 10px -6px hsl(220 15% 15% / 0.10);\n  --shadow-2xl: 0px 25px 50px -12px hsl(220 15% 15% / 0.15);\n  --tracking-normal: 0em;\n  --spacing: 0.25rem;\n\n  /* Automatically computed borders - intensity can be controlled by the user by the --opaque-button-border-intensity setting */\n\n  /* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n.dark {\n  --button-outline: rgba(255,255,255, .10);\n  --badge-outline: rgba(255,255,255, .05);\n\n  --opaque-button-border-intensity: 9;  /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(255,255,255, .04);\n  --elevate-2: rgba(255,255,255, .09);\n\n  --background: 220 6% 10%;\n\n  --foreground: 210 20% 92%;\n\n  --border: 220 8% 20%;\n\n  --card: 220 6% 13%;\n\n  --card-foreground: 210 20% 90%;\n\n  --card-border: 220 8% 18%;\n\n  --sidebar: 220 6% 16%;\n\n  --sidebar-foreground: 210 20% 88%;\n\n  --sidebar-border: 220 8% 22%;\n\n  --sidebar-primary: 211 80% 50%;\n\n  --sidebar-primary-foreground: 210 100% 98%;\n\n  --sidebar-accent: 220 8% 20%;\n\n  --sidebar-accent-foreground: 210 20% 85%;\n\n  --sidebar-ring: 211 80% 50%;\n\n  --popover: 220 6% 18%;\n\n  --popover-foreground: 210 20% 88%;\n\n  --popover-border: 220 8% 24%;\n\n  --primary: 211 80% 50%;\n\n  --primary-foreground: 210 100% 98%;\n\n  --secondary: 220 8% 22%;\n\n  --secondary-foreground: 210 20% 85%;\n\n  --muted: 220 8% 20%;\n\n  --muted-foreground: 220 10% 65%;\n\n  --accent: 145 20% 22%;\n\n  --accent-foreground: 145 30% 85%;\n\n  --destructive: 0 65% 45%;\n\n  --destructive-foreground: 0 100% 98%;\n\n  --input: 220 10% 35%;\n  --ring: 211 80% 50%;\n  --chart-1: 211 85% 65%;\n  --chart-2: 145 70% 65%;\n  --chart-3: 35 90% 65%;\n  --chart-4: 270 65% 70%;\n  --chart-5: 15 80% 68%;\n\n  --shadow-2xs: 0px 1px 2px 0px hsl(0 0% 0% / 0.15);\n  --shadow-xs: 0px 1px 2px 0px hsl(0 0% 0% / 0.20);\n  --shadow-sm: 0px 1px 3px 0px hsl(0 0% 0% / 0.25), 0px 1px 2px -1px hsl(0 0% 0% / 0.25);\n  --shadow: 0px 2px 4px -1px hsl(0 0% 0% / 0.30), 0px 4px 6px -1px hsl(0 0% 0% / 0.30);\n  --shadow-md: 0px 4px 6px -1px hsl(0 0% 0% / 0.30), 0px 2px 4px -2px hsl(0 0% 0% / 0.30);\n  --shadow-lg: 0px 10px 15px -3px hsl(0 0% 0% / 0.35), 0px 4px 6px -4px hsl(0 0% 0% / 0.35);\n  --shadow-xl: 0px 20px 25px -5px hsl(0 0% 0% / 0.40), 0px 8px 10px -6px hsl(0 0% 0% / 0.40);\n  --shadow-2xl: 0px 25px 50px -12px hsl(0 0% 0% / 0.50);\n\n  /* Automatically computed borders - intensity can be controlled by the user by the --opaque-button-border-intensity setting */\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n\n/**\n * Using the elevate system.\n * Automatic contrast adjustment.\n *\n * <element className=\"hover-elevate\" />\n * <element className=\"active-elevate-2\" />\n *\n * // Using the tailwind utility when a data attribute is \"on\"\n * <element className=\"toggle-elevate data-[state=on]:toggle-elevated\" />\n * // Or manually controlling the toggle state\n * <element className=\"toggle-elevate toggle-elevated\" />\n *\n * Elevation systems have to handle many states.\n * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)\n * - toggled or not\n * - focused or not (this is not handled with these utilities)\n *\n * Even without handling focused or not, this is six possible combinations that\n * need to be distinguished from eachother visually.\n */\n@layer utilities {\n\n  /* Hide ugly search cancel button in Chrome until we can style it properly */\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  /* Placeholder styling for contentEditable div */\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of\n   * buttons/badges can remove the automatic brightness adjustment on interactions\n   * and program their own. */\n  .no-default-hover-elevate {}\n\n  .no-default-active-elevate {}\n\n\n  /**\n   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.\n   * This way they can stack/compound. Both will overlap the parent's borders!\n   * So borders will be automatically adjusted both on toggle, and hover/active,\n   * and they will be compounded.\n   */\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: -1;\n    /* sits behind content but above backdrop */\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  /* Does not work on elements with overflow:hidden! */\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: 999;\n    /* sits in front of content */\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {\n    inset: -1px;\n  }\n}","size_bytes":10819},"server/replitAuth.ts":{"content":"import * as client from \"openid-client\";\nimport { Strategy, type VerifyFunction } from \"openid-client/passport\";\n\nimport passport from \"passport\";\nimport session from \"express-session\";\nimport type { Express, RequestHandler } from \"express\";\nimport memoize from \"memoizee\";\nimport connectPg from \"connect-pg-simple\";\nimport { storage } from \"./storage\";\n\nconst getOidcConfig = memoize(\n  async () => {\n    return await client.discovery(\n      new URL(process.env.ISSUER_URL ?? \"https://replit.com/oidc\"),\n      process.env.REPL_ID!\n    );\n  },\n  { maxAge: 3600 * 1000 }\n);\n\nexport function getSession() {\n  const sessionTtl = 7 * 24 * 60 * 60 * 1000;\n  const pgStore = connectPg(session);\n  const sessionStore = new pgStore({\n    conString: process.env.DATABASE_URL,\n    createTableIfMissing: false,\n    ttl: sessionTtl,\n    tableName: \"sessions\",\n  });\n  return session({\n    secret: process.env.SESSION_SECRET!,\n    store: sessionStore,\n    resave: false,\n    saveUninitialized: false,\n    cookie: {\n      httpOnly: true,\n      secure: true,\n      maxAge: sessionTtl,\n    },\n  });\n}\n\nfunction updateUserSession(\n  user: any,\n  tokens: client.TokenEndpointResponse & client.TokenEndpointResponseHelpers\n) {\n  user.claims = tokens.claims();\n  user.access_token = tokens.access_token;\n  user.refresh_token = tokens.refresh_token;\n  user.expires_at = user.claims?.exp;\n}\n\nasync function upsertUser(claims: any) {\n  await storage.upsertUser({\n    id: claims[\"sub\"],\n    email: claims[\"email\"],\n    firstName: claims[\"first_name\"],\n    lastName: claims[\"last_name\"],\n    profileImageUrl: claims[\"profile_image_url\"],\n  });\n}\n\nexport async function setupAuth(app: Express) {\n  app.set(\"trust proxy\", 1);\n  app.use(getSession());\n  app.use(passport.initialize());\n  app.use(passport.session());\n\n  const config = await getOidcConfig();\n\n  const verify: VerifyFunction = async (\n    tokens: client.TokenEndpointResponse & client.TokenEndpointResponseHelpers,\n    verified: passport.AuthenticateCallback\n  ) => {\n    const user = {};\n    updateUserSession(user, tokens);\n    await upsertUser(tokens.claims());\n    verified(null, user);\n  };\n\n  const registeredStrategies = new Set<string>();\n\n  const ensureStrategy = (domain: string) => {\n    const strategyName = `replitauth:${domain}`;\n    if (!registeredStrategies.has(strategyName)) {\n      const strategy = new Strategy(\n        {\n          name: strategyName,\n          config,\n          scope: \"openid email profile offline_access\",\n          callbackURL: `https://${domain}/api/callback`,\n        },\n        verify,\n      );\n      passport.use(strategy);\n      registeredStrategies.add(strategyName);\n    }\n  };\n\n  passport.serializeUser((user: Express.User, cb) => cb(null, user));\n  passport.deserializeUser((user: Express.User, cb) => cb(null, user));\n\n  app.get(\"/api/login\", (req, res, next) => {\n    ensureStrategy(req.hostname);\n    passport.authenticate(`replitauth:${req.hostname}`, {\n      prompt: \"login consent\",\n      scope: [\"openid\", \"email\", \"profile\", \"offline_access\"],\n    })(req, res, next);\n  });\n\n  app.get(\"/api/callback\", (req, res, next) => {\n    ensureStrategy(req.hostname);\n    passport.authenticate(`replitauth:${req.hostname}`, {\n      successReturnToOrRedirect: \"/\",\n      failureRedirect: \"/api/login\",\n    })(req, res, next);\n  });\n\n  app.get(\"/api/logout\", (req, res) => {\n    req.logout(() => {\n      res.redirect(\n        client.buildEndSessionUrl(config, {\n          client_id: process.env.REPL_ID!,\n          post_logout_redirect_uri: `${req.protocol}://${req.hostname}`,\n        }).href\n      );\n    });\n  });\n}\n\nexport const isAuthenticated: RequestHandler = async (req, res, next) => {\n  const user = req.user as any;\n\n  if (!req.isAuthenticated() || !user.expires_at) {\n    return res.status(401).json({ message: \"Unauthorized\" });\n  }\n\n  const now = Math.floor(Date.now() / 1000);\n  if (now <= user.expires_at) {\n    return next();\n  }\n\n  const refreshToken = user.refresh_token;\n  if (!refreshToken) {\n    res.status(401).json({ message: \"Unauthorized\" });\n    return;\n  }\n\n  try {\n    const config = await getOidcConfig();\n    const tokenResponse = await client.refreshTokenGrant(config, refreshToken);\n    updateUserSession(user, tokenResponse);\n    return next();\n  } catch (error) {\n    res.status(401).json({ message: \"Unauthorized\" });\n    return;\n  }\n};","size_bytes":4355},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"client/src/components/examples/StatsCard.tsx":{"content":"import StatsCard from '../StatsCard';\nimport { PackageIcon } from 'lucide-react';\n\nexport default function StatsCardExample() {\n  return (\n    <div className=\"p-6 max-w-xs\">\n      <StatsCard\n        icon={PackageIcon}\n        label=\"–ê–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä—É–∑—ã\"\n        value=\"1,234\"\n        change=\"+12.5%\"\n        trend=\"up\"\n      />\n    </div>\n  );\n}","size_bytes":353},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1202},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},".local/state/replit/agent/progress_tracker.md":{"content":"# LogiFlex.kz - –¢—Ä–µ–∫–µ—Ä –ü—Ä–æ–≥—Ä–µ—Å—Å–∞ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∏\n\n## üéØ –°—Ç–∞—Ç—É—Å –ú–∏–≥—Ä–∞—Ü–∏–∏\n[x] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ (496 –ø–∞–∫–µ—Ç–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ)\n[x] –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 5000)\n[x] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ (–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è)\n[x] –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ - –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ\n\n---\n\n## üü¢ MVP (Foundation) ‚Äì –ë–∞–∑–æ–≤—ã–π –ê—É–∫—Ü–∏–æ–Ω\n**–°—Ç–∞—Ç—É—Å**: –í –ø—Ä–æ—Ü–µ—Å—Å–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è\n\n### MVP.1 - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è\n[x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Replit Auth (OpenID Connect)\n[x] –°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π (Shipper/Carrier/Admin)\n[x] –¢–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –ë–î\n[x] API endpoints –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏\n[x] Middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏\n[ ] –ü—Ä–æ—Ñ–∏–ª—å —Å –ø–æ–ª—è–º–∏ –ë–ò–ù/–ò–ò–ù\n[ ] –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (IsVerified)\n[ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≠–¶–ü —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (EDS_CertID)\n\n### MVP.2 - –°–æ–∑–¥–∞–Ω–∏–µ –ó–∞—è–≤–∫–∏ (Shipment)\n[x] –°—Ö–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö Cargo –≤ –ë–î\n[x] API endpoint –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä—É–∑–∞ (POST /api/cargo)\n[x] –ë–∞–∑–æ–≤–∞—è —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä—É–∑–∞\n[ ] –ü–æ–ª–Ω–∞—è —Ñ–æ—Ä–º–∞ —Å –º–∞—Ä—à—Ä—É—Ç–æ–º (origin/destination)\n[ ] –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥—Ä—É–∑–∞ (–≤–µ—Å, –æ–±—ä–µ–º, —Ç–∏–ø)\n[ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–∞\n[ ] UI –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏\n[ ] –ü—Ä–∏–≤—è–∑–∫–∞ CompanyID –¥–ª—è –º—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–æ—Å—Ç–∏\n\n### MVP.3 - –ú–µ—Ö–∞–Ω–∏–∑–º –û–±—Ä–∞—Ç–Ω–æ–≥–æ –ê—É–∫—Ü–∏–æ–Ω–∞\n[x] –¢–∞–±–ª–∏—Ü–∞ Bids –≤ –ë–î\n[x] API –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —Å—Ç–∞–≤–æ–∫ (POST /api/bids)\n[x] API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞–≤–æ–∫ –ø–æ –≥—Ä—É–∑—É (GET /api/cargo/:id/bids)\n[x] –ë–∞–∑–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç BidCard\n[ ] –¢–∞–π–º–µ—Ä –∞—É–∫—Ü–∏–æ–Ω–∞ (StartTime/EndTime –≤ Tender)\n[ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –ø–æ–±–µ–¥–∏—Ç–µ–ª—è\n[ ] UI –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —Å—Ç–∞–≤–æ–∫\n[ ] UI –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Ö–æ–¥—è—â–∏—Ö —Å—Ç–∞–≤–æ–∫\n[ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö —Å—Ç–∞–≤–∫–∞—Ö\n[ ] –ó–∞–∫—Ä—ã—Ç–∏–µ –∞—É–∫—Ü–∏–æ–Ω–∞ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è\n\n### MVP.4 - –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –∏ Workflow\n[x] –¢–∞–±–ª–∏—Ü–∞ Transactions –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–¥–µ–ª–æ–∫\n[x] API –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ —Å–¥–µ–ª–∫–∏\n[x] –ë–∞–∑–æ–≤—ã–π workflow —Å—Ç–∞—Ç—É—Å–æ–≤\n[ ] –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π —á–∞—Ç –º–µ–∂–¥—É Shipper –∏ Carrier\n[ ] WebSocket –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —á–∞—Ç–∞\n[ ] –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π\n[ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö\n[ ] –ü–æ–ª–Ω—ã–π workflow: created ‚Üí active ‚Üí in_progress ‚Üí completed/cancelled\n\n### MVP.5 - –†–µ–π—Ç–∏–Ω–≥–æ–≤–∞—è –°–∏—Å—Ç–µ–º–∞ 1.0\n[x] –¢–∞–±–ª–∏—Ü–∞ RWS_metrics –≤ –ë–î\n[x] API –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ü–µ–Ω–∫–∏ (POST /api/rws)\n[x] API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫ (GET /api/rws/:userId)\n[x] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç RWSScore –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è\n[ ] UI —Ñ–æ—Ä–º–∞ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ü–µ–Ω–∫–∏ (1-5 –∑–≤–µ–∑–¥)\n[ ] –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ–µ –æ—Ü–µ–Ω–∏–≤–∞–Ω–∏–µ (Shipper ‚Üî Carrier)\n[ ] –†–∞—Å—á–µ—Ç –æ–±—â–µ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ü–µ–Ω–æ–∫\n[ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –æ—Ü–µ–Ω–æ–∫\n\n---\n\n## üü° Phase 1 (–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ –ö–∞—á–µ—Å—Ç–≤–æ)\n**–°—Ç–∞—Ç—É—Å**: –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è\n\n### P1.1 - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≠–¶–ü –†–ö\n[ ] Mock –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤\n[ ] –°—Ö–µ–º–∞ E-TTH –≤ –ë–î (GOVDOCS –º–æ–¥—É–ª—å)\n[ ] API –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –µ-–¢–¢–ù\n[ ] UI –¥–ª—è –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è –µ-–¢–¢–ù\n[ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º –≠–¶–ü (–±—É–¥—É—â–µ–µ)\n\n### P1.2 - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ö–¢–†–£ (–°–∞–Ω–∫—Ü–∏–æ–Ω–Ω—ã–π –°–ø–∏—Å–æ–∫)\n[ ] Mock API –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∞–Ω–∫—Ü–∏–π\n[ ] –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è —Å–∞–Ω–∫—Ü–∏–æ–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞\n[ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏\n[ ] –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ —Å–ø–∏—Å–∫–∞\n[ ] UI —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ\n\n### P1.3 - –†–µ–ø—É—Ç–∞—Ü–∏–æ–Ω–Ω–∞—è –°–∏—Å—Ç–µ–º–∞ RWS 2.0\n[x] –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–µ—Ç—Ä–∏–∫\n[ ] –†–∞—Å—á–µ—Ç OTD (On-Time Delivery) %\n[ ] –†–∞—Å—á–µ—Ç AcceptanceRate (–ø—Ä–æ—Ü–µ–Ω—Ç –ø—Ä–∏–Ω—è—Ç—ã—Ö –∑–∞—è–≤–æ–∫)\n[ ] –†–∞—Å—á–µ—Ç ReliabilityScore –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏–∏\n[ ] –í–µ—Å–æ–≤—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫\n[ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Å–¥–µ–ª–∫–∏\n\n### P1.4 - Recommendation Badge\n[ ] –ê–ª–≥–æ—Ä–∏—Ç–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è \"—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã—Ö\" –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤\n[ ] –í–∏–∑—É–∞–ª—å–Ω—ã–π –±–µ–π–¥–∂ –≤ UI\n[ ] –§–∏–ª—å—Ç—Ä –ø–æ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–º –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞–º\n[ ] Tooltip —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤\n\n### P1.5 - GPS –¢—Ä–µ–∫–∏–Ω–≥\n[ ] –°—Ö–µ–º–∞ –¥–ª—è GPS –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î\n[ ] Mock GPS –ø—Ä–æ–≤–∞–π–¥–µ—Ä\n[ ] API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞\n[ ] –ö–∞—Ä—Ç–∞ —Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º –º–∞—Ä—à—Ä—É—Ç–∞ (Google Maps / Leaflet)\n[ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏\n[ ] –ò—Å—Ç–æ—Ä–∏—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–π\n\n### P1.6 - –†–∞—Å—á–µ—Ç –ü—Ä–æ—Å—Ç–æ—è (–î–µ–º–µ—Ä—Ä–µ–¥–∂)\n[ ] –¢–∞–±–ª–∏—Ü–∞ DemurrageInvoice\n[ ] –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å—á–µ—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ—Å—Ç–æ—è\n[ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —à—Ç—Ä–∞—Ñ–æ–≤\n[ ] API –¥–ª—è –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å—á–µ—Ç–æ–≤ –∑–∞ –ø—Ä–æ—Å—Ç–æ–π\n[ ] UI –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ –æ—Å–ø–∞—Ä–∏–≤–∞–Ω–∏—è —à—Ç—Ä–∞—Ñ–æ–≤\n\n### P1.7 - –°–∏—Å—Ç–µ–º–∞ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–π\n[ ] Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (Nodemailer / SendGrid)\n[ ] SMS —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (Twilio / –¥—Ä—É–≥–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä)\n[ ] In-App —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\n[ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π\n[ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ: –Ω–æ–≤—ã—Ö —Å—Ç–∞–≤–∫–∞—Ö, –ø–æ–±–µ–¥–µ –≤ –∞—É–∫—Ü–∏–æ–Ω–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞, –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö\n\n---\n\n## üîµ Phase 2 (–§–∏–Ω—Ç–µ—Ö –∏ TMS)\n**–°—Ç–∞—Ç—É—Å**: –ù–µ –Ω–∞—á–∞—Ç–æ\n\n### P2.1 - –ó–∞–π–º—ã –ø–æ–¥ –†–µ–π—Å\n[ ] –¢–∞–±–ª–∏—Ü–∞ Loan –≤ –ë–î\n[ ] –ü–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–æ —Å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º –∏–Ω—Å—Ç–∏—Ç—É—Ç–æ–º (mock)\n[ ] API –¥–ª—è –∑–∞—è–≤–∫–∏ –Ω–∞ –∑–∞–π–º\n[ ] –û—Ü–µ–Ω–∫–∞ –∫—Ä–µ–¥–∏—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ RWS\n[ ] UI –¥–ª—è –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–∫–∏\n[ ] Workflow –æ–¥–æ–±—Ä–µ–Ω–∏—è –∑–∞–π–º–∞\n\n### P2.2 - –§–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ù–∞–∫–ª–∞–¥–Ω—ã—Ö\n[ ] –°—Ö–µ–º–∞ –¥–ª—è —Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π\n[ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –µ-–¢–¢–ù\n[ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–æ–≤–æ–π –∫–æ–º–ø–∞–Ω–∏–µ–π\n[ ] UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–æ–º\n\n### P2.3 - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ê–≤—Ç–æ–ø–∞—Ä–∫–æ–º (TMS)\n[ ] –¢–∞–±–ª–∏—Ü–∞ Vehicle –≤ –ë–î\n[ ] CRUD –¥–ª—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤\n[ ] –ò—Å—Ç–æ—Ä–∏—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è (MaintenanceLog)\n[ ] –£—á–µ—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ —Ç–æ–ø–ª–∏–≤–æ (FuelExpense)\n[ ] UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ–ø–∞—Ä–∫–æ–º\n\n### P2.4 - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ú–∞—Ä—à—Ä—É—Ç–æ–≤\n[ ] –ê–ª–≥–æ—Ä–∏—Ç–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤\n[ ] –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –≤–æ–¥–∏—Ç–µ–ª–µ–π –Ω–∞ —Ä–µ–π—Å—ã\n[ ] –£—á–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤–æ–¥–∏—Ç–µ–ª–µ–π –∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞\n[ ] UI –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–π—Å–æ–≤\n\n### P2.5 - WebSockets –¥–ª—è Real-Time\n[ ] WebSocket —Å–µ—Ä–≤–µ—Ä (ws –ø–∞–∫–µ—Ç —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)\n[ ] –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è\n[ ] Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤\n[ ] Live –∞—É–∫—Ü–∏–æ–Ω —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏\n\n---\n\n## üü£ Phase 3 (–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ ML)\n**–°—Ç–∞—Ç—É—Å**: –ù–µ –Ω–∞—á–∞—Ç–æ\n\n### P3.1 - BI –î–∞—à–±–æ—Ä–¥—ã\n[x] –ë–∞–∑–æ–≤–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (GET /api/analytics/dashboard)\n[ ] –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞\n[ ] –ü—Ä–æ–≥–Ω–æ–∑—ã —Ü–µ–Ω –Ω–∞ –ø–µ—Ä–µ–≤–æ–∑–∫–∏\n[ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Power BI / Metabase\n[ ] –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞\n\n### P3.2 - Smart Matching (AI)\n[ ] –ê–ª–≥–æ—Ä–∏—Ç–º –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –¥–ª—è –ø–æ–¥–±–æ—Ä–∞\n[ ] –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö\n[ ] API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π\n[ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∞—É–∫—Ü–∏–æ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É\n\n### P3.3 - –ü—Ä–µ–¥—Å–∫–∞–∑–∞—Ç–µ–ª—å–Ω—ã–π –ê–Ω–∞–ª–∏–∑ –†–∏—Å–∫–æ–≤\n[ ] –ú–æ–¥–µ–ª—å –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –∑–∞–¥–µ—Ä–∂–µ–∫\n[ ] –û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏\n[ ] –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∏—Å–∫–æ–≤\n[ ] UI –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–∏—Å–∫–æ–≤\n\n---\n\n## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –î–æ–ª–≥ –∏ –£–ª—É—á—à–µ–Ω–∏—è\n\n### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞\n[ ] –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã (CORE, GOVDOCS, RWS, FINTECH, TMS)\n[ ] –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ Kafka/RabbitMQ\n[ ] –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –º—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–æ—Å—Ç–∏ (CompanyID —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è)\n[ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å Redis\n[ ] –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏\n\n### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å\n[x] HTTPS (Replit –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç)\n[x] –ë–∞–∑–æ–≤–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è\n[ ] OAuth 2.0 —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è\n[ ] –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –ø–æ–∫–æ–µ (AES-256)\n[ ] –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –∞—É–¥–∏—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏\n[ ] Rate limiting –¥–ª—è API\n[ ] CSRF –∑–∞—â–∏—Ç–∞\n\n### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å\n[ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î\n[ ] –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤\n[ ] Pagination –¥–ª—è —Å–ø–∏—Å–∫–æ–≤\n[ ] Lazy loading –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤\n[ ] Code splitting\n[ ] CDN –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤\n\n### DevOps\n[x] CI/CD –±–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (Replit)\n[ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ\n[ ] Unit —Ç–µ—Å—Ç—ã\n[ ] Integration —Ç–µ—Å—Ç—ã\n[ ] E2E —Ç–µ—Å—Ç—ã\n[ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥\n[ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ)\n[ ] –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î\n\n### UI/UX\n[x] –ë–∞–∑–æ–≤—ã–π –¥–∏–∑–∞–π–Ω —Å–∏—Å—Ç–µ–º—ã\n[x] –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã\n[ ] –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (responsive)\n[ ] –¢–µ–º–Ω–∞—è —Ç–µ–º–∞\n[ ] –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (RU/KZ/EN)\n[ ] Accessibility (a11y)\n[ ] –ê–Ω–∏–º–∞—Ü–∏–∏ –∏ transitions\n[ ] Skeleton loaders –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü\n\n---\n\n## üìä –¢–µ–∫—É—â–∏–µ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã\n\n### üî• –°—Ä–æ—á–Ω–æ (–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ MVP)\n1. –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ñ–æ—Ä–º—É —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä—É–∑–∞ —Å –ø–æ–ª–Ω—ã–º–∏ –ø–æ–ª—è–º–∏\n2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å UI –¥–ª—è –∞—É–∫—Ü–∏–æ–Ω–∞ —Å–æ —Å—Ç–∞–≤–∫–∞–º–∏\n3. –î–æ–±–∞–≤–∏—Ç—å —á–∞—Ç –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏\n4. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ–æ—Ä–º—É –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ü–µ–Ω–æ–∫\n5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π flow: —Å–æ–∑–¥–∞–Ω–∏–µ ‚Üí –∞—É–∫—Ü–∏–æ–Ω ‚Üí —Å–¥–µ–ª–∫–∞ ‚Üí –æ—Ü–µ–Ω–∫–∞\n\n### üìÖ –í –ë–ª–∏–∂–∞–π—à–µ–µ –í—Ä–µ–º—è (Phase 1)\n1. Mock –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≠–¶–ü\n2. RWS 2.0 —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏\n3. –ë–∞–∑–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π\n4. GPS —Ç—Ä–µ–∫–∏–Ω–≥ (mock)\n\n### üîÆ –ë—É–¥—É—â–µ–µ\n1. Phase 2 - –§–∏–Ω—Ç–µ—Ö –∏ TMS\n2. Phase 3 - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ ML\n3. Production deployment\n4. –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ\n\n---\n\n**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2025-11-05\n**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å MVP**: ~40% –∑–∞–≤–µ—Ä—à–µ–Ω–æ\n**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –ø—Ä–æ–µ–∫—Ç–∞**: ~15% –∑–∞–≤–µ—Ä—à–µ–Ω–æ","size_bytes":11849},"client/src/pages/cargo-detail.tsx":{"content":"import { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { useParams, useLocation } from \"wouter\";\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { Cargo, Bid, User, insertBidSchema } from \"@shared/schema\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Loader2, MapPinIcon, CalendarIcon, PackageIcon, TruckIcon, MessageSquareIcon, CheckCircle2Icon, XCircleIcon, AlertCircle } from \"lucide-react\";\nimport { format } from \"date-fns\";\nimport { ru } from \"date-fns/locale\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\n\ntype BidWithCarrier = Bid & {\n  carrier?: User;\n};\n\nconst bidFormSchema = insertBidSchema.extend({\n  bidAmount: z.string().min(1, \"–£–∫–∞–∂–∏—Ç–µ —Ü–µ–Ω—É\").refine((val) => !isNaN(Number(val)) && Number(val) > 0, \"–¶–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–æ–ª—å—à–µ 0\"),\n  deliveryTime: z.string().min(1, \"–£–∫–∞–∂–∏—Ç–µ —Å—Ä–æ–∫ –¥–æ—Å—Ç–∞–≤–∫–∏\"),\n  vehicleType: z.string().min(1, \"–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞\"),\n});\n\ntype BidFormValues = z.infer<typeof bidFormSchema>;\n\nexport default function CargoDetailPage() {\n  const { id } = useParams();\n  const [, navigate] = useLocation();\n  const { user } = useAuth();\n  const { toast } = useToast();\n  const [bidDialogOpen, setBidDialogOpen] = useState(false);\n\n  const bidForm = useForm<BidFormValues>({\n    resolver: zodResolver(bidFormSchema),\n    defaultValues: {\n      cargoId: id,\n      bidAmount: \"\",\n      deliveryTime: \"\",\n      vehicleType: \"truck\",\n      message: \"\",\n    },\n  });\n\n  const { data: cargo, isLoading: cargoLoading, isError: cargoError } = useQuery<Cargo>({\n    queryKey: [\"/api/cargo\", id],\n    enabled: !!id,\n  });\n\n  const { data: bids, isLoading: bidsLoading, isError: bidsError, error: bidsErrorData } = useQuery<BidWithCarrier[]>({\n    queryKey: [\"/api/cargo\", id, \"bids\"],\n    enabled: !!id && !!cargo,\n  });\n\n  const placeBidMutation = useMutation({\n    mutationFn: async (data: BidFormValues) => {\n      const res = await apiRequest(\"POST\", \"/api/bids\", {\n        cargoId: id,\n        bidAmount: data.bidAmount,\n        deliveryTime: data.deliveryTime,\n        vehicleType: data.vehicleType,\n        message: data.message || undefined,\n      });\n      return await res.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/cargo\", id, \"bids\"] });\n      toast({\n        title: \"–°—Ç–∞–≤–∫–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∞\",\n        description: \"–í–∞—à–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≥—Ä—É–∑–æ–≤–ª–∞–¥–µ–ª—å—Ü—É\",\n      });\n      setBidDialogOpen(false);\n      bidForm.reset();\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"–û—à–∏–±–∫–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —Å—Ç–∞–≤–∫–∏\",\n        description: error.message || \"–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å —Å—Ç–∞–≤–∫—É\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const acceptBidMutation = useMutation({\n    mutationFn: async (bidId: string) => {\n      const res = await apiRequest(\"PATCH\", `/api/bids/${bidId}/status`, { status: \"accepted\" });\n      return await res.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/cargo\", id, \"bids\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/cargo\", id] });\n      toast({\n        title: \"–°—Ç–∞–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞\",\n        description: \"–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞, –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω\",\n      });\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"–û—à–∏–±–∫–∞\",\n        description: error.message || \"–ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–∏–Ω—è—Ç—å —Å—Ç–∞–≤–∫—É\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const rejectBidMutation = useMutation({\n    mutationFn: async (bidId: string) => {\n      const res = await apiRequest(\"PATCH\", `/api/bids/${bidId}/status`, { status: \"rejected\" });\n      return await res.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/cargo\", id, \"bids\"] });\n      toast({\n        title: \"–°—Ç–∞–≤–∫–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞\",\n      });\n    },\n  });\n\n  if (cargoLoading) {\n    return (\n      <div className=\"min-h-screen flex flex-col\">\n        <Header />\n        <div className=\"flex-1 flex items-center justify-center\">\n          <Loader2 className=\"w-8 h-8 animate-spin text-primary\" />\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  if (cargoError || !cargo) {\n    return (\n      <div className=\"min-h-screen flex flex-col\">\n        <Header />\n        <div className=\"flex-1 flex items-center justify-center\">\n          <Card className=\"max-w-md\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <AlertCircle className=\"w-5 h-5 text-destructive\" />\n                –ì—Ä—É–∑ –Ω–µ –Ω–∞–π–¥–µ–Ω\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <p className=\"text-muted-foreground mb-4\">\n                –≠—Ç–æ—Ç –≥—Ä—É–∑ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –±—ã–ª —É–¥–∞–ª–µ–Ω.\n              </p>\n              <Button onClick={() => navigate(\"/\")} data-testid=\"button-back-home\">\n                –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é\n              </Button>\n            </CardContent>\n          </Card>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  const currentUser = user as User | undefined;\n  const isOwner = currentUser?.id === cargo.userId;\n  const isCarrier = currentUser?.role === \"carrier\";\n  const canPlaceBid = isCarrier && cargo.status === \"active\" && !isOwner;\n  const userHasBid = currentUser ? bids?.some(bid => bid.carrierId === currentUser.id) : false;\n\n  const statusColors: Record<string, string> = {\n    active: \"bg-green-500\",\n    in_progress: \"bg-blue-500\",\n    completed: \"bg-gray-500\",\n    cancelled: \"bg-red-500\",\n  };\n\n  const statusLabels: Record<string, string> = {\n    active: \"–ê–∫—Ç–∏–≤–Ω—ã–π\",\n    in_progress: \"–í –ø—É—Ç–∏\",\n    completed: \"–ó–∞–≤–µ—Ä—à–µ–Ω\",\n    cancelled: \"–û—Ç–º–µ–Ω–µ–Ω\",\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col\">\n      <Header />\n      \n      <main className=\"flex-1 max-w-6xl mx-auto px-6 py-8 w-full\">\n        <div className=\"mb-6\">\n          <Button\n            variant=\"outline\"\n            onClick={() => navigate(\"/\")}\n            data-testid=\"button-back\"\n          >\n            ‚Üê –ù–∞–∑–∞–¥\n          </Button>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          <div className=\"lg:col-span-2 space-y-6\">\n            <Card>\n              <CardHeader>\n                <div className=\"flex items-start justify-between gap-4\">\n                  <div className=\"flex-1\">\n                    <CardTitle className=\"text-2xl mb-2\" data-testid=\"text-cargo-title\">\n                      {cargo.title}\n                    </CardTitle>\n                    <div className=\"flex items-center gap-2\">\n                      <Badge className={statusColors[cargo.status]} data-testid={`badge-status-${cargo.status}`}>\n                        {statusLabels[cargo.status]}\n                      </Badge>\n                      <Badge variant=\"outline\" data-testid=\"text-cargo-category\">\n                        {cargo.category}\n                      </Badge>\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    <div className=\"text-sm text-muted-foreground\">–°—Ç–∞—Ä—Ç–æ–≤–∞—è —Ü–µ–Ω–∞</div>\n                    <div className=\"text-2xl font-bold text-primary\" data-testid=\"text-cargo-price\">\n                      {Number(cargo.price).toLocaleString()} ‚Ç∏\n                    </div>\n                  </div>\n                </div>\n              </CardHeader>\n              <CardContent className=\"space-y-6\">\n                {cargo.description && (\n                  <div>\n                    <h3 className=\"font-semibold mb-2\">–û–ø–∏—Å–∞–Ω–∏–µ</h3>\n                    <p className=\"text-muted-foreground\" data-testid=\"text-cargo-description\">\n                      {cargo.description}\n                    </p>\n                  </div>\n                )}\n\n                <Separator />\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div className=\"flex items-start gap-3\">\n                    <MapPinIcon className=\"w-5 h-5 text-primary mt-0.5\" />\n                    <div>\n                      <div className=\"text-sm text-muted-foreground\">–û—Ç–∫—É–¥–∞</div>\n                      <div className=\"font-medium\" data-testid=\"text-cargo-origin\">{cargo.origin}</div>\n                    </div>\n                  </div>\n                  <div className=\"flex items-start gap-3\">\n                    <MapPinIcon className=\"w-5 h-5 text-accent mt-0.5\" />\n                    <div>\n                      <div className=\"text-sm text-muted-foreground\">–ö—É–¥–∞</div>\n                      <div className=\"font-medium\" data-testid=\"text-cargo-destination\">{cargo.destination}</div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div className=\"flex items-start gap-3\">\n                    <PackageIcon className=\"w-5 h-5 text-primary mt-0.5\" />\n                    <div>\n                      <div className=\"text-sm text-muted-foreground\">–í–µ—Å –≥—Ä—É–∑–∞</div>\n                      <div className=\"font-medium\" data-testid=\"text-cargo-weight\">\n                        {Number(cargo.weight).toFixed(2)} —Ç–æ–Ω–Ω\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"flex items-start gap-3\">\n                    <CalendarIcon className=\"w-5 h-5 text-primary mt-0.5\" />\n                    <div>\n                      <div className=\"text-sm text-muted-foreground\">–î–∞—Ç–∞ –ø–æ–≥—Ä—É–∑–∫–∏</div>\n                      <div className=\"font-medium\" data-testid=\"text-cargo-pickup\">\n                        {format(new Date(cargo.pickupDate), \"PPP\", { locale: ru })}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                {cargo.deliveryDate && (\n                  <div className=\"flex items-start gap-3\">\n                    <CalendarIcon className=\"w-5 h-5 text-accent mt-0.5\" />\n                    <div>\n                      <div className=\"text-sm text-muted-foreground\">–ñ–µ–ª–∞–µ–º–∞—è –¥–∞—Ç–∞ –¥–æ—Å—Ç–∞–≤–∫–∏</div>\n                      <div className=\"font-medium\" data-testid=\"text-cargo-delivery\">\n                        {format(new Date(cargo.deliveryDate), \"PPP\", { locale: ru })}\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n\n            {/* Bids Section */}\n            {isOwner && (\n              <Card>\n                <CardHeader>\n                  <CardTitle>–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤</CardTitle>\n                  <CardDescription>\n                    {bids && bids.length > 0\n                      ? `–ü–æ–ª—É—á–µ–Ω–æ ${bids.length} ${bids.length === 1 ? '–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ' : '–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π'}`\n                      : '–ü–æ–∫–∞ –Ω–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π'}\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  {bidsLoading ? (\n                    <div className=\"flex items-center justify-center py-8\" data-testid=\"loader-bids\">\n                      <Loader2 className=\"w-6 h-6 animate-spin text-primary\" />\n                    </div>\n                  ) : bidsError ? (\n                    <div className=\"text-center py-8\" data-testid=\"error-bids\">\n                      <AlertCircle className=\"w-12 h-12 text-destructive mx-auto mb-2\" />\n                      <p className=\"text-sm text-muted-foreground\">\n                        –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è\n                      </p>\n                    </div>\n                  ) : bids && bids.length > 0 ? (\n                    <div className=\"space-y-4\">\n                      {bids.map((bid) => (\n                        <Card key={bid.id} data-testid={`card-bid-${bid.id}`}>\n                          <CardContent className=\"pt-6\">\n                            <div className=\"flex items-start justify-between gap-4 mb-4\">\n                              <div className=\"flex-1\">\n                                <div className=\"font-semibold mb-1\">\n                                  {bid.carrier?.firstName || \"–ü–µ—Ä–µ–≤–æ–∑—á–∏–∫\"}\n                                </div>\n                                <div className=\"text-sm text-muted-foreground\">\n                                  {bid.carrier?.companyName}\n                                </div>\n                              </div>\n                              <div className=\"text-right\">\n                                <div className=\"text-2xl font-bold text-primary\" data-testid={`text-bid-amount-${bid.id}`}>\n                                  {Number(bid.bidAmount).toLocaleString()} ‚Ç∏\n                                </div>\n                                <div className=\"text-sm text-muted-foreground\">\n                                  {bid.deliveryTime}\n                                </div>\n                              </div>\n                            </div>\n\n                            <div className=\"flex items-center gap-2 mb-3\">\n                              <TruckIcon className=\"w-4 h-4 text-muted-foreground\" />\n                              <span className=\"text-sm\">{bid.vehicleType}</span>\n                            </div>\n\n                            {bid.message && (\n                              <div className=\"bg-muted/50 rounded-md p-3 mb-4\">\n                                <div className=\"text-sm\">{bid.message}</div>\n                              </div>\n                            )}\n\n                            <div className=\"flex items-center gap-2\">\n                              <Badge\n                                variant={\n                                  bid.status === \"accepted\"\n                                    ? \"default\"\n                                    : bid.status === \"rejected\"\n                                    ? \"destructive\"\n                                    : \"secondary\"\n                                }\n                                data-testid={`badge-bid-status-${bid.id}`}\n                              >\n                                {bid.status === \"accepted\"\n                                  ? \"–ü—Ä–∏–Ω—è—Ç–æ\"\n                                  : bid.status === \"rejected\"\n                                  ? \"–û—Ç–∫–ª–æ–Ω–µ–Ω–æ\"\n                                  : \"–ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏\"}\n                              </Badge>\n\n                              {bid.status === \"pending\" && (\n                                <div className=\"ml-auto flex gap-2\">\n                                  <Button\n                                    size=\"sm\"\n                                    onClick={() => acceptBidMutation.mutate(bid.id)}\n                                    disabled={acceptBidMutation.isPending}\n                                    data-testid={`button-accept-bid-${bid.id}`}\n                                  >\n                                    <CheckCircle2Icon className=\"w-4 h-4 mr-1\" />\n                                    –ü—Ä–∏–Ω—è—Ç—å\n                                  </Button>\n                                  <Button\n                                    size=\"sm\"\n                                    variant=\"outline\"\n                                    onClick={() => rejectBidMutation.mutate(bid.id)}\n                                    disabled={rejectBidMutation.isPending}\n                                    data-testid={`button-reject-bid-${bid.id}`}\n                                  >\n                                    <XCircleIcon className=\"w-4 h-4 mr-1\" />\n                                    –û—Ç–∫–ª–æ–Ω–∏—Ç—å\n                                  </Button>\n                                </div>\n                              )}\n                            </div>\n                          </CardContent>\n                        </Card>\n                      ))}\n                    </div>\n                  ) : (\n                    <div className=\"text-center py-8 text-muted-foreground\">\n                      –û–∂–∏–¥–∞–µ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –æ—Ç –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            )}\n          </div>\n\n          {/* Sidebar */}\n          <div className=\"space-y-6\">\n            {canPlaceBid && (\n              <Card>\n                <CardHeader>\n                  <CardTitle>–†–∞–∑–º–µ—Å—Ç–∏—Ç—å —Å—Ç–∞–≤–∫—É</CardTitle>\n                  <CardDescription>\n                    –ü—Ä–µ–¥–ª–æ–∂–∏—Ç–µ —Å–≤–æ–∏ —É—Å–ª–æ–≤–∏—è –ø–µ—Ä–µ–≤–æ–∑–∫–∏\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  {userHasBid ? (\n                    <div className=\"text-center py-4\">\n                      <CheckCircle2Icon className=\"w-12 h-12 text-primary mx-auto mb-2\" />\n                      <p className=\"font-medium mb-1\">–í—ã —É–∂–µ —Ä–∞–∑–º–µ—Å—Ç–∏–ª–∏ —Å—Ç–∞–≤–∫—É</p>\n                      <p className=\"text-sm text-muted-foreground\">\n                        –û–∂–∏–¥–∞–π—Ç–µ –æ—Ç–≤–µ—Ç–∞ –≥—Ä—É–∑–æ–≤–ª–∞–¥–µ–ª—å—Ü–∞\n                      </p>\n                    </div>\n                  ) : (\n                    <Dialog open={bidDialogOpen} onOpenChange={setBidDialogOpen}>\n                      <DialogTrigger asChild>\n                        <Button className=\"w-full\" data-testid=\"button-place-bid\">\n                          <TruckIcon className=\"w-4 h-4 mr-2\" />\n                          –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ü–µ–Ω—É\n                        </Button>\n                      </DialogTrigger>\n                      <DialogContent data-testid=\"dialog-place-bid\">\n                        <DialogHeader>\n                          <DialogTitle>–†–∞–∑–º–µ—Å—Ç–∏—Ç—å —Å—Ç–∞–≤–∫—É</DialogTitle>\n                          <DialogDescription>\n                            –£–∫–∞–∂–∏—Ç–µ —Å–≤–æ—é —Ü–µ–Ω—É –∏ —É—Å–ª–æ–≤–∏—è –ø–µ—Ä–µ–≤–æ–∑–∫–∏\n                          </DialogDescription>\n                        </DialogHeader>\n                        <Form {...bidForm}>\n                          <form onSubmit={bidForm.handleSubmit((data) => placeBidMutation.mutate(data))} className=\"space-y-4 py-4\">\n                            <FormField\n                              control={bidForm.control}\n                              name=\"bidAmount\"\n                              render={({ field }) => (\n                                <FormItem>\n                                  <FormLabel>–í–∞—à–∞ —Ü–µ–Ω–∞ (‚Ç∏) *</FormLabel>\n                                  <FormControl>\n                                    <Input\n                                      type=\"number\"\n                                      step=\"0.01\"\n                                      placeholder=\"–í–≤–µ–¥–∏—Ç–µ —Ü–µ–Ω—É\"\n                                      data-testid=\"input-bid-amount\"\n                                      {...field}\n                                    />\n                                  </FormControl>\n                                  <FormMessage />\n                                </FormItem>\n                              )}\n                            />\n                            <FormField\n                              control={bidForm.control}\n                              name=\"deliveryTime\"\n                              render={({ field }) => (\n                                <FormItem>\n                                  <FormLabel>–°—Ä–æ–∫ –¥–æ—Å—Ç–∞–≤–∫–∏ *</FormLabel>\n                                  <FormControl>\n                                    <Input\n                                      placeholder=\"–ù–∞–ø—Ä–∏–º–µ—Ä: 3 –¥–Ω—è\"\n                                      data-testid=\"input-delivery-time\"\n                                      {...field}\n                                    />\n                                  </FormControl>\n                                  <FormMessage />\n                                </FormItem>\n                              )}\n                            />\n                            <FormField\n                              control={bidForm.control}\n                              name=\"vehicleType\"\n                              render={({ field }) => (\n                                <FormItem>\n                                  <FormLabel>–¢–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ *</FormLabel>\n                                  <Select onValueChange={field.onChange} defaultValue={field.value}>\n                                    <FormControl>\n                                      <SelectTrigger data-testid=\"select-vehicle-type\">\n                                        <SelectValue placeholder=\"–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø\" />\n                                      </SelectTrigger>\n                                    </FormControl>\n                                    <SelectContent>\n                                      <SelectItem value=\"truck\" data-testid=\"option-truck\">–ì—Ä—É–∑–æ–≤–∏–∫</SelectItem>\n                                      <SelectItem value=\"trailer\" data-testid=\"option-trailer\">–§—É—Ä–∞</SelectItem>\n                                      <SelectItem value=\"refrigerated\" data-testid=\"option-refrigerated\">–†–µ—Ñ—Ä–∏–∂–µ—Ä–∞—Ç–æ—Ä</SelectItem>\n                                      <SelectItem value=\"container\" data-testid=\"option-container\">–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä</SelectItem>\n                                    </SelectContent>\n                                  </Select>\n                                  <FormMessage />\n                                </FormItem>\n                              )}\n                            />\n                            <FormField\n                              control={bidForm.control}\n                              name=\"message\"\n                              render={({ field }) => (\n                                <FormItem>\n                                  <FormLabel>–°–æ–æ–±—â–µ–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</FormLabel>\n                                  <FormControl>\n                                    <Textarea\n                                      placeholder=\"–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è...\"\n                                      data-testid=\"input-bid-message\"\n                                      {...field}\n                                    />\n                                  </FormControl>\n                                  <FormMessage />\n                                </FormItem>\n                              )}\n                            />\n                            <Button\n                              type=\"submit\"\n                              className=\"w-full\"\n                              disabled={placeBidMutation.isPending}\n                              data-testid=\"button-submit-bid\"\n                            >\n                              {placeBidMutation.isPending ? (\n                                <>\n                                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                                  –û—Ç–ø—Ä–∞–≤–∫–∞...\n                                </>\n                              ) : (\n                                \"–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ\"\n                              )}\n                            </Button>\n                          </form>\n                        </Form>\n                      </DialogContent>\n                    </Dialog>\n                  )}\n                </CardContent>\n              </Card>\n            )}\n\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-lg\">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-2 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-muted-foreground\">–°–æ–∑–¥–∞–Ω–æ</span>\n                  <span>{format(new Date(cargo.createdAt!), \"PP\", { locale: ru })}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-muted-foreground\">ID –≥—Ä—É–∑–∞</span>\n                  <span className=\"font-mono text-xs\">{cargo.id.slice(0, 8)}...</span>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </main>\n\n      <Footer />\n    </div>\n  );\n}\n","size_bytes":25620},"client/src/pages/create-cargo.tsx":{"content":"import { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { useLocation } from \"wouter\";\nimport { z } from \"zod\";\nimport { insertCargoSchema } from \"@shared/schema\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Form, FormControl, FormDescription, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Calendar } from \"@/components/ui/calendar\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\nimport { CalendarIcon, TruckIcon, PackageIcon } from \"lucide-react\";\nimport { format } from \"date-fns\";\nimport { ru } from \"date-fns/locale\";\n\nconst createCargoFormSchema = insertCargoSchema.extend({\n  pickupDate: z.date({\n    required_error: \"–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –ø–æ–≥—Ä—É–∑–∫–∏\",\n  }),\n  deliveryDate: z.date().optional(),\n});\n\ntype CreateCargoFormValues = z.infer<typeof createCargoFormSchema>;\n\nconst cargoCategories = [\n  { value: \"general\", label: \"–ì–µ–Ω–µ—Ä–∞–ª—å–Ω—ã–µ –≥—Ä—É–∑—ã\" },\n  { value: \"refrigerated\", label: \"–†–µ—Ñ—Ä–∏–∂–µ—Ä–∞—Ç–æ—Ä–Ω—ã–µ\" },\n  { value: \"bulk\", label: \"–ù–∞–≤–∞–ª–æ—á–Ω—ã–µ\" },\n  { value: \"container\", label: \"–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–µ\" },\n  { value: \"hazardous\", label: \"–û–ø–∞—Å–Ω—ã–µ –≥—Ä—É–∑—ã\" },\n  { value: \"oversized\", label: \"–ù–µ–≥–∞–±–∞—Ä–∏—Ç–Ω—ã–µ\" },\n];\n\nexport default function CreateCargoPage() {\n  const [, navigate] = useLocation();\n  const { toast } = useToast();\n\n  const form = useForm<CreateCargoFormValues>({\n    resolver: zodResolver(createCargoFormSchema),\n    defaultValues: {\n      title: \"\",\n      description: undefined,\n      category: \"general\",\n      origin: \"\",\n      destination: \"\",\n      weight: \"0\",\n      price: \"0\",\n      status: \"active\",\n    },\n  });\n\n  const createCargoMutation = useMutation({\n    mutationFn: async (data: CreateCargoFormValues) => {\n      const formattedData = {\n        ...data,\n        pickupDate: data.pickupDate.toISOString(),\n        deliveryDate: data.deliveryDate?.toISOString(),\n      };\n      const res = await apiRequest(\"POST\", \"/api/cargo\", formattedData);\n      return await res.json();\n    },\n    onSuccess: (data) => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/cargo\"] });\n      toast({\n        title: \"–ì—Ä—É–∑ —Å–æ–∑–¥–∞–Ω\",\n        description: \"–í–∞—à–∞ –∑–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–º–µ—â–µ–Ω–∞ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ\",\n      });\n      navigate(`/cargo/${data.id}`);\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä—É–∑–∞\",\n        description: error.message || \"–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –≥—Ä—É–∑\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const onSubmit = (data: CreateCargoFormValues) => {\n    createCargoMutation.mutate(data);\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col\">\n      <Header />\n      \n      <main className=\"flex-1 max-w-4xl mx-auto px-6 py-8 w-full\">\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold mb-2\">–°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –ø–µ—Ä–µ–≤–æ–∑–∫—É</h1>\n          <p className=\"text-muted-foreground\">\n            –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –≥—Ä—É–∑–∞ –Ω–∞ –∞—É–∫—Ü–∏–æ–Ω–µ\n          </p>\n        </div>\n\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <PackageIcon className=\"w-5 h-5\" />\n              –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≥—Ä—É–∑–µ\n            </CardTitle>\n            <CardDescription>\n              –£–∫–∞–∂–∏—Ç–µ –¥–µ—Ç–∞–ª–∏ –≥—Ä—É–∑–∞ –¥–ª—è –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <Form {...form}>\n              <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n                <FormField\n                  control={form.control}\n                  name=\"title\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>–ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–∑–∞ *</FormLabel>\n                      <FormControl>\n                        <Input\n                          placeholder=\"–ù–∞–ø—Ä–∏–º–µ—Ä: –ü–∏–ª–æ–º–∞—Ç–µ—Ä–∏–∞–ª—ã 20 —Ç–æ–Ω–Ω\"\n                          data-testid=\"input-cargo-title\"\n                          {...field}\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <FormField\n                  control={form.control}\n                  name=\"description\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>–û–ø–∏—Å–∞–Ω–∏–µ</FormLabel>\n                      <FormControl>\n                        <Textarea\n                          placeholder=\"–î–µ—Ç–∞–ª–∏ –≥—Ä—É–∑–∞, –æ—Å–æ–±—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É...\"\n                          className=\"min-h-[100px]\"\n                          data-testid=\"input-cargo-description\"\n                          {...field}\n                          value={field.value || \"\"}\n                        />\n                      </FormControl>\n                      <FormDescription>\n                        –£–∫–∞–∂–∏—Ç–µ –≤–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –¥–ª—è –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞\n                      </FormDescription>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <FormField\n                  control={form.control}\n                  name=\"category\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>–ö–∞—Ç–µ–≥–æ—Ä–∏—è –≥—Ä—É–∑–∞ *</FormLabel>\n                      <Select onValueChange={field.onChange} defaultValue={field.value}>\n                        <FormControl>\n                          <SelectTrigger data-testid=\"select-cargo-category\">\n                            <SelectValue placeholder=\"–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é\" />\n                          </SelectTrigger>\n                        </FormControl>\n                        <SelectContent>\n                          {cargoCategories.map((cat) => (\n                            <SelectItem key={cat.value} value={cat.value}>\n                              {cat.label}\n                            </SelectItem>\n                          ))}\n                        </SelectContent>\n                      </Select>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <FormField\n                    control={form.control}\n                    name=\"origin\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>–ü—É–Ω–∫—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è *</FormLabel>\n                        <FormControl>\n                          <Input\n                            placeholder=\"–ì–æ—Ä–æ–¥, –æ–±–ª–∞—Å—Ç—å\"\n                            data-testid=\"input-cargo-origin\"\n                            {...field}\n                          />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <FormField\n                    control={form.control}\n                    name=\"destination\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>–ü—É–Ω–∫—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è *</FormLabel>\n                        <FormControl>\n                          <Input\n                            placeholder=\"–ì–æ—Ä–æ–¥, –æ–±–ª–∞—Å—Ç—å\"\n                            data-testid=\"input-cargo-destination\"\n                            {...field}\n                          />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <FormField\n                    control={form.control}\n                    name=\"weight\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>–í–µ—Å (—Ç–æ–Ω–Ω) *</FormLabel>\n                        <FormControl>\n                          <Input\n                            type=\"number\"\n                            step=\"0.01\"\n                            min=\"0\"\n                            placeholder=\"0.00\"\n                            data-testid=\"input-cargo-weight\"\n                            {...field}\n                          />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <FormField\n                    control={form.control}\n                    name=\"price\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>–°—Ç–∞—Ä—Ç–æ–≤–∞—è —Ü–µ–Ω–∞ (‚Ç∏) *</FormLabel>\n                        <FormControl>\n                          <Input\n                            type=\"number\"\n                            step=\"0.01\"\n                            min=\"0\"\n                            placeholder=\"0.00\"\n                            data-testid=\"input-cargo-price\"\n                            {...field}\n                          />\n                        </FormControl>\n                        <FormDescription>\n                          –ü–µ—Ä–µ–≤–æ–∑—á–∏–∫–∏ –º–æ–≥—É—Ç –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –±–æ–ª–µ–µ –Ω–∏–∑–∫—É—é —Ü–µ–Ω—É\n                        </FormDescription>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <FormField\n                    control={form.control}\n                    name=\"pickupDate\"\n                    render={({ field }) => (\n                      <FormItem className=\"flex flex-col\">\n                        <FormLabel>–î–∞—Ç–∞ –ø–æ–≥—Ä—É–∑–∫–∏ *</FormLabel>\n                        <Popover>\n                          <PopoverTrigger asChild>\n                            <FormControl>\n                              <Button\n                                variant=\"outline\"\n                                className=\"justify-start text-left font-normal\"\n                                data-testid=\"button-pickup-date\"\n                              >\n                                <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                                {field.value ? (\n                                  format(field.value, \"PPP\", { locale: ru })\n                                ) : (\n                                  <span className=\"text-muted-foreground\">–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É</span>\n                                )}\n                              </Button>\n                            </FormControl>\n                          </PopoverTrigger>\n                          <PopoverContent className=\"w-auto p-0\" align=\"start\">\n                            <Calendar\n                              mode=\"single\"\n                              selected={field.value}\n                              onSelect={field.onChange}\n                              disabled={(date) => date < new Date()}\n                              initialFocus\n                            />\n                          </PopoverContent>\n                        </Popover>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <FormField\n                    control={form.control}\n                    name=\"deliveryDate\"\n                    render={({ field }) => (\n                      <FormItem className=\"flex flex-col\">\n                        <FormLabel>–ñ–µ–ª–∞–µ–º–∞—è –¥–∞—Ç–∞ –¥–æ—Å—Ç–∞–≤–∫–∏</FormLabel>\n                        <Popover>\n                          <PopoverTrigger asChild>\n                            <FormControl>\n                              <Button\n                                variant=\"outline\"\n                                className=\"justify-start text-left font-normal\"\n                                data-testid=\"button-delivery-date\"\n                              >\n                                <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                                {field.value ? (\n                                  format(field.value, \"PPP\", { locale: ru })\n                                ) : (\n                                  <span className=\"text-muted-foreground\">–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ</span>\n                                )}\n                              </Button>\n                            </FormControl>\n                          </PopoverTrigger>\n                          <PopoverContent className=\"w-auto p-0\" align=\"start\">\n                            <Calendar\n                              mode=\"single\"\n                              selected={field.value}\n                              onSelect={field.onChange}\n                              disabled={(date) => date < new Date()}\n                              initialFocus\n                            />\n                          </PopoverContent>\n                        </Popover>\n                        <FormDescription>\n                          –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ\n                        </FormDescription>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                </div>\n\n                <div className=\"flex gap-4 pt-4\">\n                  <Button\n                    type=\"button\"\n                    variant=\"outline\"\n                    onClick={() => navigate(\"/dashboard\")}\n                    data-testid=\"button-cancel\"\n                  >\n                    –û—Ç–º–µ–Ω–∞\n                  </Button>\n                  <Button\n                    type=\"submit\"\n                    disabled={createCargoMutation.isPending}\n                    data-testid=\"button-submit-cargo\"\n                  >\n                    <TruckIcon className=\"w-4 h-4 mr-2\" />\n                    {createCargoMutation.isPending ? \"–°–æ–∑–¥–∞–Ω–∏–µ...\" : \"–†–∞–∑–º–µ—Å—Ç–∏—Ç—å –≥—Ä—É–∑\"}\n                  </Button>\n                </div>\n              </form>\n            </Form>\n          </CardContent>\n        </Card>\n      </main>\n\n      <Footer />\n    </div>\n  );\n}\n","size_bytes":15191},"client/src/pages/transaction-detail.tsx":{"content":"import { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { useParams, useLocation } from \"wouter\";\nimport { useState } from \"react\";\nimport { Transaction, Cargo, Bid, User } from \"@shared/schema\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport TransactionTimeline from \"@/components/TransactionTimeline\";\nimport TransactionChat from \"@/components/TransactionChat\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Label } from \"@/components/ui/label\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Loader2, MapPinIcon, PackageIcon, TruckIcon, CalendarIcon, AlertCircle, StarIcon } from \"lucide-react\";\nimport { format } from \"date-fns\";\nimport { ru } from \"date-fns/locale\";\n\ntype TransactionWithDetails = Transaction & {\n  cargo?: Cargo;\n  bid?: Bid;\n  shipper?: User;\n  carrier?: User;\n};\n\nexport default function TransactionDetailPage() {\n  const { id } = useParams();\n  const [, navigate] = useLocation();\n  const { user } = useAuth();\n  const currentUser = user as User | undefined;\n  const { toast } = useToast();\n  \n  const [ratingDialogOpen, setRatingDialogOpen] = useState(false);\n  const [ratings, setRatings] = useState({\n    onTimeDelivery: 5,\n    cargoCondition: 5,\n    communication: 5,\n    documentation: 5,\n  });\n  const [ratingComment, setRatingComment] = useState(\"\");\n\n  const { data: transaction, isLoading, isError } = useQuery<TransactionWithDetails>({\n    queryKey: [\"/api/transactions\", id],\n    enabled: !!id,\n  });\n\n  const updateStatusMutation = useMutation({\n    mutationFn: async (newStatus: string) => {\n      const res = await apiRequest(\"PATCH\", `/api/transactions/${id}/status`, { status: newStatus });\n      return await res.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/transactions\", id] });\n      toast({\n        title: \"–°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª–µ–Ω\",\n        description: \"–°—Ç–∞—Ç—É—Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —É—Å–ø–µ—à–Ω–æ –∏–∑–º–µ–Ω–µ–Ω\",\n      });\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"–û—à–∏–±–∫–∞\",\n        description: error.message || \"–ù–µ —É–¥–∞–ª–æ—Å—å –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const submitRatingMutation = useMutation({\n    mutationFn: async () => {\n      if (!transaction?.shipperId || !transaction?.carrierId) {\n        throw new Error(\"–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞ –¥–ª—è –æ—Ü–µ–Ω–∫–∏\");\n      }\n\n      const overall = Math.round(\n        (ratings.onTimeDelivery + ratings.cargoCondition + ratings.communication + ratings.documentation) / 4\n      );\n      \n      const userId = currentUser?.id === transaction?.shipperId \n        ? transaction?.carrierId \n        : transaction?.shipperId;\n\n      if (!userId) {\n        throw new Error(\"–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ–ª—É—á–∞—Ç–µ–ª—è –æ—Ü–µ–Ω–∫–∏\");\n      }\n\n      const res = await apiRequest(\"POST\", \"/api/rws\", {\n        userId,\n        transactionId: id,\n        onTimeDelivery: ratings.onTimeDelivery,\n        cargoCondition: ratings.cargoCondition,\n        communication: ratings.communication,\n        documentation: ratings.documentation,\n        overallScore: overall,\n      });\n      return await res.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/transactions\", id] });\n      toast({\n        title: \"–û—Ü–µ–Ω–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞\",\n        description: \"–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –æ—Ç–∑—ã–≤!\",\n      });\n      setRatingDialogOpen(false);\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"–û—à–∏–±–∫–∞\",\n        description: error.message || \"–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ü–µ–Ω–∫—É\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex flex-col\">\n        <Header />\n        <div className=\"flex-1 flex items-center justify-center\">\n          <Loader2 className=\"w-8 h-8 animate-spin text-primary\" />\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  if (isError || !transaction) {\n    return (\n      <div className=\"min-h-screen flex flex-col\">\n        <Header />\n        <div className=\"flex-1 flex items-center justify-center\">\n          <Card className=\"max-w-md\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <AlertCircle className=\"w-5 h-5 text-destructive\" />\n                –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <p className=\"text-muted-foreground mb-4\">\n                –≠—Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –±—ã–ª–∞ —É–¥–∞–ª–µ–Ω–∞.\n              </p>\n              <Button onClick={() => navigate(\"/dashboard\")} data-testid=\"button-back-dashboard\">\n                –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –ø–∞–Ω–µ–ª—å\n              </Button>\n            </CardContent>\n          </Card>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  const isShipper = currentUser?.id === transaction.shipperId;\n  const isCarrier = currentUser?.id === transaction.carrierId;\n  const canRate = transaction.status === \"completed\" && (isShipper || isCarrier);\n\n  const statusColors: Record<string, string> = {\n    created: \"bg-blue-500\",\n    confirmed: \"bg-green-500\",\n    in_transit: \"bg-yellow-500\",\n    delivered: \"bg-purple-500\",\n    completed: \"bg-gray-500\",\n    disputed: \"bg-red-500\",\n  };\n\n  const statusLabels: Record<string, string> = {\n    created: \"–°–æ–∑–¥–∞–Ω–∞\",\n    confirmed: \"–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞\",\n    in_transit: \"–í –ø—É—Ç–∏\",\n    delivered: \"–î–æ—Å—Ç–∞–≤–ª–µ–Ω–∞\",\n    completed: \"–ó–∞–≤–µ—Ä—à–µ–Ω–∞\",\n    disputed: \"–°–ø–æ—Ä–Ω–∞—è\",\n  };\n\n  const overallRating = Math.round(\n    (ratings.onTimeDelivery + ratings.cargoCondition + ratings.communication + ratings.documentation) / 4\n  );\n\n  return (\n    <div className=\"min-h-screen flex flex-col\">\n      <Header />\n      \n      <main className=\"flex-1 max-w-6xl mx-auto px-6 py-8 w-full\">\n        <div className=\"mb-6\">\n          <Button\n            variant=\"outline\"\n            onClick={() => navigate(\"/dashboard\")}\n            data-testid=\"button-back\"\n          >\n            ‚Üê –ù–∞–∑–∞–¥\n          </Button>\n        </div>\n\n        <div className=\"mb-6\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <h1 className=\"text-3xl font-bold\">–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è</h1>\n            <Badge className={statusColors[transaction.status]} data-testid={`badge-status-${transaction.status}`}>\n              {statusLabels[transaction.status]}\n            </Badge>\n          </div>\n          <p className=\"text-muted-foreground\">\n            ID: {transaction.id.slice(0, 16)}...\n          </p>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          <div className=\"lg:col-span-2 space-y-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle>–î–µ—Ç–∞–ª–∏ –≥—Ä—É–∑–∞</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                {transaction.cargo && (\n                  <>\n                    <div>\n                      <h3 className=\"font-semibold text-lg mb-2\" data-testid=\"text-cargo-title\">\n                        {transaction.cargo.title}\n                      </h3>\n                      <Badge variant=\"outline\">{transaction.cargo.category}</Badge>\n                    </div>\n\n                    <Separator />\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                      <div className=\"flex items-start gap-3\">\n                        <MapPinIcon className=\"w-5 h-5 text-primary mt-0.5\" />\n                        <div>\n                          <div className=\"text-sm text-muted-foreground\">–û—Ç–∫—É–¥–∞</div>\n                          <div className=\"font-medium\">{transaction.cargo.origin}</div>\n                        </div>\n                      </div>\n                      <div className=\"flex items-start gap-3\">\n                        <MapPinIcon className=\"w-5 h-5 text-accent mt-0.5\" />\n                        <div>\n                          <div className=\"text-sm text-muted-foreground\">–ö—É–¥–∞</div>\n                          <div className=\"font-medium\">{transaction.cargo.destination}</div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                      <div className=\"flex items-start gap-3\">\n                        <PackageIcon className=\"w-5 h-5 text-primary mt-0.5\" />\n                        <div>\n                          <div className=\"text-sm text-muted-foreground\">–í–µ—Å</div>\n                          <div className=\"font-medium\">{Number(transaction.cargo.weight).toFixed(2)} —Ç–æ–Ω–Ω</div>\n                        </div>\n                      </div>\n                      <div className=\"flex items-start gap-3\">\n                        <CalendarIcon className=\"w-5 h-5 text-primary mt-0.5\" />\n                        <div>\n                          <div className=\"text-sm text-muted-foreground\">–î–∞—Ç–∞ –ø–æ–≥—Ä—É–∑–∫–∏</div>\n                          <div className=\"font-medium\">\n                            {format(new Date(transaction.cargo.pickupDate), \"PPP\", { locale: ru })}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </>\n                )}\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle>–£—Å–ª–æ–≤–∏—è –ø–µ—Ä–µ–≤–æ–∑–∫–∏</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                {transaction.bid && (\n                  <>\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"text-muted-foreground\">–°—Ç–æ–∏–º–æ—Å—Ç—å</div>\n                      <div className=\"text-2xl font-bold text-primary\">\n                        {Number(transaction.bid.bidAmount).toLocaleString()} ‚Ç∏\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"text-muted-foreground\">–°—Ä–æ–∫ –¥–æ—Å—Ç–∞–≤–∫–∏</div>\n                      <div className=\"font-medium\">{transaction.bid.deliveryTime}</div>\n                    </div>\n\n                    <div className=\"flex items-center gap-2\">\n                      <TruckIcon className=\"w-4 h-4 text-muted-foreground\" />\n                      <span className=\"text-sm\">{transaction.bid.vehicleType}</span>\n                    </div>\n                  </>\n                )}\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle>–°—Ç–∞—Ç—É—Å –¥–æ—Å—Ç–∞–≤–∫–∏</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <TransactionTimeline steps={[\n                  {\n                    id: \"created\",\n                    title: \"–°–¥–µ–ª–∫–∞ —Å–æ–∑–¥–∞–Ω–∞\",\n                    status: transaction.status === \"created\" ? \"current\" : \"completed\",\n                    timestamp: format(new Date(transaction.createdAt!), \"PPpp\", { locale: ru }),\n                  },\n                  {\n                    id: \"confirmed\",\n                    title: \"–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ –≥—Ä—É–∑–æ–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–º\",\n                    status: transaction.status === \"created\" ? \"pending\" : transaction.status === \"confirmed\" ? \"current\" : \"completed\",\n                    timestamp: transaction.status !== \"created\" ? format(new Date(transaction.updatedAt!), \"PPpp\", { locale: ru }) : undefined,\n                  },\n                  {\n                    id: \"in_transit\",\n                    title: \"–í –ø—É—Ç–∏\",\n                    status: [\"created\", \"confirmed\"].includes(transaction.status) ? \"pending\" : transaction.status === \"in_transit\" ? \"current\" : \"completed\",\n                  },\n                  {\n                    id: \"delivered\",\n                    title: \"–ì—Ä—É–∑ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω\",\n                    status: [\"created\", \"confirmed\", \"in_transit\"].includes(transaction.status) ? \"pending\" : transaction.status === \"delivered\" ? \"current\" : \"completed\",\n                  },\n                  {\n                    id: \"completed\",\n                    title: \"–°–¥–µ–ª–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞\",\n                    status: transaction.status === \"completed\" ? \"completed\" : \"pending\",\n                    timestamp: transaction.completedAt ? format(new Date(transaction.completedAt), \"PPpp\", { locale: ru }) : undefined,\n                  },\n                ]} />\n                \n                {(isShipper || isCarrier) && transaction.status !== \"completed\" && transaction.status !== \"disputed\" && (\n                  <div className=\"mt-6 pt-6 border-t\">\n                    <div className=\"text-sm text-muted-foreground mb-3\">–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å:</div>\n                    <div className=\"flex flex-wrap gap-2\">\n                      {isShipper && transaction.status === \"created\" && (\n                        <Button\n                          size=\"sm\"\n                          onClick={() => updateStatusMutation.mutate(\"confirmed\")}\n                          disabled={updateStatusMutation.isPending}\n                          data-testid=\"button-confirm\"\n                        >\n                          –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å\n                        </Button>\n                      )}\n                      {isCarrier && transaction.status === \"confirmed\" && (\n                        <Button\n                          size=\"sm\"\n                          onClick={() => updateStatusMutation.mutate(\"in_transit\")}\n                          disabled={updateStatusMutation.isPending}\n                          data-testid=\"button-in-transit\"\n                        >\n                          –í –ø—É—Ç–∏\n                        </Button>\n                      )}\n                      {isCarrier && transaction.status === \"in_transit\" && (\n                        <Button\n                          size=\"sm\"\n                          onClick={() => updateStatusMutation.mutate(\"delivered\")}\n                          disabled={updateStatusMutation.isPending}\n                          data-testid=\"button-delivered\"\n                        >\n                          –î–æ—Å—Ç–∞–≤–ª–µ–Ω–æ\n                        </Button>\n                      )}\n                      {isShipper && transaction.status === \"delivered\" && (\n                        <Button\n                          size=\"sm\"\n                          onClick={() => updateStatusMutation.mutate(\"completed\")}\n                          disabled={updateStatusMutation.isPending}\n                          data-testid=\"button-complete\"\n                        >\n                          –ó–∞–≤–µ—Ä—à–∏—Ç—å\n                        </Button>\n                      )}\n                    </div>\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </div>\n\n          <div className=\"space-y-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle>–£—á–∞—Å—Ç–Ω–∏–∫–∏</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div>\n                  <div className=\"text-sm text-muted-foreground mb-1\">–ì—Ä—É–∑–æ–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å</div>\n                  <div className=\"font-medium\">{transaction.shipper?.firstName || \"–ù–µ —É–∫–∞–∑–∞–Ω–æ\"}</div>\n                  {transaction.shipper?.companyName && (\n                    <div className=\"text-sm text-muted-foreground\">{transaction.shipper.companyName}</div>\n                  )}\n                </div>\n                <Separator />\n                <div>\n                  <div className=\"text-sm text-muted-foreground mb-1\">–ü–µ—Ä–µ–≤–æ–∑—á–∏–∫</div>\n                  <div className=\"font-medium\">{transaction.carrier?.firstName || \"–ù–µ —É–∫–∞–∑–∞–Ω–æ\"}</div>\n                  {transaction.carrier?.companyName && (\n                    <div className=\"text-sm text-muted-foreground\">{transaction.carrier.companyName}</div>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n\n            <TransactionChat\n              transactionId={transaction.id}\n              currentUser={currentUser}\n              shipperId={transaction.shipperId}\n              carrierId={transaction.carrierId}\n            />\n\n            {canRate && (\n              <Card>\n                <CardHeader>\n                  <CardTitle>–û—Ü–µ–Ω–∏—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä–∞</CardTitle>\n                  <CardDescription>\n                    –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –æ–ø—ã—Ç–æ–º —Ä–∞–±–æ—Ç—ã\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <Dialog open={ratingDialogOpen} onOpenChange={setRatingDialogOpen}>\n                    <DialogTrigger asChild>\n                      <Button className=\"w-full\" data-testid=\"button-rate\">\n                        <StarIcon className=\"w-4 h-4 mr-2\" />\n                        –û—Å—Ç–∞–≤–∏—Ç—å –æ—Ü–µ–Ω–∫—É\n                      </Button>\n                    </DialogTrigger>\n                    <DialogContent className=\"max-w-md\" data-testid=\"dialog-rating\">\n                      <DialogHeader>\n                        <DialogTitle>–û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞</DialogTitle>\n                        <DialogDescription>\n                          –û—Ü–µ–Ω–∏—Ç–µ —Ä–∞–±–æ—Ç—É {isShipper ? \"–ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞\" : \"–≥—Ä—É–∑–æ–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è\"}\n                        </DialogDescription>\n                      </DialogHeader>\n                      <div className=\"space-y-6 py-4\">\n                        <div>\n                          <Label className=\"mb-2\">–°–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏: {ratings.onTimeDelivery}/5</Label>\n                          <Slider\n                            min={1}\n                            max={5}\n                            step={1}\n                            value={[ratings.onTimeDelivery]}\n                            onValueChange={(v) => setRatings({...ratings, onTimeDelivery: v[0]})}\n                            data-testid=\"slider-on-time\"\n                          />\n                        </div>\n                        <div>\n                          <Label className=\"mb-2\">–°–æ—Å—Ç–æ—è–Ω–∏–µ –≥—Ä—É–∑–∞: {ratings.cargoCondition}/5</Label>\n                          <Slider\n                            min={1}\n                            max={5}\n                            step={1}\n                            value={[ratings.cargoCondition]}\n                            onValueChange={(v) => setRatings({...ratings, cargoCondition: v[0]})}\n                            data-testid=\"slider-cargo-condition\"\n                          />\n                        </div>\n                        <div>\n                          <Label className=\"mb-2\">–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è: {ratings.communication}/5</Label>\n                          <Slider\n                            min={1}\n                            max={5}\n                            step={1}\n                            value={[ratings.communication]}\n                            onValueChange={(v) => setRatings({...ratings, communication: v[0]})}\n                            data-testid=\"slider-communication\"\n                          />\n                        </div>\n                        <div>\n                          <Label className=\"mb-2\">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: {ratings.documentation}/5</Label>\n                          <Slider\n                            min={1}\n                            max={5}\n                            step={1}\n                            value={[ratings.documentation]}\n                            onValueChange={(v) => setRatings({...ratings, documentation: v[0]})}\n                            data-testid=\"slider-documentation\"\n                          />\n                        </div>\n                        <Separator />\n                        <div className=\"text-center\">\n                          <div className=\"text-sm text-muted-foreground mb-1\">–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞</div>\n                          <div className=\"text-3xl font-bold flex items-center justify-center gap-2\">\n                            {overallRating}\n                            <StarIcon className=\"w-6 h-6 fill-yellow-400 text-yellow-400\" />\n                          </div>\n                        </div>\n                        <div>\n                          <Label htmlFor=\"comment\">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</Label>\n                          <Textarea\n                            id=\"comment\"\n                            placeholder=\"–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –¥–µ—Ç–∞–ª—è–º–∏...\"\n                            value={ratingComment}\n                            onChange={(e) => setRatingComment(e.target.value)}\n                            data-testid=\"input-rating-comment\"\n                          />\n                        </div>\n                        <Button\n                          className=\"w-full\"\n                          onClick={() => submitRatingMutation.mutate()}\n                          disabled={submitRatingMutation.isPending}\n                          data-testid=\"button-submit-rating\"\n                        >\n                          {submitRatingMutation.isPending ? \"–û—Ç–ø—Ä–∞–≤–∫–∞...\" : \"–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ü–µ–Ω–∫—É\"}\n                        </Button>\n                      </div>\n                    </DialogContent>\n                  </Dialog>\n                </CardContent>\n              </Card>\n            )}\n\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-lg\">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-2 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-muted-foreground\">–°–æ–∑–¥–∞–Ω–∞</span>\n                  <span>{format(new Date(transaction.createdAt!), \"PPP\", { locale: ru })}</span>\n                </div>\n                {transaction.completedAt && (\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-muted-foreground\">–ó–∞–≤–µ—Ä—à–µ–Ω–∞</span>\n                    <span>{format(new Date(transaction.completedAt), \"PPP\", { locale: ru })}</span>\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </main>\n\n      <Footer />\n    </div>\n  );\n}\n","size_bytes":23340},"client/src/components/TransactionChat.tsx":{"content":"import { useState, useEffect, useRef } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { type Message, type User } from \"@shared/schema\";\nimport { queryClient } from \"@/lib/queryClient\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useWebSocket } from \"@/hooks/use-websocket\";\nimport { SendIcon, Loader2, WifiOff } from \"lucide-react\";\nimport { format } from \"date-fns\";\nimport { ru } from \"date-fns/locale\";\n\ninterface TransactionChatProps {\n  transactionId: string;\n  currentUser?: User;\n  shipperId: string;\n  carrierId: string;\n}\n\nexport default function TransactionChat({ transactionId, currentUser, shipperId, carrierId }: TransactionChatProps) {\n  const [messageText, setMessageText] = useState(\"\");\n  const [isSending, setIsSending] = useState(false);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const { toast } = useToast();\n\n  const { data: messages = [], isLoading } = useQuery<Message[]>({\n    queryKey: [\"/api/messages\", transactionId],\n  });\n\n  const { isConnected, sendMessage } = useWebSocket({\n    userId: currentUser?.id,\n    transactionId,\n    onMessage: (data) => {\n      if (data.type === \"new_message\") {\n        queryClient.setQueryData([\"/api/messages\", transactionId], (old: Message[] = []) => {\n          const exists = old.some(msg => msg.id === data.message.id);\n          if (exists) return old;\n          return [...old, data.message];\n        });\n      } else if (data.type === \"error\") {\n        toast({\n          title: \"–û—à–∏–±–∫–∞\",\n          description: data.message,\n          variant: \"destructive\",\n        });\n      }\n    },\n  });\n\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [messages]);\n\n  const handleSendMessage = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (messageText.trim() && isConnected) {\n      setIsSending(true);\n      const success = sendMessage(messageText.trim());\n      if (success) {\n        setMessageText(\"\");\n      } else {\n        toast({\n          title: \"–û—à–∏–±–∫–∞\",\n          description: \"–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.\",\n          variant: \"destructive\",\n        });\n      }\n      setIsSending(false);\n    }\n  };\n\n  const getInitials = (userId: string) => {\n    if (userId === shipperId) return \"–ì–û\";\n    if (userId === carrierId) return \"–ü–†\";\n    return \"U\";\n  };\n\n  const getUsername = (userId: string) => {\n    if (userId === shipperId) return \"–ì—Ä—É–∑–æ–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å\";\n    if (userId === carrierId) return \"–ü–µ—Ä–µ–≤–æ–∑—á–∏–∫\";\n    return \"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å\";\n  };\n\n  return (\n    <Card>\n      <CardHeader>\n        <div className=\"flex items-center justify-between\">\n          <CardTitle>–ß–∞—Ç</CardTitle>\n          {!isConnected && (\n            <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n              <WifiOff className=\"w-4 h-4\" />\n              <span>–ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</span>\n            </div>\n          )}\n        </div>\n      </CardHeader>\n      <CardContent>\n        <div className=\"space-y-4\">\n          <div className=\"h-96 overflow-y-auto border rounded-lg p-4 space-y-4 bg-muted/20\" data-testid=\"chat-messages-container\">\n            {isLoading ? (\n              <div className=\"flex items-center justify-center h-full\">\n                <Loader2 className=\"w-6 h-6 animate-spin text-muted-foreground\" />\n              </div>\n            ) : messages.length === 0 ? (\n              <div className=\"flex items-center justify-center h-full text-muted-foreground\">\n                –ù–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π. –ù–∞—á–Ω–∏—Ç–µ –æ–±—â–µ–Ω–∏–µ!\n              </div>\n            ) : (\n              messages.map((message) => {\n                const isCurrentUser = message.senderId === currentUser?.id;\n                return (\n                  <div\n                    key={message.id}\n                    className={`flex gap-3 ${isCurrentUser ? \"flex-row-reverse\" : \"\"}`}\n                    data-testid={`message-${message.id}`}\n                  >\n                    <Avatar className=\"w-8 h-8 flex-shrink-0\">\n                      <AvatarFallback className={isCurrentUser ? \"bg-primary text-primary-foreground\" : \"bg-secondary\"}>\n                        {getInitials(message.senderId)}\n                      </AvatarFallback>\n                    </Avatar>\n                    <div className={`flex-1 ${isCurrentUser ? \"text-right\" : \"\"}`}>\n                      <div className=\"flex items-center gap-2 mb-1\">\n                        <span className=\"text-sm font-medium\" data-testid={`message-sender-${message.id}`}>\n                          {getUsername(message.senderId)}\n                        </span>\n                        <span className=\"text-xs text-muted-foreground\">\n                          {message.createdAt && format(new Date(message.createdAt), \"dd MMM, HH:mm\", { locale: ru })}\n                        </span>\n                      </div>\n                      <div\n                        className={`inline-block px-4 py-2 rounded-lg ${\n                          isCurrentUser \n                            ? \"bg-primary text-primary-foreground\" \n                            : \"bg-secondary\"\n                        }`}\n                        data-testid={`message-content-${message.id}`}\n                      >\n                        {message.content}\n                      </div>\n                    </div>\n                  </div>\n                );\n              })\n            )}\n            <div ref={messagesEndRef} />\n          </div>\n\n          <form onSubmit={handleSendMessage} className=\"flex gap-2\">\n            <Textarea\n              value={messageText}\n              onChange={(e) => setMessageText(e.target.value)}\n              placeholder=\"–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...\"\n              className=\"flex-1 min-h-[60px]\"\n              disabled={isSending || !isConnected}\n              data-testid=\"input-message\"\n              onKeyDown={(e) => {\n                if (e.key === \"Enter\" && !e.shiftKey) {\n                  e.preventDefault();\n                  handleSendMessage(e);\n                }\n              }}\n            />\n            <Button\n              type=\"submit\"\n              disabled={!messageText.trim() || isSending || !isConnected}\n              className=\"self-end\"\n              data-testid=\"button-send-message\"\n            >\n              {isSending ? (\n                <Loader2 className=\"w-4 h-4 animate-spin\" />\n              ) : (\n                <>\n                  <SendIcon className=\"w-4 h-4 mr-2\" />\n                  –û—Ç–ø—Ä–∞–≤–∏—Ç—å\n                </>\n              )}\n            </Button>\n          </form>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":7031},"client/src/pages/profile.tsx":{"content":"import { useAuth } from \"@/hooks/useAuth\";\nimport { useMutation, useQuery } from \"@tanstack/react-query\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { updateUserProfileSchema, type UpdateUserProfile, type User, type RWSMetric } from \"@shared/schema\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Form, FormControl, FormDescription, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport Header from \"@/components/Header\";\nimport { CheckCircle2, XCircle, Award, Clock, Package, TrendingUp, Truck, FileText } from \"lucide-react\";\nimport { format } from \"date-fns\";\nimport { useEffect, useState, useRef } from \"react\";\n\ninterface AnalyticsData {\n  activeCargo: number;\n  inProgressCargo: number;\n  completedCargo: number;\n  totalBids: number;\n  totalTransactions: number;\n  rwsScore: number;\n}\n\nexport default function ProfilePage() {\n  const { user } = useAuth() as { user?: User };\n  const { toast } = useToast();\n  const [selectedRole, setSelectedRole] = useState<string>(\"\");\n  const previousRoleRef = useRef<string>(\"\");\n\n  const { data: rwsMetrics = [] } = useQuery<RWSMetric[]>({\n    queryKey: [\"/api/rws\", user?.id],\n    enabled: !!user?.id,\n  });\n\n  const { data: analytics } = useQuery<AnalyticsData>({\n    queryKey: [\"/api/analytics/dashboard\"],\n    enabled: !!user?.id,\n  });\n\n  const form = useForm<UpdateUserProfile>({\n    resolver: zodResolver(updateUserProfileSchema),\n    defaultValues: {\n      firstName: \"\",\n      lastName: \"\",\n      companyName: \"\",\n      phone: \"\",\n      bin: \"\",\n      iin: \"\",\n    },\n  });\n\n  useEffect(() => {\n    if (user) {\n      form.reset({\n        firstName: user.firstName ?? \"\",\n        lastName: user.lastName ?? \"\",\n        companyName: user.companyName ?? \"\",\n        phone: user.phone ?? \"\",\n        bin: user.bin ?? \"\",\n        iin: user.iin ?? \"\",\n      });\n      const role = user.role || \"shipper\";\n      setSelectedRole(role);\n      previousRoleRef.current = role;\n    }\n  }, [user, form]);\n\n  const updateProfileMutation = useMutation({\n    mutationFn: async (data: UpdateUserProfile) => {\n      const response = await fetch(\"/api/auth/user/profile\", {\n        method: \"PATCH\",\n        body: JSON.stringify(data),\n        headers: { \"Content-Type\": \"application/json\" },\n        credentials: \"include\",\n      });\n      if (!response.ok) throw new Error(\"Failed to update profile\");\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/auth/user\"] });\n      toast({\n        title: \"–ü—Ä–æ—Ñ–∏–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω\",\n        description: \"–í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã\",\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"–û—à–∏–±–∫–∞\",\n        description: \"–ù–µ —É–¥–∞–ª–æ—Å—å –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const changeRoleMutation = useMutation({\n    mutationFn: async (role: string) => {\n      const res = await apiRequest(\"PATCH\", \"/api/auth/user/change-role\", { role });\n      return res.json();\n    },\n    onSuccess: (data: User) => {\n      previousRoleRef.current = data.role;\n      setSelectedRole(data.role);\n      queryClient.invalidateQueries({ queryKey: [\"/api/auth/user\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/analytics/dashboard\"] });\n      toast({\n        title: \"–†–æ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∞\",\n        description: \"–í–∞—à–∞ —Ä–æ–ª—å —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∞\",\n      });\n    },\n    onError: () => {\n      setSelectedRole(previousRoleRef.current);\n      toast({\n        title: \"–û—à–∏–±–∫–∞\",\n        description: \"–ù–µ —É–¥–∞–ª–æ—Å—å –∏–∑–º–µ–Ω–∏—Ç—å —Ä–æ–ª—å\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const onSubmit = (data: UpdateUserProfile) => {\n    updateProfileMutation.mutate(data);\n  };\n\n  const handleRoleChange = (newRole: string) => {\n    if (newRole !== previousRoleRef.current && user?.role !== \"admin\" && !changeRoleMutation.isPending) {\n      previousRoleRef.current = selectedRole;\n      setSelectedRole(newRole);\n      changeRoleMutation.mutate(newRole);\n    }\n  };\n\n  const getRoleDisplay = (role?: string) => {\n    switch (role) {\n      case \"carrier\":\n        return \"–ü–µ—Ä–µ–≤–æ–∑—á–∏–∫\";\n      case \"shipper\":\n        return \"–ì—Ä—É–∑–æ–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å\";\n      case \"admin\":\n        return \"–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä\";\n      default:\n        return \"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å\";\n    }\n  };\n\n  const calculateAverageScore = () => {\n    if (rwsMetrics.length === 0) return 0;\n    const sum = rwsMetrics.reduce((acc, metric) => acc + metric.overallScore, 0);\n    return (sum / rwsMetrics.length).toFixed(1);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <Header />\n      <div className=\"max-w-4xl mx-auto px-6 py-8\">\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold mb-2\" data-testid=\"text-page-title\">–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h1>\n          <p className=\"text-muted-foreground\" data-testid=\"text-page-description\">\n            –£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–≤–æ–µ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å—å—é –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏\n          </p>\n        </div>\n\n        <div className=\"grid gap-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle>–°—Ç–∞—Ç—É—Å –∞–∫–∫–∞—É–Ω—Ç–∞</CardTitle>\n              <CardDescription>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–∞—à–µ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏</CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium\">Email</p>\n                  <p className=\"text-sm text-muted-foreground\" data-testid=\"text-user-email\">{user?.email}</p>\n                </div>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium\">–†–æ–ª—å</p>\n                  <Badge variant=\"secondary\" data-testid=\"badge-user-role\">{getRoleDisplay(user?.role)}</Badge>\n                </div>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium\">–°—Ç–∞—Ç—É—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏</p>\n                  <div className=\"flex items-center gap-2 mt-1\">\n                    {user?.isVerified ? (\n                      <>\n                        <CheckCircle2 className=\"w-4 h-4 text-green-500\" />\n                        <span className=\"text-sm text-green-500\" data-testid=\"text-verification-status\">–í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω</span>\n                      </>\n                    ) : (\n                      <>\n                        <XCircle className=\"w-4 h-4 text-orange-500\" />\n                        <span className=\"text-sm text-orange-500\" data-testid=\"text-verification-status\">–ù–µ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω</span>\n                      </>\n                    )}\n                  </div>\n                </div>\n              </div>\n              {user?.edsCertId && (\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium\">–≠–¶–ü —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç</p>\n                    <p className=\"text-sm text-muted-foreground\" data-testid=\"text-eds-cert-id\">ID: {user.edsCertId}</p>\n                    {user.edsCertExpiry && (\n                      <p className=\"text-xs text-muted-foreground\">\n                        –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –¥–æ: {format(new Date(user.edsCertExpiry), \"dd.MM.yyyy\")}\n                      </p>\n                    )}\n                  </div>\n                </div>\n              )}\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium\">RWS —Ä–µ–π—Ç–∏–Ω–≥</p>\n                  <div className=\"flex items-center gap-2 mt-1\">\n                    <Award className=\"w-4 h-4 text-yellow-500\" />\n                    <span className=\"text-lg font-bold\" data-testid=\"text-rws-score\">{calculateAverageScore()}</span>\n                    <span className=\"text-sm text-muted-foreground\">({rwsMetrics.length} –æ—Ü–µ–Ω–æ–∫)</span>\n                  </div>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          {analytics && (\n            <Card>\n              <CardHeader>\n                <CardTitle>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</CardTitle>\n                <CardDescription>–û–±–∑–æ—Ä –≤–∞—à–µ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n                  <div className=\"flex flex-col items-center justify-center p-4 bg-muted rounded-lg\">\n                    <Package className=\"w-8 h-8 text-primary mb-2\" />\n                    <span className=\"text-2xl font-bold\" data-testid=\"text-stat-active-cargo\">{analytics.activeCargo}</span>\n                    <span className=\"text-sm text-muted-foreground\">–ê–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä—É–∑—ã</span>\n                  </div>\n                  <div className=\"flex flex-col items-center justify-center p-4 bg-muted rounded-lg\">\n                    <Truck className=\"w-8 h-8 text-orange-500 mb-2\" />\n                    <span className=\"text-2xl font-bold\" data-testid=\"text-stat-in-progress\">{analytics.inProgressCargo}</span>\n                    <span className=\"text-sm text-muted-foreground\">–í –ø—É—Ç–∏</span>\n                  </div>\n                  <div className=\"flex flex-col items-center justify-center p-4 bg-muted rounded-lg\">\n                    <CheckCircle2 className=\"w-8 h-8 text-green-500 mb-2\" />\n                    <span className=\"text-2xl font-bold\" data-testid=\"text-stat-completed\">{analytics.completedCargo}</span>\n                    <span className=\"text-sm text-muted-foreground\">–ó–∞–≤–µ—Ä—à–µ–Ω–æ</span>\n                  </div>\n                  <div className=\"flex flex-col items-center justify-center p-4 bg-muted rounded-lg\">\n                    <TrendingUp className=\"w-8 h-8 text-blue-500 mb-2\" />\n                    <span className=\"text-2xl font-bold\" data-testid=\"text-stat-bids\">{analytics.totalBids}</span>\n                    <span className=\"text-sm text-muted-foreground\">\n                      {user?.role === \"carrier\" ? \"–ú–æ–∏ —Å—Ç–∞–≤–∫–∏\" : \"–ü–æ–ª—É—á–µ–Ω–æ —Å—Ç–∞–≤–æ–∫\"}\n                    </span>\n                  </div>\n                  <div className=\"flex flex-col items-center justify-center p-4 bg-muted rounded-lg\">\n                    <FileText className=\"w-8 h-8 text-purple-500 mb-2\" />\n                    <span className=\"text-2xl font-bold\" data-testid=\"text-stat-transactions\">{analytics.totalTransactions}</span>\n                    <span className=\"text-sm text-muted-foreground\">–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</span>\n                  </div>\n                  <div className=\"flex flex-col items-center justify-center p-4 bg-muted rounded-lg\">\n                    <Award className=\"w-8 h-8 text-yellow-500 mb-2\" />\n                    <span className=\"text-2xl font-bold\" data-testid=\"text-stat-rws\">{calculateAverageScore()}</span>\n                    <span className=\"text-sm text-muted-foreground\">RWS —Ä–µ–π—Ç–∏–Ω–≥</span>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          )}\n\n          {user?.role !== \"admin\" && (\n            <Card>\n              <CardHeader>\n                <CardTitle>–°–º–µ–Ω–∞ —Ä–æ–ª–∏</CardTitle>\n                <CardDescription>–í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ—é —Ä–æ–ª—å –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <RadioGroup \n                  value={selectedRole} \n                  onValueChange={handleRoleChange}\n                  disabled={changeRoleMutation.isPending}\n                >\n                  <div className={`flex items-center space-x-2 p-3 border rounded-lg ${changeRoleMutation.isPending ? 'opacity-50 cursor-not-allowed' : 'hover:bg-muted cursor-pointer'} transition-colors`}>\n                    <RadioGroupItem \n                      value=\"shipper\" \n                      id=\"shipper\" \n                      data-testid=\"radio-role-shipper\"\n                      disabled={changeRoleMutation.isPending}\n                    />\n                    <label htmlFor=\"shipper\" className={`flex-1 ${changeRoleMutation.isPending ? 'cursor-not-allowed' : 'cursor-pointer'}`}>\n                      <div className=\"font-medium\">–ì—Ä—É–∑–æ–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å</div>\n                      <div className=\"text-sm text-muted-foreground\">–°–æ–∑–¥–∞—é –∑–∞—è–≤–∫–∏ –Ω–∞ –ø–µ—Ä–µ–≤–æ–∑–∫—É –≥—Ä—É–∑–æ–≤</div>\n                    </label>\n                  </div>\n                  <div className={`flex items-center space-x-2 p-3 border rounded-lg ${changeRoleMutation.isPending ? 'opacity-50 cursor-not-allowed' : 'hover:bg-muted cursor-pointer'} transition-colors`}>\n                    <RadioGroupItem \n                      value=\"carrier\" \n                      id=\"carrier\" \n                      data-testid=\"radio-role-carrier\"\n                      disabled={changeRoleMutation.isPending}\n                    />\n                    <label htmlFor=\"carrier\" className={`flex-1 ${changeRoleMutation.isPending ? 'cursor-not-allowed' : 'cursor-pointer'}`}>\n                      <div className=\"font-medium\">–ü–µ—Ä–µ–≤–æ–∑—á–∏–∫</div>\n                      <div className=\"text-sm text-muted-foreground\">–†–∞–∑–º–µ—â–∞—é —Å—Ç–∞–≤–∫–∏ –Ω–∞ –ø–µ—Ä–µ–≤–æ–∑–∫—É –≥—Ä—É–∑–æ–≤</div>\n                    </label>\n                  </div>\n                </RadioGroup>\n                {changeRoleMutation.isPending && (\n                  <p className=\"text-sm text-muted-foreground mt-2\">–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏...</p>\n                )}\n              </CardContent>\n            </Card>\n          )}\n\n          <Card>\n            <CardHeader>\n              <CardTitle>–õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</CardTitle>\n              <CardDescription>–û–±–Ω–æ–≤–∏—Ç–µ —Å–≤–æ–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</CardDescription>\n            </CardHeader>\n            <CardContent>\n              <Form {...form}>\n                <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <FormField\n                      control={form.control}\n                      name=\"firstName\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>–ò–º—è</FormLabel>\n                          <FormControl>\n                            <Input {...field} value={field.value ?? \"\"} placeholder=\"–ò–≤–∞–Ω\" data-testid=\"input-first-name\" />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n                    <FormField\n                      control={form.control}\n                      name=\"lastName\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>–§–∞–º–∏–ª–∏—è</FormLabel>\n                          <FormControl>\n                            <Input {...field} value={field.value ?? \"\"} placeholder=\"–ò–≤–∞–Ω–æ–≤\" data-testid=\"input-last-name\" />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n                  </div>\n\n                  <FormField\n                    control={form.control}\n                    name=\"companyName\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏</FormLabel>\n                        <FormControl>\n                          <Input {...field} value={field.value ?? \"\"} placeholder=\"–¢–û–û '–õ–æ–≥–∏—Å—Ç–∏–∫–∞ –ü–ª—é—Å'\" data-testid=\"input-company-name\" />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <FormField\n                    control={form.control}\n                    name=\"phone\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>–¢–µ–ª–µ—Ñ–æ–Ω</FormLabel>\n                        <FormControl>\n                          <Input {...field} placeholder=\"+77001234567\" data-testid=\"input-phone\" />\n                        </FormControl>\n                        <FormDescription>\n                          –§–æ—Ä–º–∞—Ç: +77001234567\n                        </FormDescription>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <Separator />\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <FormField\n                      control={form.control}\n                      name=\"bin\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>–ë–ò–ù (–¥–ª—è –∫–æ–º–ø–∞–Ω–∏–π)</FormLabel>\n                          <FormControl>\n                            <Input {...field} placeholder=\"123456789012\" maxLength={12} data-testid=\"input-bin\" />\n                          </FormControl>\n                          <FormDescription>\n                            12 —Ü–∏—Ñ—Ä –ë–ò–ù –∫–æ–º–ø–∞–Ω–∏–∏\n                          </FormDescription>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n                    <FormField\n                      control={form.control}\n                      name=\"iin\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>–ò–ò–ù (–¥–ª—è —Ñ–∏–∑. –ª–∏—Ü)</FormLabel>\n                          <FormControl>\n                            <Input {...field} placeholder=\"123456789012\" maxLength={12} data-testid=\"input-iin\" />\n                          </FormControl>\n                          <FormDescription>\n                            12 —Ü–∏—Ñ—Ä –ò–ò–ù —Ñ–∏–∑. –ª–∏—Ü–∞\n                          </FormDescription>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n                  </div>\n\n                  <Button \n                    type=\"submit\" \n                    disabled={updateProfileMutation.isPending}\n                    data-testid=\"button-save-profile\"\n                  >\n                    {updateProfileMutation.isPending ? \"–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...\" : \"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è\"}\n                  </Button>\n                </form>\n              </Form>\n            </CardContent>\n          </Card>\n\n          {rwsMetrics.length > 0 && (\n            <Card>\n              <CardHeader>\n                <CardTitle>–ò—Å—Ç–æ—Ä–∏—è –æ—Ü–µ–Ω–æ–∫ RWS</CardTitle>\n                <CardDescription>–í–∞—à–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  {rwsMetrics.slice(0, 5).map((metric) => (\n                    <div key={metric.id} className=\"border rounded-lg p-4\" data-testid={`card-rws-metric-${metric.id}`}>\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <div className=\"flex items-center gap-2\">\n                          <Award className=\"w-5 h-5 text-yellow-500\" />\n                          <span className=\"font-semibold\" data-testid={`text-rws-score-${metric.id}`}>\n                            –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞: {metric.overallScore}/5\n                          </span>\n                        </div>\n                        <div className=\"flex items-center gap-1 text-sm text-muted-foreground\">\n                          <Clock className=\"w-4 h-4\" />\n                          {metric.createdAt && format(new Date(metric.createdAt), \"dd.MM.yyyy\")}\n                        </div>\n                      </div>\n                      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm\">\n                        <div>\n                          <p className=\"text-muted-foreground\">–î–æ—Å—Ç–∞–≤–∫–∞</p>\n                          <p className=\"font-medium\">{metric.onTimeDelivery}/5</p>\n                        </div>\n                        <div>\n                          <p className=\"text-muted-foreground\">–°–æ—Å—Ç–æ—è–Ω–∏–µ</p>\n                          <p className=\"font-medium\">{metric.cargoCondition}/5</p>\n                        </div>\n                        <div>\n                          <p className=\"text-muted-foreground\">–û–±—â–µ–Ω–∏–µ</p>\n                          <p className=\"font-medium\">{metric.communication}/5</p>\n                        </div>\n                        <div>\n                          <p className=\"text-muted-foreground\">–î–æ–∫—É–º–µ–Ω—Ç—ã</p>\n                          <p className=\"font-medium\">{metric.documentation}/5</p>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":22061},"client/src/hooks/use-websocket.ts":{"content":"import { useEffect, useRef, useState, useCallback } from \"react\";\n\ninterface UseWebSocketProps {\n  userId?: string;\n  transactionId: string;\n  onMessage: (message: any) => void;\n}\n\nexport function useWebSocket({ userId, transactionId, onMessage }: UseWebSocketProps) {\n  const [isConnected, setIsConnected] = useState(false);\n  const wsRef = useRef<WebSocket | null>(null);\n  const reconnectTimeoutRef = useRef<NodeJS.Timeout>();\n  const reconnectAttempts = useRef(0);\n  const isMountedRef = useRef(true);\n\n  const connect = useCallback(() => {\n    if (!userId || !transactionId || !isMountedRef.current) return;\n\n    const protocol = window.location.protocol === \"https:\" ? \"wss:\" : \"ws:\";\n    const wsUrl = `${protocol}//${window.location.host}/ws`;\n\n    try {\n      const ws = new WebSocket(wsUrl);\n      wsRef.current = ws;\n\n      ws.onopen = () => {\n        if (!isMountedRef.current) {\n          ws.close();\n          return;\n        }\n        console.log(\"WebSocket connected\");\n        setIsConnected(true);\n        reconnectAttempts.current = 0;\n        \n        ws.send(JSON.stringify({\n          type: \"auth\",\n          transactionId,\n        }));\n      };\n\n      ws.onmessage = (event) => {\n        if (!isMountedRef.current) return;\n        \n        try {\n          const data = JSON.parse(event.data);\n          onMessage(data);\n        } catch (error) {\n          console.error(\"Error parsing WebSocket message:\", error);\n        }\n      };\n\n      ws.onerror = (error) => {\n        console.error(\"WebSocket error:\", error);\n      };\n\n      ws.onclose = () => {\n        if (!isMountedRef.current) return;\n        \n        console.log(\"WebSocket disconnected\");\n        setIsConnected(false);\n        \n        if (reconnectAttempts.current < 5 && isMountedRef.current) {\n          const delay = Math.min(1000 * Math.pow(2, reconnectAttempts.current), 10000);\n          reconnectAttempts.current++;\n          \n          reconnectTimeoutRef.current = setTimeout(() => {\n            if (isMountedRef.current) {\n              console.log(`Reconnecting... (attempt ${reconnectAttempts.current})`);\n              connect();\n            }\n          }, delay);\n        }\n      };\n    } catch (error) {\n      console.error(\"Error creating WebSocket:\", error);\n    }\n  }, [userId, transactionId, onMessage]);\n\n  const sendMessage = useCallback((content: string) => {\n    if (wsRef.current?.readyState === WebSocket.OPEN) {\n      wsRef.current.send(JSON.stringify({\n        type: \"message\",\n        content,\n      }));\n      return true;\n    }\n    return false;\n  }, []);\n\n  const disconnect = useCallback(() => {\n    isMountedRef.current = false;\n    \n    if (reconnectTimeoutRef.current) {\n      clearTimeout(reconnectTimeoutRef.current);\n      reconnectTimeoutRef.current = undefined;\n    }\n    \n    if (wsRef.current) {\n      wsRef.current.close();\n      wsRef.current = null;\n    }\n    \n    setIsConnected(false);\n  }, []);\n\n  useEffect(() => {\n    isMountedRef.current = true;\n    connect();\n    \n    return () => {\n      disconnect();\n    };\n  }, [connect, disconnect]);\n\n  return {\n    isConnected,\n    sendMessage,\n  };\n}\n","size_bytes":3133},"server/websocket.ts":{"content":"import { WebSocketServer, WebSocket } from \"ws\";\nimport type { Server } from \"http\";\nimport { storage } from \"./storage\";\nimport { parse } from \"cookie\";\nimport { unsign } from \"cookie-signature\";\nimport type { IncomingMessage } from \"http\";\n\ninterface WebSocketClient extends WebSocket {\n  isAlive: boolean;\n  userId?: string;\n  transactionId?: string;\n  isAuthenticated: boolean;\n}\n\nasync function getUserIdFromSession(req: IncomingMessage): Promise<string | null> {\n  try {\n    const cookies = parse(req.headers.cookie || \"\");\n    const signedSessionId = cookies[\"connect.sid\"];\n    \n    if (!signedSessionId) {\n      return null;\n    }\n\n    const sessionSecret = process.env.SESSION_SECRET;\n    if (!sessionSecret) {\n      console.error(\"SESSION_SECRET is not defined\");\n      return null;\n    }\n\n    let sessionId: string;\n    \n    if (signedSessionId.startsWith(\"s:\")) {\n      const unsignedResult = unsign(signedSessionId.slice(2), sessionSecret);\n      if (unsignedResult === false) {\n        console.error(\"Failed to unsign session ID\");\n        return null;\n      }\n      sessionId = unsignedResult;\n    } else {\n      sessionId = signedSessionId;\n    }\n\n    const session = await storage.getSession(sessionId);\n    \n    if (!session || !session.passport?.user?.claims?.sub) {\n      return null;\n    }\n    \n    return session.passport.user.claims.sub;\n  } catch (error) {\n    console.error(\"Error extracting user from session:\", error);\n    return null;\n  }\n}\n\nexport function setupWebSocket(server: Server) {\n  const wss = new WebSocketServer({ \n    server,\n    path: \"/ws\",\n    verifyClient: async (info, callback) => {\n      try {\n        const userId = await getUserIdFromSession(info.req);\n        if (!userId) {\n          callback(false, 401, \"Unauthorized\");\n          return;\n        }\n        (info.req as any).userId = userId;\n        callback(true);\n      } catch (error) {\n        console.error(\"WebSocket verification error:\", error);\n        callback(false, 500, \"Internal Server Error\");\n      }\n    }\n  });\n\n  wss.on(\"connection\", (ws: WebSocketClient, req: any) => {\n    console.log(\"WebSocket client connected\");\n    ws.isAlive = true;\n    ws.isAuthenticated = false;\n    ws.userId = req.userId;\n\n    ws.on(\"pong\", () => {\n      ws.isAlive = true;\n    });\n\n    ws.on(\"message\", async (data) => {\n      try {\n        const message = JSON.parse(data.toString());\n        \n        switch (message.type) {\n          case \"auth\":\n            if (!ws.userId) {\n              ws.send(JSON.stringify({ \n                type: \"error\", \n                message: \"Not authenticated\" \n              }));\n              ws.close();\n              return;\n            }\n\n            const transaction = await storage.getTransaction(message.transactionId);\n            if (!transaction || \n                (transaction.shipperId !== ws.userId && transaction.carrierId !== ws.userId)) {\n              ws.send(JSON.stringify({ \n                type: \"error\", \n                message: \"Not authorized to access this transaction\" \n              }));\n              ws.close();\n              return;\n            }\n\n            ws.transactionId = message.transactionId;\n            ws.isAuthenticated = true;\n            console.log(`User ${ws.userId} authenticated for transaction ${ws.transactionId}`);\n            \n            ws.send(JSON.stringify({\n              type: \"authenticated\",\n              userId: ws.userId,\n              transactionId: ws.transactionId\n            }));\n            break;\n\n          case \"message\":\n            if (!ws.isAuthenticated || !ws.userId || !ws.transactionId) {\n              ws.send(JSON.stringify({ \n                type: \"error\", \n                message: \"Not authenticated. Please send auth message first.\" \n              }));\n              return;\n            }\n\n            const newMessage = await storage.createMessage(ws.userId, {\n              transactionId: ws.transactionId,\n              content: message.content,\n            });\n\n            wss.clients.forEach((client: WebSocket) => {\n              const wsClient = client as WebSocketClient;\n              if (client.readyState === WebSocket.OPEN && \n                  wsClient.isAuthenticated &&\n                  wsClient.transactionId === ws.transactionId) {\n                client.send(JSON.stringify({\n                  type: \"new_message\",\n                  message: newMessage,\n                }));\n              }\n            });\n            break;\n\n          default:\n            console.log(\"Unknown message type:\", message.type);\n        }\n      } catch (error) {\n        console.error(\"WebSocket error:\", error);\n        ws.send(JSON.stringify({ \n          type: \"error\", \n          message: \"Invalid message format\" \n        }));\n      }\n    });\n\n    ws.on(\"close\", () => {\n      console.log(\"WebSocket client disconnected\");\n    });\n\n    ws.on(\"error\", (error) => {\n      console.error(\"WebSocket error:\", error);\n    });\n  });\n\n  const interval = setInterval(() => {\n    wss.clients.forEach((ws: WebSocket) => {\n      const client = ws as WebSocketClient;\n      if (client.isAlive === false) {\n        return client.terminate();\n      }\n      client.isAlive = false;\n      client.ping();\n    });\n  }, 30000);\n\n  wss.on(\"close\", () => {\n    clearInterval(interval);\n  });\n\n  console.log(\"WebSocket server initialized on /ws\");\n  \n  return wss;\n}\n","size_bytes":5379},"client/src/pages/marketplace.tsx":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport Header from \"@/components/Header\";\nimport { Link } from \"wouter\";\nimport { MapPin, Package, Calendar, DollarSign, Search } from \"lucide-react\";\nimport type { Cargo } from \"@shared/schema\";\nimport { format } from \"date-fns\";\nimport { ru } from \"date-fns/locale\";\nimport { useState } from \"react\";\n\nexport default function MarketplacePage() {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  \n  const { data: allCargo = [], isLoading } = useQuery<Cargo[]>({\n    queryKey: [\"/api/cargo\"],\n  });\n\n  const activeCargo = allCargo.filter(cargo => cargo.status === \"active\");\n  \n  const filteredCargo = activeCargo.filter(cargo => {\n    if (!searchQuery) return true;\n    const query = searchQuery.toLowerCase();\n    return (\n      cargo.title.toLowerCase().includes(query) ||\n      cargo.category.toLowerCase().includes(query) ||\n      cargo.origin.toLowerCase().includes(query) ||\n      cargo.destination.toLowerCase().includes(query)\n    );\n  });\n\n  const getCategoryLabel = (category: string) => {\n    const labels: Record<string, string> = {\n      general: \"–û–±—ã—á–Ω—ã–π –≥—Ä—É–∑\",\n      fragile: \"–•—Ä—É–ø–∫–∏–π –≥—Ä—É–∑\",\n      perishable: \"–°–∫–æ—Ä–æ–ø–æ—Ä—Ç—è—â–∏–π—Å—è\",\n      hazardous: \"–û–ø–∞—Å–Ω—ã–π –≥—Ä—É–∑\",\n      oversized: \"–ù–µ–≥–∞–±–∞—Ä–∏—Ç–Ω—ã–π –≥—Ä—É–∑\",\n    };\n    return labels[category] || category;\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <Header />\n      \n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 py-6 sm:py-8\">\n        <div className=\"mb-6 sm:mb-8\">\n          <h1 className=\"text-3xl sm:text-4xl font-bold mb-2\" data-testid=\"text-page-title\">\n            –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å –≥—Ä—É–∑–æ–≤\n          </h1>\n          <p className=\"text-sm sm:text-base text-muted-foreground\" data-testid=\"text-page-description\">\n            –ù–∞–π–¥–∏—Ç–µ –≥—Ä—É–∑ –¥–ª—è –ø–µ—Ä–µ–≤–æ–∑–∫–∏ –∏–ª–∏ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç–µ —Å–≤–æ–π –≥—Ä—É–∑\n          </p>\n        </div>\n\n        <div className=\"mb-6\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground\" />\n            <Input\n              type=\"text\"\n              placeholder=\"–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–ª–∏ –º–∞—Ä—à—Ä—É—Ç—É...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"pl-10\"\n              data-testid=\"input-search\"\n            />\n          </div>\n        </div>\n\n        {isLoading ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {[1, 2, 3, 4, 5, 6].map((i) => (\n              <Card key={i}>\n                <CardHeader>\n                  <Skeleton className=\"h-6 w-3/4 mb-2\" />\n                  <Skeleton className=\"h-4 w-1/2\" />\n                </CardHeader>\n                <CardContent>\n                  <Skeleton className=\"h-20 w-full\" />\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        ) : filteredCargo.length === 0 ? (\n          <Card>\n            <CardContent className=\"py-12 text-center\">\n              <Package className=\"w-12 h-12 mx-auto mb-4 text-muted-foreground\" />\n              <h3 className=\"text-lg font-semibold mb-2\" data-testid=\"text-no-cargo\">\n                {searchQuery ? \"–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ\" : \"–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –≥—Ä—É–∑–æ–≤\"}\n              </h3>\n              <p className=\"text-muted-foreground\">\n                {searchQuery\n                  ? \"–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞\"\n                  : \"–ì—Ä—É–∑—ã –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å, –∫–∞–∫ —Ç–æ–ª—å–∫–æ –æ–Ω–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã\"}\n              </p>\n            </CardContent>\n          </Card>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {filteredCargo.map((cargo) => (\n              <Link key={cargo.id} href={`/cargo/${cargo.id}`} data-testid={`link-cargo-${cargo.id}`}>\n                <Card \n                  className=\"hover-elevate cursor-pointer transition-all duration-300 h-full\"\n                  data-testid={`card-cargo-${cargo.id}`}\n                >\n                  <CardHeader>\n                    <div className=\"flex items-start justify-between gap-2 mb-2\">\n                      <CardTitle className=\"text-lg line-clamp-2\">\n                        {cargo.title}\n                      </CardTitle>\n                      <Badge variant=\"secondary\" className=\"shrink-0\">\n                        {getCategoryLabel(cargo.category)}\n                      </Badge>\n                    </div>\n                    {cargo.description && (\n                      <CardDescription className=\"line-clamp-2\">\n                        {cargo.description}\n                      </CardDescription>\n                    )}\n                  </CardHeader>\n                  <CardContent className=\"space-y-3\">\n                    <div className=\"flex items-start gap-2 text-sm\">\n                      <MapPin className=\"w-4 h-4 mt-0.5 text-muted-foreground shrink-0\" />\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"font-medium truncate\">{cargo.origin}</div>\n                        <div className=\"text-muted-foreground\">‚Üì</div>\n                        <div className=\"font-medium truncate\">{cargo.destination}</div>\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-center gap-2 text-sm\">\n                      <Package className=\"w-4 h-4 text-muted-foreground\" />\n                      <span className=\"text-muted-foreground\">\n                        –í–µ—Å: <span className=\"font-medium text-foreground\">{cargo.weight} –∫–≥</span>\n                      </span>\n                    </div>\n\n                    <div className=\"flex items-center gap-2 text-sm\">\n                      <Calendar className=\"w-4 h-4 text-muted-foreground\" />\n                      <span className=\"text-muted-foreground\">\n                        –ü–æ–≥—Ä—É–∑–∫–∞:{\" \"}\n                        <span className=\"font-medium text-foreground\">\n                          {cargo.pickupDate && format(new Date(cargo.pickupDate), \"dd MMM yyyy\", { locale: ru })}\n                        </span>\n                      </span>\n                    </div>\n\n                    <div className=\"flex items-center justify-between pt-3 border-t\">\n                      <div className=\"flex items-center gap-2\">\n                        <DollarSign className=\"w-5 h-5 text-primary\" />\n                        <span className=\"text-xl font-bold text-primary\">\n                          {cargo.price}‚Ç∏\n                        </span>\n                      </div>\n                      <Button variant=\"outline\" size=\"sm\" data-testid={`button-view-${cargo.id}`} asChild>\n                        <a>–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n              </Link>\n            ))}\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n","size_bytes":7491},"client/src/components/skeletons/CargoCardSkeleton.tsx":{"content":"import { Card, CardContent, CardHeader } from \"@/components/ui/card\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\n\nexport default function CargoCardSkeleton() {\n  return (\n    <Card>\n      <CardHeader>\n        <div className=\"flex items-start justify-between gap-2 mb-2\">\n          <Skeleton className=\"h-6 w-3/4\" />\n          <Skeleton className=\"h-5 w-16 shrink-0\" />\n        </div>\n        <Skeleton className=\"h-4 w-full\" />\n        <Skeleton className=\"h-4 w-2/3\" />\n      </CardHeader>\n      <CardContent className=\"space-y-3\">\n        <div className=\"flex items-center gap-2\">\n          <Skeleton className=\"w-4 h-4 rounded-full\" />\n          <Skeleton className=\"h-4 w-32\" />\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Skeleton className=\"w-4 h-4 rounded-full\" />\n          <Skeleton className=\"h-4 w-32\" />\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Skeleton className=\"w-4 h-4 rounded-full\" />\n          <Skeleton className=\"h-4 w-24\" />\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Skeleton className=\"w-4 h-4 rounded-full\" />\n          <Skeleton className=\"h-4 w-28\" />\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":1243},"client/src/components/skeletons/StatsCardSkeleton.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\n\nexport default function StatsCardSkeleton() {\n  return (\n    <Card>\n      <CardContent className=\"p-6\">\n        <div className=\"flex items-center gap-4\">\n          <Skeleton className=\"w-12 h-12 rounded-lg\" />\n          <div className=\"flex-1 space-y-2\">\n            <Skeleton className=\"h-4 w-24\" />\n            <Skeleton className=\"h-6 w-16\" />\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":531},"client/src/components/ThemeProvider.tsx":{"content":"import { createContext, useContext, useEffect, useState, ReactNode } from \"react\";\n\ntype Theme = \"light\" | \"dark\";\n\ntype ThemeProviderProps = {\n  children: ReactNode;\n  defaultTheme?: Theme;\n};\n\ntype ThemeContextType = {\n  theme: Theme;\n  setTheme: (theme: Theme) => void;\n  toggleTheme: () => void;\n};\n\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\n\nexport function ThemeProvider({\n  children,\n  defaultTheme = \"light\",\n}: ThemeProviderProps) {\n  const [theme, setThemeState] = useState<Theme>(() => {\n    if (typeof window === \"undefined\") return defaultTheme;\n    const stored = localStorage.getItem(\"theme\");\n    return (stored as Theme) || defaultTheme;\n  });\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const root = document.documentElement;\n    root.classList.remove(\"light\", \"dark\");\n    root.classList.add(theme);\n    localStorage.setItem(\"theme\", theme);\n  }, [theme]);\n\n  const setTheme = (newTheme: Theme) => {\n    setThemeState(newTheme);\n  };\n\n  const toggleTheme = () => {\n    setThemeState((prev) => (prev === \"light\" ? \"dark\" : \"light\"));\n  };\n\n  return (\n    <ThemeContext.Provider value={{ theme, setTheme, toggleTheme }}>\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n\nexport function useTheme() {\n  const context = useContext(ThemeContext);\n  if (context === undefined) {\n    throw new Error(\"useTheme must be used within a ThemeProvider\");\n  }\n  return context;\n}\n","size_bytes":1452},"server/rws-calculator.ts":{"content":"import { db } from \"./db\";\nimport { users, transactions, bids, rwsMetrics, cargo } from \"@shared/schema\";\nimport { eq, and, sql } from \"drizzle-orm\";\n\nexport interface RWSMetrics {\n  otdRate: number;\n  acceptanceRate: number;\n  reliabilityScore: number;\n  totalTransactions: number;\n  onTimeDeliveries: number;\n  lateDeliveries: number;\n  totalBids: number;\n  acceptedBids: number;\n  isRecommended: boolean;\n  rwsScore: number;\n}\n\nexport async function calculateUserRWS(userId: string): Promise<RWSMetrics> {\n  const completedTransactions = await db\n    .select({\n      transaction: transactions,\n      cargo: cargo,\n    })\n    .from(transactions)\n    .leftJoin(cargo, eq(transactions.cargoId, cargo.id))\n    .where(\n      and(\n        eq(transactions.status, \"completed\"),\n        sql`${transactions.carrierId} = ${userId} OR ${transactions.shipperId} = ${userId}`\n      )\n    );\n\n  const userBids = await db\n    .select()\n    .from(bids)\n    .where(eq(bids.carrierId, userId));\n\n  const acceptedBidsCount = userBids.filter(\n    (b) => b.status === \"accepted\"\n  ).length;\n\n  let onTimeCount = 0;\n  let lateCount = 0;\n  let transactionsWithTimestamps = 0;\n\n  for (const { transaction, cargo: cargoData } of completedTransactions) {\n    if (cargoData?.deliveryDate && transaction.completedAt) {\n      transactionsWithTimestamps++;\n      const expectedDelivery = new Date(cargoData.deliveryDate);\n      const actualDelivery = new Date(transaction.completedAt);\n\n      if (actualDelivery <= expectedDelivery) {\n        onTimeCount++;\n      } else {\n        lateCount++;\n      }\n    }\n  }\n\n  const totalTransactions = completedTransactions.length;\n  const totalBids = userBids.length;\n\n  const otdRate = transactionsWithTimestamps > 0 \n    ? (onTimeCount / transactionsWithTimestamps) * 100 \n    : 0;\n\n  const acceptanceRate = totalBids > 0 \n    ? (acceptedBidsCount / totalBids) * 100 \n    : 0;\n\n  const userRatings = await db\n    .select()\n    .from(rwsMetrics)\n    .where(eq(rwsMetrics.userId, userId));\n\n  const avgRating = userRatings.length > 0\n    ? userRatings.reduce((sum, r) => sum + r.overallScore, 0) / userRatings.length\n    : 0;\n\n  const reliabilityScore = (\n    (otdRate * 0.4) +\n    (acceptanceRate * 0.3) +\n    (avgRating * 20 * 0.3)\n  );\n\n  const rwsScore = Math.round(reliabilityScore);\n\n  const isRecommended = \n    totalTransactions >= 5 &&\n    otdRate >= 85 &&\n    acceptanceRate >= 70 &&\n    avgRating >= 4.0;\n\n  return {\n    otdRate: Math.round(otdRate * 100) / 100,\n    acceptanceRate: Math.round(acceptanceRate * 100) / 100,\n    reliabilityScore: Math.round(reliabilityScore * 100) / 100,\n    totalTransactions,\n    onTimeDeliveries: onTimeCount,\n    lateDeliveries: lateCount,\n    totalBids,\n    acceptedBids: acceptedBidsCount,\n    isRecommended,\n    rwsScore,\n  };\n}\n\nexport async function updateUserRWS(userId: string): Promise<void> {\n  const metrics = await calculateUserRWS(userId);\n\n  await db\n    .update(users)\n    .set({\n      rwsScore: metrics.rwsScore,\n      otdRate: metrics.otdRate.toString(),\n      acceptanceRate: metrics.acceptanceRate.toString(),\n      reliabilityScore: metrics.reliabilityScore.toString(),\n      totalTransactions: metrics.totalTransactions,\n      onTimeDeliveries: metrics.onTimeDeliveries,\n      lateDeliveries: metrics.lateDeliveries,\n      totalBids: metrics.totalBids,\n      acceptedBids: metrics.acceptedBids,\n      isRecommended: metrics.isRecommended,\n      updatedAt: new Date(),\n    })\n    .where(eq(users.id, userId));\n}\n\nexport async function autoUpdateRWSOnTransactionComplete(\n  transactionId: string\n): Promise<void> {\n  const transaction = await db\n    .select()\n    .from(transactions)\n    .where(eq(transactions.id, transactionId))\n    .limit(1);\n\n  if (transaction.length === 0 || transaction[0].status !== \"completed\") {\n    return;\n  }\n\n  const { shipperId, carrierId } = transaction[0];\n\n  await updateUserRWS(shipperId);\n  await updateUserRWS(carrierId);\n}\n\nexport async function autoUpdateRWSOnBidAccepted(bidId: string): Promise<void> {\n  const bid = await db\n    .select()\n    .from(bids)\n    .where(eq(bids.id, bidId))\n    .limit(1);\n\n  if (bid.length === 0 || bid[0].status !== \"accepted\") {\n    return;\n  }\n\n  await updateUserRWS(bid[0].carrierId);\n}\n","size_bytes":4239},"client/src/components/ExtendedRWSScore.tsx":{"content":"import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { \n  TrendingUp, \n  Clock, \n  CheckCircle2, \n  Award,\n  Target,\n  ThumbsUp\n} from \"lucide-react\";\nimport RecommendedBadge from \"./RecommendedBadge\";\n\ninterface ExtendedRWSData {\n  rwsScore: number;\n  otdRate: number;\n  acceptanceRate: number;\n  reliabilityScore: number;\n  totalTransactions: number;\n  onTimeDeliveries: number;\n  lateDeliveries: number;\n  totalBids: number;\n  acceptedBids: number;\n  isRecommended: boolean;\n}\n\ninterface ExtendedRWSScoreProps {\n  data: ExtendedRWSData;\n  variant?: \"full\" | \"compact\";\n}\n\nexport default function ExtendedRWSScore({ data, variant = \"full\" }: ExtendedRWSScoreProps) {\n  const getScoreColor = (score: number) => {\n    if (score >= 85) return \"text-green-600 dark:text-green-400\";\n    if (score >= 70) return \"text-yellow-600 dark:text-yellow-400\";\n    if (score >= 50) return \"text-orange-600 dark:text-orange-400\";\n    return \"text-red-600 dark:text-red-400\";\n  };\n\n  const getScoreBgColor = (score: number) => {\n    if (score >= 85) return \"bg-green-500/10 border-green-500/20\";\n    if (score >= 70) return \"bg-yellow-500/10 border-yellow-500/20\";\n    if (score >= 50) return \"bg-orange-500/10 border-orange-500/20\";\n    return \"bg-red-500/10 border-red-500/20\";\n  };\n\n  const getProgressColor = (value: number) => {\n    if (value >= 85) return \"bg-green-500\";\n    if (value >= 70) return \"bg-yellow-500\";\n    if (value >= 50) return \"bg-orange-500\";\n    return \"bg-red-500\";\n  };\n\n  if (variant === \"compact\") {\n    return (\n      <div className=\"flex items-center gap-4\">\n        <div className={`flex items-center gap-2 px-4 py-2 rounded-lg border ${getScoreBgColor(data.rwsScore)}`}>\n          <Award className={`w-5 h-5 ${getScoreColor(data.rwsScore)}`} />\n          <div>\n            <div className={`text-2xl font-bold font-mono ${getScoreColor(data.rwsScore)}`}>\n              {data.rwsScore}\n            </div>\n            <div className=\"text-xs text-muted-foreground\">RWS Score</div>\n          </div>\n        </div>\n        {data.isRecommended && <RecommendedBadge isRecommended={true} size=\"md\" />}\n      </div>\n    );\n  }\n\n  return (\n    <Card data-testid=\"card-extended-rws\">\n      <CardHeader>\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Award className=\"w-5 h-5 text-primary\" />\n              –†–µ–ø—É—Ç–∞—Ü–∏–æ–Ω–Ω–∞—è –°–∏—Å—Ç–µ–º–∞ RWS 2.0\n            </CardTitle>\n            <CardDescription>\n              –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏\n            </CardDescription>\n          </div>\n          {data.isRecommended && <RecommendedBadge isRecommended={true} size=\"lg\" />}\n        </div>\n      </CardHeader>\n      <CardContent className=\"space-y-6\">\n        <div className={`p-6 rounded-lg border ${getScoreBgColor(data.rwsScore)} text-center`}>\n          <div className=\"flex items-center justify-center gap-3 mb-2\">\n            <TrendingUp className={`w-8 h-8 ${getScoreColor(data.rwsScore)}`} />\n            <div className={`text-5xl font-bold font-mono ${getScoreColor(data.rwsScore)}`}>\n              {data.rwsScore}\n            </div>\n          </div>\n          <div className=\"text-sm font-medium text-muted-foreground\">\n            –û–±—â–∏–π RWS Score\n          </div>\n          <div className=\"text-xs text-muted-foreground mt-1\">\n            –Ω–∞ –æ—Å–Ω–æ–≤–µ {data.totalTransactions} —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div className=\"space-y-3 p-4 rounded-lg bg-card border\" data-testid=\"metric-otd\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <Clock className=\"w-4 h-4 text-blue-500\" />\n                <span className=\"font-medium text-sm\">On-Time Delivery</span>\n              </div>\n              <span className={`text-lg font-bold font-mono ${getScoreColor(data.otdRate)}`}>\n                {data.otdRate.toFixed(1)}%\n              </span>\n            </div>\n            <Progress \n              value={data.otdRate} \n              className=\"h-2\"\n            />\n            <div className=\"flex items-center justify-between text-xs text-muted-foreground\">\n              <span>–í–æ–≤—Ä–µ–º—è: {data.onTimeDeliveries}</span>\n              <span>–û–ø–æ–∑–¥–∞–Ω–∏–π: {data.lateDeliveries}</span>\n            </div>\n          </div>\n\n          <div className=\"space-y-3 p-4 rounded-lg bg-card border\" data-testid=\"metric-acceptance\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <ThumbsUp className=\"w-4 h-4 text-green-500\" />\n                <span className=\"font-medium text-sm\">Acceptance Rate</span>\n              </div>\n              <span className={`text-lg font-bold font-mono ${getScoreColor(data.acceptanceRate)}`}>\n                {data.acceptanceRate.toFixed(1)}%\n              </span>\n            </div>\n            <Progress \n              value={data.acceptanceRate} \n              className=\"h-2\"\n            />\n            <div className=\"flex items-center justify-between text-xs text-muted-foreground\">\n              <span>–ü—Ä–∏–Ω—è—Ç–æ: {data.acceptedBids}</span>\n              <span>–í—Å–µ–≥–æ —Å—Ç–∞–≤–æ–∫: {data.totalBids}</span>\n            </div>\n          </div>\n\n          <div className=\"space-y-3 p-4 rounded-lg bg-card border\" data-testid=\"metric-reliability\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <Target className=\"w-4 h-4 text-purple-500\" />\n                <span className=\"font-medium text-sm\">Reliability Score</span>\n              </div>\n              <span className={`text-lg font-bold font-mono ${getScoreColor(data.reliabilityScore)}`}>\n                {data.reliabilityScore.toFixed(1)}\n              </span>\n            </div>\n            <Progress \n              value={data.reliabilityScore} \n              className=\"h-2\"\n            />\n            <div className=\"text-xs text-muted-foreground\">\n              –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏\n            </div>\n          </div>\n\n          <div className=\"space-y-3 p-4 rounded-lg bg-card border\" data-testid=\"metric-transactions\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <CheckCircle2 className=\"w-4 h-4 text-emerald-500\" />\n                <span className=\"font-medium text-sm\">Total Activity</span>\n              </div>\n            </div>\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <div className=\"text-2xl font-bold font-mono text-primary\">\n                  {data.totalTransactions}\n                </div>\n                <div className=\"text-xs text-muted-foreground\">–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</div>\n              </div>\n              <div>\n                <div className=\"text-2xl font-bold font-mono text-primary\">\n                  {data.totalBids}\n                </div>\n                <div className=\"text-xs text-muted-foreground\">–°—Ç–∞–≤–æ–∫</div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"p-4 rounded-lg bg-muted/50\">\n          <h4 className=\"font-semibold text-sm mb-3 flex items-center gap-2\">\n            <Award className=\"w-4 h-4\" />\n            –ö—Ä–∏—Ç–µ—Ä–∏–∏ –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞ \"–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω\"\n          </h4>\n          <div className=\"space-y-2 text-sm\">\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-muted-foreground\">–ú–∏–Ω–∏–º—É–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</span>\n              <Badge variant={data.totalTransactions >= 5 ? \"default\" : \"secondary\"}>\n                {data.totalTransactions >= 5 ? \"‚úì\" : \"‚úó\"} {data.totalTransactions}/5\n              </Badge>\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-muted-foreground\">OTD Rate</span>\n              <Badge variant={data.otdRate >= 85 ? \"default\" : \"secondary\"}>\n                {data.otdRate >= 85 ? \"‚úì\" : \"‚úó\"} {data.otdRate.toFixed(1)}%/85%\n              </Badge>\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-muted-foreground\">Acceptance Rate</span>\n              <Badge variant={data.acceptanceRate >= 70 ? \"default\" : \"secondary\"}>\n                {data.acceptanceRate >= 70 ? \"‚úì\" : \"‚úó\"} {data.acceptanceRate.toFixed(1)}%/70%\n              </Badge>\n            </div>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":8988},"client/src/components/RecommendedBadge.tsx":{"content":"import { BadgeCheck, Info } from \"lucide-react\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\n\ninterface RecommendedBadgeProps {\n  isRecommended: boolean;\n  size?: \"sm\" | \"md\" | \"lg\";\n  showTooltip?: boolean;\n}\n\nexport default function RecommendedBadge({ \n  isRecommended, \n  size = \"md\",\n  showTooltip = true \n}: RecommendedBadgeProps) {\n  if (!isRecommended) {\n    return null;\n  }\n\n  const sizeClasses = {\n    sm: \"text-xs px-2 py-0.5\",\n    md: \"text-sm px-3 py-1\",\n    lg: \"text-base px-4 py-1.5\"\n  };\n\n  const iconSizes = {\n    sm: \"w-3 h-3\",\n    md: \"w-4 h-4\",\n    lg: \"w-5 h-5\"\n  };\n\n  const badge = (\n    <Badge \n      className={`bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:from-green-600 hover:to-emerald-700 border-0 ${sizeClasses[size]} flex items-center gap-1.5 font-semibold shadow-md`}\n      data-testid=\"badge-recommended\"\n    >\n      <BadgeCheck className={iconSizes[size]} />\n      –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω\n    </Badge>\n  );\n\n  if (!showTooltip) {\n    return badge;\n  }\n\n  return (\n    <TooltipProvider>\n      <Tooltip>\n        <TooltipTrigger asChild>\n          {badge}\n        </TooltipTrigger>\n        <TooltipContent className=\"max-w-xs\">\n          <div className=\"space-y-2\">\n            <div className=\"flex items-center gap-2 font-semibold text-green-600 dark:text-green-400\">\n              <Info className=\"w-4 h-4\" />\n              –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–π –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫\n            </div>\n            <p className=\"text-sm text-muted-foreground\">\n              –≠—Ç–æ—Ç –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫ –ø–æ–ª—É—á–∏–ª —Å—Ç–∞—Ç—É—Å \"–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω\" –∑–∞ –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—Ç—ã:\n            </p>\n            <ul className=\"text-xs space-y-1 list-disc pl-4 text-muted-foreground\">\n              <li>–ú–∏–Ω–∏–º—É–º 5 –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</li>\n              <li>85%+ –¥–æ—Å—Ç–∞–≤–æ–∫ –≤–æ–≤—Ä–µ–º—è (OTD)</li>\n              <li>70%+ –ø—Ä–∏–Ω—è—Ç—ã—Ö –∑–∞—è–≤–æ–∫</li>\n              <li>–°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥ 4.0+</li>\n            </ul>\n          </div>\n        </TooltipContent>\n      </Tooltip>\n    </TooltipProvider>\n  );\n}\n","size_bytes":2244}},"version":2}